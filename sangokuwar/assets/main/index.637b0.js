window.__require=function e(t,n,i){function o(s,r){if(!n[s]){if(!t[s]){var c=s.split("/");if(c=c[c.length-1],!t[c]){var d="function"==typeof __require&&__require;if(!r&&d)return d(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){return o(t[s][1][e]||e)},l,l.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<i.length;s++)o(i[s]);return o}({ATAndroidBannerJS:[function(e,t){"use strict";cc._RF.push(t,"a532cMunKpK36uiBZqlxqN+","ATAndroidBannerJS");var n="com/anythink/cocosjs/ATBannerJSBridge",i=i||{loadBanner:function(e,t){cc.log("Android-loadBanner:"+t),jsb.reflection.callStaticMethod(n,"load","(Ljava/lang/String;Ljava/lang/String;)V",e,t)},setAdListener:function(e){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(n,"setAdListener","(Ljava/lang/String;)V",e)},hasAdReady:function(e){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(n,"isAdReady","(Ljava/lang/String;)Z",e)},checkAdStatus:function(e){return cc.log("Android-checkAdStatus:"+e),jsb.reflection.callStaticMethod(n,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",e)},showAdInPosition:function(e,t){cc.log("Android-showAdInPosistion"),jsb.reflection.callStaticMethod(n,"showWithPosition","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,t,"")},showAdInPositionAndScenario:function(e,t,i){cc.log("Android-showAdInPositionAndScenario"),jsb.reflection.callStaticMethod(n,"showWithPosition","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,t,i)},showAdInRectangle:function(e,t){cc.log("Android-showAdInRectangle"),jsb.reflection.callStaticMethod(n,"showWithRect","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,t,"")},showAdInRectangleAndScenario:function(e,t,i){cc.log("Android-showAdInRectangleAndScenario"),jsb.reflection.callStaticMethod(n,"showWithRect","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,t,i)},removeAd:function(e){cc.log("Android-removeAd"),jsb.reflection.callStaticMethod(n,"remove","(Ljava/lang/String;)V",e)},reShowAd:function(e){cc.log("Android-reShowAd"),jsb.reflection.callStaticMethod(n,"reshow","(Ljava/lang/String;)V",e)},hideAd:function(e){cc.log("Android-hideAd"),jsb.reflection.callStaticMethod(n,"hide","(Ljava/lang/String;)V",e)}};t.exports=i,cc._RF.pop()},{}],ATAndroidInterstitialJS:[function(e,t){"use strict";cc._RF.push(t,"c2bb3nWUTdLYZpKf9/860iH","ATAndroidInterstitialJS");var n="com/anythink/cocosjs/ATInterstitialJSBridge",i=i||{loadInterstitial:function(e,t){cc.log("Android-loadInterstitial"),jsb.reflection.callStaticMethod(n,"load","(Ljava/lang/String;Ljava/lang/String;)V",e,t)},setAdListener:function(e){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(n,"setAdListener","(Ljava/lang/String;)V",e)},hasAdReady:function(e){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(n,"isAdReady","(Ljava/lang/String;)Z",e)},checkAdStatus:function(e){return cc.log("Android-checkAdStatus:"+e),jsb.reflection.callStaticMethod(n,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",e)},showAd:function(e){cc.log("Android-showAd:"+e),jsb.reflection.callStaticMethod(n,"show","(Ljava/lang/String;)V",e)},showAdInScenario:function(e,t){cc.log("Android-showAdInScenario:"+e+"---"+t),jsb.reflection.callStaticMethod(n,"show","(Ljava/lang/String;Ljava/lang/String;)V",e,t)}};t.exports=i,cc._RF.pop()},{}],ATAndroidJS:[function(e,t){"use strict";cc._RF.push(t,"fdded4/pqpKf6GwB81tTsMi","ATAndroidJS");var n="com/anythink/cocosjs/ATJSBridge",i=i||{printJsLog:function(e){null!=e&&null!=e&&jsb.reflection.callStaticMethod("android/util/Log","i","(Ljava/lang/String;Ljava/lang/String;)I","AT-Cocos-JS",e)},initSDK:function(e,t){jsb.reflection.callStaticMethod(n,"initSDK","(Ljava/lang/String;Ljava/lang/String;)V",e,t)},initCustomMap:function(e){jsb.reflection.callStaticMethod(n,"initCustomMap","(Ljava/lang/String;)V",e)},setPlacementCustomMap:function(e,t){jsb.reflection.callStaticMethod(n,"setPlacementCustomMap","(Ljava/lang/String;Ljava/lang/String;)V",e,t)},setGDPRLevel:function(e){jsb.reflection.callStaticMethod(n,"setGDPRLevel","(I)V",e)},getGDPRLevel:function(){return jsb.reflection.callStaticMethod(n,"getGDPRLevel","()I")},getUserLocation:function(e){jsb.reflection.callStaticMethod(n,"getUserLocation","(Ljava/lang/String;)V",e)},showGDPRAuth:function(){jsb.reflection.callStaticMethod(n,"showGDPRAuth","()V")},setLogDebug:function(e){jsb.reflection.callStaticMethod(n,"setLogDebug","(Z)V",e)},deniedUploadDeviceInfo:function(e){jsb.reflection.callStaticMethod(n,"deniedUploadDeviceInfo","(Ljava/lang/String;)V",e)}};t.exports=i,cc._RF.pop()},{}],ATAndroidNativeJS:[function(e,t){"use strict";cc._RF.push(t,"0b9f5CJK+RDIYBbv+dLlMJp","ATAndroidNativeJS");var n="com/anythink/cocosjs/ATNativeJSBridge",i=i||{loadNative:function(e,t){cc.log("Android-loadNative"),jsb.reflection.callStaticMethod(n,"load","(Ljava/lang/String;Ljava/lang/String;)V",e,t)},setAdListener:function(e){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(n,"setAdListener","(Ljava/lang/String;)V",e)},hasAdReady:function(e){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(n,"isAdReady","(Ljava/lang/String;)Z",e)},checkAdStatus:function(e){return cc.log("Android-checkAdStatus:"+e),jsb.reflection.callStaticMethod(n,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",e)},showAd:function(e,t){cc.log("Android-showAd"),jsb.reflection.callStaticMethod(n,"show","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,t,"")},showAdInScenario:function(e,t,i){cc.log("Android-showAdInScenario"),jsb.reflection.callStaticMethod(n,"show","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,t,i)},removeAd:function(e){cc.log("Android-removeAd"),jsb.reflection.callStaticMethod(n,"remove","(Ljava/lang/String;)V",e)}};t.exports=i,cc._RF.pop()},{}],ATAndroidRewardedVideoJS:[function(e,t){"use strict";cc._RF.push(t,"ee51b/b7KtH+JMM9RU/McRV","ATAndroidRewardedVideoJS");var n="com/anythink/cocosjs/ATRewardedVideoJSBridge",i=i||{loadRewardedVideo:function(e,t){cc.log("Android-loadRewardedVideo"),jsb.reflection.callStaticMethod(n,"load","(Ljava/lang/String;Ljava/lang/String;)V",e,t)},setAdListener:function(e){cc.log("Android-setAdListener"),jsb.reflection.callStaticMethod(n,"setAdListener","(Ljava/lang/String;)V",e)},hasAdReady:function(e){return cc.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(n,"isAdReady","(Ljava/lang/String;)Z",e)},checkAdStatus:function(e){return cc.log("Android-checkAdStatus:"+e),jsb.reflection.callStaticMethod(n,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",e)},showAd:function(e){cc.log("Android-rv_showAd:"+e),jsb.reflection.callStaticMethod(n,"show","(Ljava/lang/String;)V",e)},showAdInScenario:function(e,t){cc.log("Android-rv_showAdInScenario:"+e+"---"+t),jsb.reflection.callStaticMethod(n,"show","(Ljava/lang/String;Ljava/lang/String;)V",e,t)}};t.exports=i,cc._RF.pop()},{}],ATBannerJSSDK:[function(e,t){"use strict";cc._RF.push(t,"1070dIKUjlPwoGw8x1Z2qKf","ATBannerJSSDK");var n=e("./Android/ATAndroidBannerJS"),i=e("./iOS/ATiOSBannerJS"),o=cc.sys.os===cc.sys.OS_IOS?i:cc.sys.os===cc.sys.OS_ANDROID?n:void 0,a=a||{kATBannerAdLoadingExtraBannerAdSizeStruct:"banner_ad_size_struct",kATBannerAdShowingPositionTop:"top",kATBannerAdShowingPositionBottom:"bottom",kATBannerAdInlineAdaptiveWidth:"inline_adaptive_width",kATBannerAdInlineAdaptiveOrientation:"inline_adaptive_orientation",kATBannerAdInlineAdaptiveOrientationCurrent:0,kATBannerAdInlineAdaptiveOrientationPortrait:1,kATBannerAdInlineAdaptiveOrientationLandscape:2,kATBannerAdAdaptiveWidth:"adaptive_width",kATBannerAdAdaptiveOrientation:"adaptive_orientation",kATBannerAdAdaptiveOrientationCurrent:0,kATBannerAdAdaptiveOrientationPortrait:1,kATBannerAdAdaptiveOrientationLandscape:2,ATBannerListener:{developerCallback:null,onBannerAdLoaded:function(e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdLoaded&&null!=this.developerCallback.onBannerAdLoaded&&this.developerCallback.onBannerAdLoaded(e)},onBannerAdLoadFail:function(e,t){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdLoadFail&&null!=this.developerCallback.onBannerAdLoadFail&&this.developerCallback.onBannerAdLoadFail(e,t)},onBannerAdShow:function(e,t){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdShow&&null!=this.developerCallback.onBannerAdShow&&this.developerCallback.onBannerAdShow(e,t)},onBannerAdClick:function(e,t){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdClick&&null!=this.developerCallback.onBannerAdClick&&this.developerCallback.onBannerAdClick(e,t)},onBannerAdAutoRefresh:function(e,t){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdAutoRefresh&&null!=this.developerCallback.onBannerAdAutoRefresh&&this.developerCallback.onBannerAdAutoRefresh(e,t)},onBannerAdAutoRefreshFail:function(e,t){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdAutoRefreshFail&&null!=this.developerCallback.onBannerAdAutoRefreshFail&&this.developerCallback.onBannerAdAutoRefreshFail(e,t)},onBannerAdCloseButtonTapped:function(e,t){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdCloseButtonTapped&&null!=this.developerCallback.onBannerAdCloseButtonTapped&&this.developerCallback.onBannerAdCloseButtonTapped(e,t)}},loadBanner:function(e,t){if(void 0===t&&(t={}),null!=o&&null!=o){if(t.hasOwnProperty(a.kATBannerAdLoadingExtraBannerAdSizeStruct)){var n=t[a.kATBannerAdLoadingExtraBannerAdSizeStruct];t.width=n.width,t.height=n.height}o.loadBanner(e,JSON.stringify(t))}else cc.log("You must run on Android or iOS.")},setAdListener:function(e){var t={};t[s]="ATBannerJSSDK.ATBannerListener.onBannerAdLoaded",t[r]="ATBannerJSSDK.ATBannerListener.onBannerAdLoadFail",t[c]="ATBannerJSSDK.ATBannerListener.onBannerAdCloseButtonTapped",t[d]="ATBannerJSSDK.ATBannerListener.onBannerAdClick",t[l]="ATBannerJSSDK.ATBannerListener.onBannerAdShow",t[h]="ATBannerJSSDK.ATBannerListener.onBannerAdAutoRefresh",t[u]="ATBannerJSSDK.ATBannerListener.onBannerAdAutoRefreshFail",null!=o&&null!=o?o.setAdListener(JSON.stringify(t)):cc.log("You must run on Android or iOS."),this.ATBannerListener.developerCallback=e},hasAdReady:function(e){return null!=o&&null!=o?o.hasAdReady(e):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(e){return null!=o&&null!=o?o.checkAdStatus(e):(cc.log("You must run on Android or iOS."),"")},showAdInPosition:function(e,t){null!=o&&null!=o?o.showAdInPosition(e,t):cc.log("You must run on Android or iOS.")},showAdInPositionAndScenario:function(e,t,n){null!=o&&null!=o?o.showAdInPosition(e,t,n):cc.log("You must run on Android or iOS.")},showAdInRectangle:function(e,t){null!=o&&null!=o?o.showAdInRectangle(e,JSON.stringify(t)):cc.log("You must run on Android or iOS.")},showAdInRectangleAndScenario:function(e,t,n){null!=o&&null!=o?o.showAdInRectangle(e,JSON.stringify(t),n):cc.log("You must run on Android or iOS.")},removeAd:function(e){null!=o&&null!=o?o.removeAd(e):cc.log("You must run on Android or iOS.")},reShowAd:function(e){null!=o&&null!=o?o.reShowAd(e):cc.log("You must run on Android or iOS.")},hideAd:function(e){null!=o&&null!=o?o.hideAd(e):cc.log("You must run on Android or iOS.")},createLoadAdSize:function(e,t){var n={};return n.width=e,n.height=t,n},createShowAdRect:function(e,t,n,i){var o={};return o.x=e,o.y=t,o.width=n,o.height=i,o}},s="BannerLoaded",r="BannerLoadFail",c="BannerCloseButtonTapped",d="BannerClick",l="BannerShow",h="BannerRefresh",u="BannerRefreshFail";window.ATBannerJSSDK=a,cc._RF.pop()},{"./Android/ATAndroidBannerJS":"ATAndroidBannerJS","./iOS/ATiOSBannerJS":"ATiOSBannerJS"}],ATInterstitialJSSDK:[function(e,t){"use strict";cc._RF.push(t,"986eaitmnxEXKnEfOJRTZJf","ATInterstitialJSSDK");var n=e("./iOS/ATiOSInterstitialJS"),i=e("./Android/ATAndroidInterstitialJS"),o=cc.sys.os===cc.sys.OS_IOS?n:cc.sys.os===cc.sys.OS_ANDROID?i:void 0,a=a||{UseRewardedVideoAsInterstitial:"UseRewardedVideoAsInterstitial",ATInterstitialListener:{developerCallback:null,onInterstitialAdLoaded:function(e){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdLoaded&&null!=this.developerCallback.onInterstitialAdLoaded&&this.developerCallback.onInterstitialAdLoaded(e)},onInterstitialAdLoadFail:function(e,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdLoadFail&&null!=this.developerCallback.onInterstitialAdLoadFail&&this.developerCallback.onInterstitialAdLoadFail(e,t)},onInterstitialAdShow:function(e,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdShow&&null!=this.developerCallback.onInterstitialAdShow&&this.developerCallback.onInterstitialAdShow(e,t)},onInterstitialAdStartPlayingVideo:function(e,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdStartPlayingVideo&&null!=this.developerCallback.onInterstitialAdStartPlayingVideo&&this.developerCallback.onInterstitialAdStartPlayingVideo(e,t)},onInterstitialAdEndPlayingVideo:function(e,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdEndPlayingVideo&&null!=this.developerCallback.onInterstitialAdEndPlayingVideo&&this.developerCallback.onInterstitialAdEndPlayingVideo(e,t)},onInterstitialAdFailedToPlayVideo:function(e,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdFailedToPlayVideo&&null!=this.developerCallback.onInterstitialAdFailedToPlayVideo&&this.developerCallback.onInterstitialAdFailedToPlayVideo(e,t)},onInterstitialAdFailedToShow:function(e){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdFailedToShow&&null!=this.developerCallback.onInterstitialAdFailedToShow&&this.developerCallback.onInterstitialAdFailedToShow(e)},onInterstitialAdClose:function(e,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdClose&&null!=this.developerCallback.onInterstitialAdClose&&this.developerCallback.onInterstitialAdClose(e,t)},onInterstitialAdClick:function(e,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdClick&&null!=this.developerCallback.onInterstitialAdClick&&this.developerCallback.onInterstitialAdClick(e,t)}},loadInterstitial:function(e,t){void 0===t&&(t={}),null!=o&&null!=o?o.loadInterstitial(e,JSON.stringify(t)):cc.log("You must run on Android or iOS.")},setAdListener:function(e){var t={};t[s]="ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdLoaded",t[r]="ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdLoadFail",t[c]="ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdStartPlayingVideo",t[d]="ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdEndPlayingVideo",t[l]="ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdFailedToPlayVideo",t[h]="ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdClose",t[u]="ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdClick",t[p]="ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdShow",t[g]="ATInterstitialJSSDK.ATInterstitialListener.onInterstitialAdFailedToShow",null!=o&&null!=o?o.setAdListener(JSON.stringify(t)):cc.log("You must run on Android or iOS."),this.ATInterstitialListener.developerCallback=e},hasAdReady:function(e){return null!=o&&null!=o?o.hasAdReady(e):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(e){return null!=o&&null!=o?o.checkAdStatus(e):(cc.log("You must run on Android or iOS."),"")},showAd:function(e){null!=o&&null!=o?o.showAd(e):cc.log("You must run on Android or iOS.")},showAdInScenario:function(e,t){void 0===t&&(t=""),null!=o&&null!=o?o.showAdInScenario(e,t):cc.log("You must run on Android or iOS.")}},s="InterstitialLoaded",r="InterstitialLoadFail",c="InterstitialPlayStart",d="InterstitialPlayEnd",l="InterstitialPlayFail",h="InterstitialClose",u="InterstitialClick",p="InterstitialAdShow",g="InterstitialAdShowFail";window.ATInterstitialJSSDK=a,cc._RF.pop()},{"./Android/ATAndroidInterstitialJS":"ATAndroidInterstitialJS","./iOS/ATiOSInterstitialJS":"ATiOSInterstitialJS"}],ATJSSDK:[function(e,t){"use strict";cc._RF.push(t,"27cb0eP+bhKX42d0HRH80YL","ATJSSDK");var n=e("./Android/ATAndroidJS"),i=e("./iOS/ATiOSJS"),o=!1,a=cc.sys.os===cc.sys.OS_IOS?i:cc.sys.os===cc.sys.OS_ANDROID?n:void 0,s=s||{kATUserLocationUnknown:0,kATUserLocationInEU:1,kATUserLocationOutOfEU:2,PERSONALIZED:0,NONPERSONALIZED:1,UNKNOWN:2,OS_VERSION_NAME:"os_vn",OS_VERSION_CODE:"os_vc",APP_PACKAGE_NAME:"package_name",APP_VERSION_NAME:"app_vn",APP_VERSION_CODE:"app_vc",BRAND:"brand",MODEL:"model",DEVICE_SCREEN_SIZE:"screen",MNC:"mnc",MCC:"mcc",LANGUAGE:"language",TIMEZONE:"timezone",USER_AGENT:"ua",ORIENTATION:"orient",NETWORK_TYPE:"network_type",INSTALLER:"it_src",ANDROID_ID:"android_id",GAID:"gaid",MAC:"mac",IMEI:"imei",OAID:"oaid",IDFA:"idfa",IDFV:"idfv",ATSDKListener:{userLocationCallback:null,getUserLocationCallback:function(e){null!=this.userLocationCallback&&null!=this.userLocationCallback&&this.userLocationCallback(e)}},initSDK:function(e,t){null!=a&&null!=a?a.initSDK(e,t):cc.log("You must run on Android or iOS.")},initCustomMap:function(e){null!=a&&null!=a?null!=e&&null!=e&&a.initCustomMap(JSON.stringify(e)):cc.log("You must run on Android or iOS.")},setPlacementCustomMap:function(e,t){null!=a&&null!=a?null!=t&&null!=t&&a.setPlacementCustomMap(e,JSON.stringify(t)):cc.log("You must run on Android or iOS.")},setGDPRLevel:function(e){null!=a&&null!=a?a.setGDPRLevel(e):cc.log("You must run on Android or iOS.")},getGDPRLevel:function(){return null!=a&&null!=a?a.getGDPRLevel():(cc.log("You must run on Android or iOS."),this.UNKNOWN)},getUserLocation:function(e){this.ATSDKListener.userLocationCallback=e,null!=a&&null!=a?a.getUserLocation(r):cc.log("You must run on Android or iOS.")},showGDPRAuth:function(){null!=a&&null!=a?a.showGDPRAuth():cc.log("You must run on Android or iOS.")},setLogDebug:function(e){o=e,null!=a&&null!=a?a.setLogDebug(e):cc.log("You must run on Android or iOS.")},printLog:function(e){null!=e&&null!=e&&o&&null!=a&&(null!=a&&null!=a?a.printJsLog(e):cc.log("You must run on Android or iOS."))},deniedUploadDeviceInfo:function(e){if(null!=a&&null!=a){if(null!=e){for(var t=e.length,n="",i=0;i<t;i++){var o=e[i];n=0==i?o:n+","+o}cc.log("test__"+n),a.deniedUploadDeviceInfo(n)}}else cc.log("You must run on Android or iOS.")}},r="ATJSSDK.ATSDKListener.getUserLocationCallback";window.ATJSSDK=s,cc._RF.pop()},{"./Android/ATAndroidJS":"ATAndroidJS","./iOS/ATiOSJS":"ATiOSJS"}],ATNativeJSSDK:[function(e,t){"use strict";cc._RF.push(t,"0356alLeUxB+ZhC/R9gbtRv","ATNativeJSSDK");var n=e("./Android/ATAndroidNativeJS"),i=e("./iOS/ATiOSNativeJS"),o=cc.sys.os===cc.sys.OS_IOS?i:cc.sys.os===cc.sys.OS_ANDROID?n:void 0,a=a||{ATNativeListener:{developerCallback:null,onNativeAdLoaded:function(e){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdLoaded&&null!=this.developerCallback.onNativeAdLoaded&&this.developerCallback.onNativeAdLoaded(e)},onNativeAdLoadFail:function(e,t){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdLoadFail&&null!=this.developerCallback.onNativeAdLoadFail&&this.developerCallback.onNativeAdLoadFail(e,t)},onNativeAdShow:function(e,t){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdShow&&null!=this.developerCallback.onNativeAdShow&&this.developerCallback.onNativeAdShow(e,t)},onNativeAdClick:function(e,t){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdClick&&null!=this.developerCallback.onNativeAdClick&&this.developerCallback.onNativeAdClick(e,t)},onNativeAdVideoStart:function(e){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdVideoStart&&null!=this.developerCallback.onNativeAdVideoStart&&this.developerCallback.onNativeAdVideoStart(e)},onNativeAdVideoEnd:function(e){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdVideoEnd&&null!=this.developerCallback.onNativeAdVideoEnd&&this.developerCallback.onNativeAdVideoEnd(e)},onNativeAdCloseButtonTapped:function(e,t){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdCloseButtonTapped&&null!=this.developerCallback.onNativeAdCloseButtonTapped&&this.developerCallback.onNativeAdCloseButtonTapped(e,t)}},loadNative:function(e,t){void 0===t&&(t={}),null!=o&&null!=o?o.loadNative(e,JSON.stringify(t)):cc.log("You must run on Android or iOS.")},setAdListener:function(e){var t={};t[s]="ATNativeJSSDK.ATNativeListener.onNativeAdLoaded",t[r]="ATNativeJSSDK.ATNativeListener.onNativeAdLoadFail",t[c]="ATNativeJSSDK.ATNativeListener.onNativeAdCloseButtonTapped",t[d]="ATNativeJSSDK.ATNativeListener.onNativeAdClick",t[l]="ATNativeJSSDK.ATNativeListener.onNativeAdShow",t[h]="ATNativeJSSDK.ATNativeListener.onNativeAdVideoStart",t[u]="ATNativeJSSDK.ATNativeListener.onNativeAdVideoEnd",null!=o&&null!=o?o.setAdListener(JSON.stringify(t)):cc.log("You must run on Android or iOS."),this.ATNativeListener.developerCallback=e},hasAdReady:function(e){return null!=o&&null!=o?o.hasAdReady(e):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(e){return null!=o&&null!=o?o.checkAdStatus(e):(cc.log("You must run on Android or iOS."),"")},showAd:function(e,t){null!=o&&null!=o?o.showAd(e,JSON.stringify(t.getAdViewProperty())):cc.log("You must run on Android or iOS.")},showAdInScenario:function(e,t,n){void 0===n&&(n=""),null!=o&&null!=o?o.showAdInScenario(e,JSON.stringify(t.getAdViewProperty()),n):cc.log("You must run on Android or iOS.")},removeAd:function(e){null!=o&&null!=o?o.removeAd(e):cc.log("You must run on Android or iOS.")},createLoadAdSize:function(e,t){var n={};return n.width=e,n.height=t,n},AdViewProperty:cc.Class({parent:null,appIcon:null,mainImage:null,title:null,desc:null,adLogo:null,cta:null,rating:null,dislike:null,createItemViewProperty:function(e,t,n,i,o,a,s,r){void 0===r&&(r=!1);var c={};return c.x=e,c.y=t,c.width=n,c.height=i,c.backgroundColor=o,c.textColor=a,c.textSize=s,c.isCustomClick=r,c},getAdViewProperty:function(){var e={};return null!=this.parent&&(e.parent=this.parent),null!=this.appIcon&&(e.icon=this.appIcon),null!=this.mainImage&&(e.mainImage=this.mainImage),null!=this.title&&(e.title=this.title),null!=this.desc&&(e.desc=this.desc),null!=this.adLogo&&(e.adLogo=this.adLogo),null!=this.cta&&(e.cta=this.cta),null!=this.rating&&(e.rating=this.rating),null!=this.dislike&&(e.dislike=this.dislike),e}})},s="NativeLoaded",r="NativeLoadFail",c="NativeCloseButtonTapped",d="NativeClick",l="NativeShow",h="NativeVideoStart",u="NativeVideoEnd";window.ATNativeJSSDK=a,cc._RF.pop()},{"./Android/ATAndroidNativeJS":"ATAndroidNativeJS","./iOS/ATiOSNativeJS":"ATiOSNativeJS"}],ATRewardedVideoJSSDK:[function(e,t){"use strict";cc._RF.push(t,"3dd3fVyHSBL+4XEMTmDT8PK","ATRewardedVideoJSSDK");var n=e("./Android/ATAndroidRewardedVideoJS"),i=e("./iOS/ATiOSRewardedVideoJS"),o=cc.sys.os===cc.sys.OS_IOS?i:cc.sys.os===cc.sys.OS_ANDROID?n:void 0,a=a||{userIdKey:"userID",userDataKey:"media_ext",ATRewardedVideoListener:{developerCallback:null,onRewardedVideoAdLoaded:function(e){ATJSSDK.printLog("ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdLoaded("+e+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdLoaded&&null!=this.developerCallback.onRewardedVideoAdLoaded&&this.developerCallback.onRewardedVideoAdLoaded(e)},onRewardedVideoAdFailed:function(e,t){ATJSSDK.printLog("ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdFailed("+e+", "+t+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdFailed&&null!=this.developerCallback.onRewardedVideoAdFailed&&this.developerCallback.onRewardedVideoAdFailed(e,t)},onRewardedVideoAdPlayStart:function(e,t){ATJSSDK.printLog("ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayStart("+e+", "+t+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayStart&&null!=this.developerCallback.onRewardedVideoAdPlayStart&&this.developerCallback.onRewardedVideoAdPlayStart(e,t)},onRewardedVideoAdPlayEnd:function(e,t){ATJSSDK.printLog("ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayEnd("+e+", "+t+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayEnd&&null!=this.developerCallback.onRewardedVideoAdPlayEnd&&this.developerCallback.onRewardedVideoAdPlayEnd(e,t)},onRewardedVideoAdPlayFailed:function(e,t,n){ATJSSDK.printLog("ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayFailed("+e+", "+n+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayFailed&&null!=this.developerCallback.onRewardedVideoAdPlayFailed&&this.developerCallback.onRewardedVideoAdPlayFailed(e,t,n)},onRewardedVideoAdClosed:function(e,t){ATJSSDK.printLog("ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdClosed("+e+", "+t+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdClosed&&null!=this.developerCallback.onRewardedVideoAdClosed&&this.developerCallback.onRewardedVideoAdClosed(e,t)},onRewardedVideoAdPlayClicked:function(e,t){ATJSSDK.printLog("ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayClicked("+e+", "+t+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayClicked&&null!=this.developerCallback.onRewardedVideoAdPlayClicked&&this.developerCallback.onRewardedVideoAdPlayClicked(e,t)},onReward:function(e,t){ATJSSDK.printLog("ATRewardedVideoJSSDK.ATRewardedVideoListener.onReward("+e+", "+t+")"),null!=this.developerCallback&&null!=this.developerCallback.onReward&&null!=this.developerCallback.onReward&&this.developerCallback.onReward(e,t)}},loadRewardedVideo:function(e,t){void 0===t&&(t={}),null!=o&&null!=o?o.loadRewardedVideo(e,JSON.stringify(t)):cc.log("You must run on Android or iOS.")},setAdListener:function(e){var t={};t[s]="ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdLoaded",t[r]="ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdFailed",t[c]="ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayStart",t[d]="ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayEnd",t[l]="ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayFailed",t[h]="ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdClosed",t[u]="ATRewardedVideoJSSDK.ATRewardedVideoListener.onRewardedVideoAdPlayClicked",t[p]="ATRewardedVideoJSSDK.ATRewardedVideoListener.onReward",null!=o&&null!=o?o.setAdListener(JSON.stringify(t)):cc.log("You must run on Android or iOS."),this.ATRewardedVideoListener.developerCallback=e},hasAdReady:function(e){return null!=o&&null!=o?o.hasAdReady(e):(cc.log("You must run on Android or iOS."),!1)},checkAdStatus:function(e){return null!=o&&null!=o?o.checkAdStatus(e):(cc.log("You must run on Android or iOS."),"")},showAd:function(e){null!=o&&null!=o?o.showAd(e):cc.log("You must run on Android or iOS.")},showAdInScenario:function(e,t){void 0===t&&(t=""),null!=o&&null!=o?o.showAdInScenario(e,t):cc.log("You must run on Android or iOS.")}},s="RewardedVideoLoaded",r="RewardedVideoLoadFail",c="RewardedVideoPlayStart",d="RewardedVideoPlayEnd",l="RewardedVideoPlayFail",h="RewardedVideoClose",u="RewardedVideoClick",p="RewardedVideoReward";window.ATRewardedVideoJSSDK=a,cc._RF.pop()},{"./Android/ATAndroidRewardedVideoJS":"ATAndroidRewardedVideoJS","./iOS/ATiOSRewardedVideoJS":"ATiOSRewardedVideoJS"}],ATiOSBannerJS:[function(e,t){"use strict";cc._RF.push(t,"b88ef0zQPdLqrPdEgYGkpXi","ATiOSBannerJS");var n=e("ATiOSJS"),i=i||{loadBanner:function(e,t){n.printJsLog("ATiOSBannerJS::loadBanner("+e+", "+t+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","loadBannerWithPlacementID:extra:",e,t)},setAdListener:function(e){n.printJsLog("ATiOSBannerJS::setAdListener("+e+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","setDelegates:",e)},hasAdReady:function(e){return n.printJsLog("ATiOSBannerJS::hasAdReady("+e+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","bannerReadyForPlacementID:",e)},checkAdStatus:function(e){return n.printJsLog("ATiOSBannerJS::checkAdStatus("+e+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","bannerCheckAdStatusForPlacementID:",e)},showAdInPosition:function(e,t){n.printJsLog("ATiOSBannerJS::showAdInPosition("+e+", "+t+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","showBannerWithPlacementID:scene:position:",e,null,t)},showAdInPositionAndScenario:function(e,t,i){n.printJsLog("ATiOSBannerJS::showAdInPositionAndScenario("+e+", "+t+", "+i+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","showBannerWithPlacementID:scene:position:",e,i,t)},showAdInRectangle:function(e,t){n.printJsLog("ATiOSBannerJS::showAdInRectangle("+e+", "+t+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","showBannerWithPlacementID:scene:rect:",e,null,t)},showAdInRectangleAndScenario:function(e,t,i){n.printJsLog("ATiOSBannerJS::showAdInRectangleAndScenario("+e+", "+t+", "+i+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","showBannerWithPlacementID:scene:rect:",e,i,t)},removeAd:function(e){n.printJsLog("ATiOSBannerJS::removeAd("+e+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","removeAd:",e)},reShowAd:function(e){n.printJsLog("ATiOSBannerJS::reShowAd("+e+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","reShowAd:",e)},hideAd:function(e){n.printJsLog("ATiOSBannerJS::hideAd("+e+")"),jsb.reflection.callStaticMethod("ATBannerAdWrapper","hideAd:",e)}};t.exports=i,cc._RF.pop()},{ATiOSJS:"ATiOSJS"}],ATiOSInterstitialJS:[function(e,t){"use strict";cc._RF.push(t,"64f1dK15R9KEo7IlsGNf5QQ","ATiOSInterstitialJS");var n=e("ATiOSJS"),i="ATInterstitialAdWrapper",o=o||{loadInterstitial:function(e,t){n.printJsLog("ATiOSInterstitialJS::loadInterstitial("+e+", "+t+")"),jsb.reflection.callStaticMethod(i,"loadInterstitialWithPlacementID:extra:",e,t)},setAdListener:function(e){n.printJsLog("ATiOSInterstitialJS::setAdListener("+e+")"),jsb.reflection.callStaticMethod(i,"setDelegates:",e)},hasAdReady:function(e){return n.printJsLog("ATiOSInterstitialJS::hasAdReady("+e+")"),jsb.reflection.callStaticMethod(i,"interstitialReadyForPlacementID:",e)},checkAdStatus:function(e){return n.printJsLog("ATiOSInterstitialJS::checkAdStatus("+e+")"),jsb.reflection.callStaticMethod(i,"checkAdStatus:",e)},setUserData:function(){cc.log("Android-setUserData")},showAd:function(e){return n.printJsLog("ATiOSInterstitialJS::showAd("+e+")"),jsb.reflection.callStaticMethod(i,"showInterstitialWithPlacementID:scene:",e,null)},showAdInScenario:function(e,t){return n.printJsLog("ATiOSInterstitialJS::showAd("+e+", "+t+")"),jsb.reflection.callStaticMethod(i,"showInterstitialWithPlacementID:scene:",e,t)}};t.exports=o,cc._RF.pop()},{ATiOSJS:"ATiOSJS"}],ATiOSJS:[function(e,t){"use strict";cc._RF.push(t,"ce145Bt5EpNTZ+3AbpPP8Pp","ATiOSJS");var n=n||{initSDK:function(e,t){this.printJsLog("ATiOSJS::initSDK("+e+","+t+")"),jsb.reflection.callStaticMethod("ATSDKManager","startWithAppID:appKey:",e,t)},initCustomMap:function(e){this.printJsLog("ATiOSJS::initCustomMap("+e+")"),jsb.reflection.callStaticMethod("ATSDKManager","setCustomData:",e)},setPlacementCustomMap:function(e,t){this.printJsLog("ATiOSJS::setPlacementCustomMap("+e+", "+t+")"),jsb.reflection.callStaticMethod("ATSDKManager","setCustomData:forPlacementID:",t,e)},setGDPRLevel:function(e){this.printJsLog("ATiOSJS::setGDPRLevel("+e+")"),jsb.reflection.callStaticMethod("ATSDKManager","setDataConsent:",e)},getGDPRLevel:function(){return this.printJsLog("ATiOSJS::getGDPRLevel()"),jsb.reflection.callStaticMethod("ATSDKManager","dataConsent")},getUserLocation:function(e){this.printJsLog("ATiOSJS::getUserLocation("+e+")"),jsb.reflection.callStaticMethod("ATSDKManager","getUserLocationWithCallback:",e)},showGDPRAuth:function(){this.printJsLog("ATiOSJS::showGDPRAuth()"),jsb.reflection.callStaticMethod("ATSDKManager","presentDataConsentDialog")},setLogDebug:function(e){this.printJsLog("ATiOSJS::setLogDebug("+e+")"),jsb.reflection.callStaticMethod("ATSDKManager","setDebugLog:",e)},printJsLog:function(e){null!=e&&null!=e&&jsb.reflection.callStaticMethod("ATJSBridge","log:",e)},deniedUploadDeviceInfo:function(e){this.printJsLog("ATiOSJS::deniedUploadDeviceInfo("+e+")"),jsb.reflection.callStaticMethod("ATSDKManager","deniedUploadDeviceInfo:",e)}};t.exports=n,cc._RF.pop()},{}],ATiOSNativeJS:[function(e,t){"use strict";cc._RF.push(t,"6b259dk5rtA3Y06B32kScEt","ATiOSNativeJS");var n=e("ATiOSJS"),i=i||{loadNative:function(e,t){n.printJsLog("ATiOSBannerJS::loadNative("+e+", "+t+")"),jsb.reflection.callStaticMethod("ATNativeAdWrapper","loadNativeWithPlacementID:extra:",e,t)},setAdListener:function(e){n.printJsLog("ATiOSNativeJS::setAdListener("+e+")"),jsb.reflection.callStaticMethod("ATNativeAdWrapper","setDelegates:",e)},hasAdReady:function(e){return n.printJsLog("ATiOSNativeJS::hasAdReady("+e+")"),jsb.reflection.callStaticMethod("ATNativeAdWrapper","nativeReadyForPlacementID:",e)},checkAdStatus:function(e){return n.printJsLog("ATiOSNativeJS::checkAdStatus("+e+")"),jsb.reflection.callStaticMethod("ATNativeAdWrapper","nativeCheckAdStatusForPlacementID:",e)},showAd:function(e,t){n.printJsLog("ATiOSNativeJS::showAd("+e+", "+t+")"),jsb.reflection.callStaticMethod("ATNativeAdWrapper","showNativeWithPlacementID:scene:metrics:",e,null,t)},showAdInScenario:function(e,t,i){n.printJsLog("ATiOSNativeJS::showAdInScenario("+e+", "+t+", "+i+")"),jsb.reflection.callStaticMethod("ATNativeAdWrapper","showNativeWithPlacementID:scene:metrics:",e,i,t)},removeAd:function(e){n.printJsLog("ATiOSNativeJS::removeAd("+e+")"),jsb.reflection.callStaticMethod("ATNativeAdWrapper","removeNativeWithPlacementID:",e)}};t.exports=i,cc._RF.pop()},{ATiOSJS:"ATiOSJS"}],ATiOSRewardedVideoJS:[function(e,t){"use strict";cc._RF.push(t,"19066BSGcVOSIIMTqrisr7/","ATiOSRewardedVideoJS");var n=e("ATiOSJS"),i=i||{loadRewardedVideo:function(e,t){n.printJsLog("ATiOSRewardedVideoJS::loadRewardedVideo("+e+", "+t+")"),jsb.reflection.callStaticMethod("ATRewardedVideoWrapper","loadRewardedVideoWithPlacementID:extra:",e,t)},setAdListener:function(e){n.printJsLog("ATiOSRewardedVideoJS::setAdListener("+e+")"),jsb.reflection.callStaticMethod("ATRewardedVideoWrapper","setDelegates:",e)},hasAdReady:function(e){return n.printJsLog("ATiOSRewardedVideoJS::hasAdReady("+e+")"),jsb.reflection.callStaticMethod("ATRewardedVideoWrapper","rewardedVideoReadyForPlacementID:",e)},checkAdStatus:function(e){return n.printJsLog("ATiOSRewardedVideoJS::checkAdStatus("+e+")"),jsb.reflection.callStaticMethod("ATRewardedVideoWrapper","checkAdStatus:",e)},setUserData:function(){cc.log("Android-setUserData")},showAd:function(e){return n.printJsLog("ATiOSRewardedVideoJS::showAd("+e+")"),jsb.reflection.callStaticMethod("ATRewardedVideoWrapper","showRewardedVideoWithPlacementID:scene:",e,null)},showAdInScenario:function(e,t){return n.printJsLog("ATiOSRewardedVideoJS::showAdInScenario("+e+", "+t+")"),jsb.reflection.callStaticMethod("ATRewardedVideoWrapper","showRewardedVideoWithPlacementID:scene:",e,t)}};t.exports=i,cc._RF.pop()},{ATiOSJS:"ATiOSJS"}],CrazyBox:[function(e,t,n){"use strict";cc._RF.push(t,"03b4dr6dUhB8ZDiRupLsjSs","CrazyBox"),Object.defineProperty(n,"__esModule",{value:!0}),n.crazyType=void 0;var i,o=e("../SdkMgr"),a=e("../tyq-event-mgr"),s=cc._decorator,r=s.ccclass,c=s.property;(function(e){e[e.banner=0]="banner",e[e.reward=1]="reward",e[e.grid=2]="grid"})(i=n.crazyType||(n.crazyType={}));var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progress=null,t.btn=null,t.twn=new cc.Tween,t.addNum=0,t.cutNum=0,t.percent=0,t.canTouch=!0,t.callBack=null,t.times=0,t.gameTime=0,t._type=i.banner,t._clickTime=0,t._isShowAd=!1,t}return __extends(t,e),t.prototype.onLoad=function(){this.addNum=.1,this.cutNum=.005,this.percent=JSON.parse("[0.4,0.7]")[0]||.4},t.prototype.init=function(e,t){void 0===t&&(t=i.banner),this.unscheduleAllCallbacks(),this.node.active=!0,this.callBack=e,this.canTouch=!0,this.progress.progress=0,this._clickTime=0,this._type=t||i.banner,t!=i.banner&&t!=i.grid||cc.game.on(cc.game.EVENT_SHOW,this.onShow,this),t==i.banner?this.btn.setPosition(0,-200):this.btn.setPosition(250,-200),this._isShowAd=!1,this.canTouch=!0},t.prototype.openBtnFun=function(){this.canTouch&&(this.twn.stop(),this.progress.progress+=this.addNum,this._clickTime++,this.progress.progress>=this.percent&&!this._isShowAd&&this.showAd(),this.progress.progress>=1&&this.nextFun(!0))},t.prototype.nextFun=function(e){void 0===e&&(e=!1),this.canTouch=!1,this.callBack&&(this.callBack(e),this.callBack=null),this._type==i.banner?o.default.ins.hideBanner():(this._type,i.grid),this.unscheduleAllCallbacks(),this.node.destroy()},t.prototype.update=function(e){this.progress.progress>0?(this.gameTime+=e,this.progress.progress-=this.cutNum):this.gameTime=0},t.prototype.showAd=function(){var e=this;this._isShowAd=!0,this._type==i.banner?o.default.ins.showBanner(this.node):this._type==i.reward?(this.canTouch=!1,o.default.ins.watchAd("\u72c2\u70b9",function(){a.default.ins.sendEvent("\u72c2\u70b9","\u6fc0\u52b1\u89c6\u5c4f\u6210\u529f"),e.nextFun(!0)},function(){a.default.ins.sendEvent("\u72c2\u70b9","\u6fc0\u52b1\u89c6\u5c4f\u53d6\u6d88"),e.nextFun(!1)},function(){a.default.ins.sendEvent("\u72c2\u70b9","\u6fc0\u52b1\u89c6\u5c4f\u52a0\u8f7d\u5931\u8d25"),e.nextFun(!0)})):(this._type,i.grid)},t.prototype.onShow=function(){console.log("onshow"),this.nextFun(!0),o.default.ins.hideBanner(),this._type!=i.banner&&this._type!=i.grid||cc.game.off(cc.game.EVENT_SHOW,this.onShow,this)},__decorate([c({type:cc.ProgressBar,tooltip:"\u8fdb\u5ea6\u6761"})],t.prototype,"progress",void 0),__decorate([c({type:cc.Node,tooltip:"\u8fdb\u5ea6\u6761"})],t.prototype,"btn",void 0),__decorate([r],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../SdkMgr":"SdkMgr","../tyq-event-mgr":"tyq-event-mgr"}],DartAd:[function(e,t,n){"use strict";cc._RF.push(t,"64ff286B4hCuqd8uWQw0D2p","DartAd"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../tyq-sdk"),o=e("../tyq-view-mgr"),a=cc._decorator,s=a.ccclass,r=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spt_img=null,t.dartType=-1,t.adData={},t.btn_close=null,t.clickTime=0,t}return __extends(t,e),t.prototype.onLoad=function(){this.btn_close.active=!1},t.prototype.start=function(){var e=this;this.dartType!=i.EDartsType.grid&&i.tyqSDK.getConfigProbability("switchDartFullClickRate")&&this.node.on(cc.Node.EventType.TOUCH_START,function(){e.onclick()},this)},t.prototype.initData=function(e,t){var n=this;e&&(this.adData=e,this.dartType=t,cc.assetManager.loadRemote(e.img_name,function(e,t){e?console.error(e):n.spt_img&&(n.spt_img.spriteFrame=new cc.SpriteFrame(t),n.dartType==i.EDartsType.grid?(n.btn_close.active=!1,n.spt_img.node.setContentSize(60,60)):n.dartType==i.EDartsType.infoFlow?(n.btn_close.active=!0,n.btn_close.setPosition(n.spt_img.node.width/2-n.btn_close.width/2,n.spt_img.node.height/2-n.btn_close.height/2)):n.dartType==i.EDartsType.interstitial&&(n.btn_close.active=!0,n.btn_close.setPosition(n.spt_img.node.width/2-n.btn_close.width/2,n.spt_img.node.height/2-n.btn_close.height/2)))}))},t.prototype.onclick=function(){console.log("\u70b9\u51fb");var e=Date.now();if(e-this.clickTime<=500)console.log("\u9632\u6b62\u8fde\u7eed\u70b9\u51fb");else{console.log("\u5c55\u793a"),this.clickTime=e;var t=this.adData;0==parseInt(i.tyqSDK.getSwitchValue("switchActiveOnLoad"))&&i.tyqSDK.sendToAppLog(),t.is_h5?o.default.showLandPage(t):i.tyqSDK.onClickDart(t)}},t.prototype.onClickClose=function(){this.node.destroy()},__decorate([r(cc.Sprite)],t.prototype,"spt_img",void 0),__decorate([r(cc.Node)],t.prototype,"btn_close",void 0),__decorate([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{"../tyq-sdk":"tyq-sdk","../tyq-view-mgr":"tyq-view-mgr"}],LandPage:[function(e,t,n){"use strict";cc._RF.push(t,"cae9fV0619BDqdaY679u4a0","LandPage"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../tyq-sdk"),o=cc._decorator,a=o.ccclass,s=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.webView=null,t.adData={},t.closeCb=null,t}return __extends(t,e),t.prototype.start=function(){console.log("\u53d1\u9001\u5c55\u793a"),i.tyqSDK.sendDartAdStatus(this.adData.ads_id,i.EDartStatus.visit),this.webView.url=this.adData.h5_url,console.log(this.adData)},t.prototype.onLoad=function(){this.node.setContentSize(cc.winSize),this.webView.node.setContentSize(cc.winSize),this.webView.setJavascriptInterfaceScheme("tyq"),this.webView.setOnJSCallback(this.onJsCb.bind(this))},t.prototype.onJsCb=function(e,t){var n=t.replace("tyq://",""),o=this.parseStrToObj(n);switch(o.action){case"download":i.tyqSDK.onClickDart(this.adData);break;case"close":this.onClickClose();break;case"scheme":cc.sys.openURL(decodeURIComponent(o.url))}},t.prototype.initData=function(e,t){e&&(this.adData=e),t&&(this.closeCb=t)},t.prototype.onClickClose=function(){this.closeCb&&"function"==typeof this.closeCb&&(this.closeCb(),this.closeCb=null),this.node.destroy()},t.prototype.parseStrToObj=function(e){for(var t={},n=0,i=e.split("&");n<i.length;n++){var o=i[n].split("=");if(2==o.length){var a=o[0],s=o[1];t[a]=s}}return t},t.prototype.webViewEvent=function(e,t){t==cc.WebView.EventType.LOADED&&console.log("LOADEDLOADEDLOADEDLOADEDLOADEDLOADEDLOADEDLOADEDLOADEDLOADED")},t.prototype.onDestroy=function(){},__decorate([s(cc.WebView)],t.prototype,"webView",void 0),__decorate([a],t)}(cc.Component);n.default=r,cc._RF.pop()},{"../tyq-sdk":"tyq-sdk"}],MiAdMgr:[function(e,t,n){"use strict";cc._RF.push(t,"53a01mCfXRHk6DERvCAIy1y","MiAdMgr"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../tyq-event-mgr"),o=e("../tyq-sdk"),a=e("../view/MiFeedAd"),s=function(){function e(){this.launchTime=0,this.androidClass="org/cocos2dx/javascript/mi/MiAdMgr",this._showBannerNode=null,this._bannerCloseCb=null,this.rewardSuccess=null,this.rewardCancel=null,this.rewardFailCb=null,this.feedClickCb=null}return e.getInstance=function(){return null==this._instance&&(this._instance=new this),this._instance},Object.defineProperty(e,"ins",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),e.prototype.startGame=function(){this.launchTime=Date.now()},e.prototype.getLaunchTime=function(){return(Date.now()-this.launchTime)/1e3},e.prototype.showBanner=function(e){this._showBannerNode=e,cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.androidClass,"showBanner","()V"):console.error("please run on android")},e.prototype.destroyBanner=function(){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.androidClass,"destroyBanner","()V"):console.error("please run on android")},e.prototype.showInterstitial=function(){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.androidClass,"showInterstitial","()V"):console.error("please run on android")},e.prototype.destroyInterstitial=function(){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.androidClass,"destroyInterstitial","()V"):console.error("please run on android")},e.prototype.showReward=function(e,t,n,o){this.rewardSuccess=t,this.rewardCancel=n,this.rewardFailCb=o,cc.sys.os==cc.sys.OS_ANDROID?(i.default.getInstance().onAdShow(),jsb.reflection.callStaticMethod(this.androidClass,"showReward","()V")):console.error("please run on android")},e.prototype.onRewardShow=function(){i.default.getInstance().onAdShow()},e.prototype.onRewardResult=function(e){var t=this;setTimeout(function(){e?(o.tyqSDK.collectAdAction(3),i.default.getInstance().onAdSuccess(),t.rewardSuccess&&(t.rewardSuccess(),t.rewardSuccess=null)):(i.default.getInstance().onAdCancel(),t.rewardCancel&&(t.rewardCancel(),t.rewardCancel=null))},0)},e.prototype.onRewardLoadFail=function(){console.log("\u89c6\u9891\u52a0\u8f7d\u6216\u64ad\u653e\u5931\u8d25:"),o.tyqSDK.collectClickEvent("\u89c6\u9891\u52a0\u8f7d\u6216\u64ad\u653e\u5931\u8d25"),this.rewardFailCb&&(this.rewardFailCb(),this.rewardFailCb=null)},e.prototype.showNativeAd=function(){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.androidClass,"showNativeAd","()V"):console.error("please run on android")},e.prototype.onBannerLoad=function(){this._showBannerNode&&1==this._showBannerNode.active&&this.showBanner(this._showBannerNode)},e.prototype.setBannerCloseCb=function(e){this._bannerCloseCb=e},e.prototype.onBannerClose=function(){console.log("\u5173\u95edbanner"),this._bannerCloseCb&&(this._bannerCloseCb(),this._bannerCloseCb=null),this._showBannerNode=null},e.prototype.showFeedAd=function(){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.androidClass,"showFeedAd","()V"):console.error("please run on android")},e.prototype.setFeedClickArea=function(e,t,n,i){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.androidClass,"setFeedClickArea","(IIII)V",e,t,n,i):console.error("please run on android")},e.prototype.setFeedClickCb=function(e){this.feedClickCb=e},e.prototype.destroyFeed=function(){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.androidClass,"destroyFeedAd","()V"):console.error("please run on android")},e.prototype.onCloseFeed=function(){this.destroyFeed(),this.setFeedClickArea(0,0,0,0),this.feedClickCb=null},e.prototype.onFeedLoad=function(e){cc.resources.load("tyqRes/prefab/MiFeedAd",cc.Prefab,function(t,n){if(t)console.error(t);else{var i=cc.instantiate(n);cc.find("Canvas").addChild(i,cc.macro.MAX_ZINDEX),i.getComponent(a.default).init(e)}})},e.prototype.onFeedClick=function(){this.feedClickCb&&(this.feedClickCb(),this.feedClickCb=null)},e._instance=null,e}();n.default=s,window.MiAdMgr=s,cc._RF.pop()},{"../tyq-event-mgr":"tyq-event-mgr","../tyq-sdk":"tyq-sdk","../view/MiFeedAd":"MiFeedAd"}],MiFeedAd:[function(e,t,n){"use strict";cc._RF.push(t,"6ac6aE21M9Kd409ovj8uyV1","MiFeedAd"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Third/MiAdMgr"),o=e("../tyq-sdk"),a=cc._decorator,s=a.ccclass,r=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spt_img=null,t.label_title=null,t.label_des=null,t.label_tag=null,t.label_btnText=null,t.clickArea=null,t.maskNode=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(e){var t=this;void 0===e&&(e={}),console.log(e),e.title&&(this.label_title.string=e.title),e.des&&(this.label_des.string=e.des),e.imgUrl&&this.loadRemoteImg(e.imgUrl,this.spt_img),e.tag&&(this.label_tag.string=e.tag),e.btnText&&(this.label_btnText.string=e.btnText),e.icon&&console.log(e.icon),e.logo&&console.log(e.logo);var n=this.transPhoneSize(this.clickArea);o.tyqSDK.getSwitchValue("tyq_isFeedLargeScale")&&(n=this.transPhoneSize(this.maskNode)),i.default.getInstance().setFeedClickArea(n.left,n.top,n.width,n.height),i.default.getInstance().setFeedClickCb(function(){t.onClickClose()})},t.prototype.transPhoneSize=function(e){var t=cc.winSize,n=cc.view.getFrameSize(),i=n.width/t.width,o=n.height/t.height,a=e.width,s=e.height,r=e.convertToWorldSpaceAR(cc.v2(0,0));return{left:(r.x-a/2)*i,top:(t.height-r.y-s/2)*o,width:a*i,height:s*o}},t.prototype.onClickClose=function(){i.default.ins.onCloseFeed(),this.node.destroy()},t.prototype.loadRemoteImg=function(e,t){cc.assetManager.loadRemote(e,function(e,n){if(e)console.error(e);else{var i=new cc.SpriteFrame(n);t.spriteFrame=i}})},__decorate([r(cc.Sprite)],t.prototype,"spt_img",void 0),__decorate([r(cc.Label)],t.prototype,"label_title",void 0),__decorate([r(cc.Label)],t.prototype,"label_des",void 0),__decorate([r(cc.Label)],t.prototype,"label_tag",void 0),__decorate([r(cc.Label)],t.prototype,"label_btnText",void 0),__decorate([r(cc.Node)],t.prototype,"clickArea",void 0),__decorate([r(cc.Node)],t.prototype,"maskNode",void 0),__decorate([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{"../Third/MiAdMgr":"MiAdMgr","../tyq-sdk":"tyq-sdk"}],MiSdk:[function(e,t,n){"use strict";cc._RF.push(t,"ee6b6k57KZOSqznoX6cgauV","MiSdk"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this.androidClass="org/cocos2dx/javascript/mi/MiSdk"}return e.getInstance=function(){return null==this._instance&&(this._instance=new this),this._instance},Object.defineProperty(e,"ins",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),e.prototype.onUserAgreed=function(){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.androidClass,"onUserAgreed","()V"):console.error("please run on android")},e.prototype.login=function(){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.androidClass,"login","()V"):console.error("please run on android")},e.prototype.onLoginSuccess=function(e){console.log("\u5c0f\u7c73\u8d26\u53f7\u767b\u5f55\u6210\u529f,uid:",e)},e.prototype.onLoginFail=function(){console.log("\u767b\u5f55\u5931\u8d25"),this.login()},e.prototype.onLoginCancel=function(){console.log("\u53d6\u6d88"),this.login()},e._instance=null,e}();n.default=i,window.MiSdk=i,cc._RF.pop()},{}],OV_NativeAd:[function(e,t,n){"use strict";cc._RF.push(t,"dd6cbJD70hKWpVSlGbRPSXf","OV_NativeAd"),Object.defineProperty(n,"__esModule",{value:!0}),n.OV_NativeAd=void 0;var i=e("../Platform/oppoSDK/oppoAdMange"),o=e("../Platform/vivoSDK/Vivo"),a=e("../SdkMgr"),s=cc._decorator,r=s.ccclass,c=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._adId=null,t._closeCb=null,t._clickCb=null,t._clickLabelCb=null,t.isLoadSuccess=!1,t.spt_banner=null,t.lb_look=null,t.btn_continue=null,t.btn_look=null,t.node_close=null,t.taget=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.lb_look.node.active=!1,this.btn_continue.active=!1,this.btn_look.active=!1,this.node.active=!1},t.prototype.onClickNativeAd=function(){console.log("\u89e6\u6478\u5230\u539f\u751f\u5e7f\u544a"),console.log("\u53d1\u9001\u539f\u751f\u5e7f\u544a"),a.default.ins.getChannel()==a.Channel.VIVO?o.Vivo.clickNativeAd(this._adId):a.default.ins.getChannel()==a.Channel.OPPO&&i.OPPO.clickNativeAd(this._adId),this._clickCb&&(this._clickCb(),this._clickCb=null)},t.prototype.onContinueClick=function(){this.onClose()},t.prototype.onClose=function(){null!=this._closeCb&&(this._closeCb(),this._closeCb=null),this.node.destroy()},t.prototype.onClickLabel=function(){this._clickLabelCb&&(this._clickLabelCb(),this._clickLabelCb=null)},t.prototype.sendNative=function(){return!!this.isLoadSuccess&&(this.onClickNativeAd(),!0)},t.prototype.create=function(e,t){var n=this;a.default.ins.getChannel()==a.Channel.VIVO?o.Vivo.createNativeAd(function(t){n.onCreateAd(t),e&&e(n)},function(){n.onCreateFail(),t&&t(n)}):a.default.ins.getChannel()==a.Channel.OPPO?i.OPPO.createNativeAd(function(t){n.onCreateAd(t),e&&e(n)},function(){n.onCreateFail(),t&&t(n)}):e()},t.prototype.onCreateAd=function(e){var t=this;console.log("createNativeAd"),this.node.active=!0,this._adId=e.adId,this.loadRoteImg(e.imgUrlList[0],function(e){console.log("imgUrlList",e),t.spt_banner.spriteFrame=e}),this.isLoadSuccess=!0},t.prototype.onCreateFail=function(){this.node.active=!1,console.log("fail")},t.prototype.init=function(e,t,n,i,o){this.node.parent=e,this.node.setPosition(t),this.spt_banner.node.setContentSize(n),this.lb_look.node.y=n.height+17,this.node_close.setPosition(n.width/2-24,n.height-24),this.taget.setPosition(-n.width/2+this.taget.width/2,n.height-this.taget.height/2),this.create(i,o)},t.prototype.loadRoteImg=function(e,t){cc.loader.load(e,function(e,n){if(e);else{var i=new cc.SpriteFrame(n);t(i)}})},t.prototype.setTipLabel=function(e,t){return void 0===e&&(e="\u70b9\u51fb\u67e5\u770b"),this.lb_look.node.active=!0,this.lb_look.string=e,this._clickLabelCb=t,this.lb_look.node},t.prototype.setBottomTip=function(e,t){e&&(this.btn_continue.active=!0,this.btn_continue.children[0].getComponent(cc.Label).string=e),t&&(this.btn_look.active=!0,this.btn_look.children[0].getComponent(cc.Label).string=t)},t.prototype.setCloseCb=function(e){this._closeCb=e},t.prototype.setClickCb=function(e){this._clickCb=e},__decorate([c({type:cc.Sprite,tooltip:"ov\u539f\u751f"})],t.prototype,"spt_banner",void 0),__decorate([c(cc.Label)],t.prototype,"lb_look",void 0),__decorate([c(cc.Node)],t.prototype,"btn_continue",void 0),__decorate([c(cc.Node)],t.prototype,"btn_look",void 0),__decorate([c(cc.Node)],t.prototype,"node_close",void 0),__decorate([c(cc.Node)],t.prototype,"taget",void 0),__decorate([r],t)}(cc.Component);n.OV_NativeAd=d,cc._RF.pop()},{"../Platform/oppoSDK/oppoAdMange":"oppoAdMange","../Platform/vivoSDK/Vivo":"Vivo","../SdkMgr":"SdkMgr"}],Privacypolicy:[function(e,t,n){"use strict";cc._RF.push(t,"91c68OhcOJItrIlC413vNZ6","Privacypolicy"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../tyq-event-mgr"),o=e("../tyq-sdk"),a=cc._decorator,s=a.ccclass,r=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._useAgreeUrl="http://www.xmtyq.com/pages/game_user_negotiate.html",t._privacypolicyUrl="http://www.xmtyq.com/pages/gamenotice.html?gamename=%E5%90%AC%E6%88%91%E6%8C%87%E6%8C%A5",t.btn_agree=null,t.btn_exit=null,t.btn_close=null,t.webView=null,t.labelContent=null,t._callBack=null,t._privacy="tyq_littleHero_privacypolicy",t}return __extends(t,e),t.prototype.onLoad=function(){this.node.setContentSize(cc.winSize),this.node.getComponent(cc.BlockInputEvents)||this.node.addComponent(cc.BlockInputEvents),this.hideWebView()},t.prototype.init=function(e){void 0===e&&(e=void 0),this._callBack=e},t.prototype.start=function(){(o.tyqSDK.getSwitchValue("isHidePrivacy")||cc.sys.localStorage.getItem(this._privacy))&&(this.node.active=!1,this.node.destroy())},t.prototype.onClickAgree=function(){this.node.destroy()},t.prototype.onClickClose=function(){this.hideWebView()},t.prototype.onClickExit=function(){cc.game.end()},t.prototype.onClickUseAgree=function(){this.showWebView(this._useAgreeUrl)},t.prototype.onDestroy=function(){cc.sys.localStorage.setItem(this._privacy,"true"),this._callBack&&(this._callBack(),this._callBack=null),i.default.ins.onAgreeUseAgree()},t.prototype.onClickPrivacypolicy=function(){this.showWebView(this._privacypolicyUrl)},t.prototype.showWebView=function(e){this.webView.url=e,this.webView.node.active=!0,this.labelContent.active=!1},t.prototype.hideWebView=function(){this.webView.node.active=!1,this.labelContent.active=!0},__decorate([r(cc.Node)],t.prototype,"btn_agree",void 0),__decorate([r(cc.Node)],t.prototype,"btn_exit",void 0),__decorate([r(cc.Node)],t.prototype,"btn_close",void 0),__decorate([r(cc.WebView)],t.prototype,"webView",void 0),__decorate([r(cc.Node)],t.prototype,"labelContent",void 0),__decorate([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{"../tyq-event-mgr":"tyq-event-mgr","../tyq-sdk":"tyq-sdk"}],SdkMgr:[function(e,t,n){"use strict";cc._RF.push(t,"8702bA7UthHAZKMcbC2h8gR","SdkMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.sdkMgr=n.Channel=void 0;var i,o=e("./Platform/kuaishouSDK/kuaishou"),a=e("./Platform/meizuSDK/meizu"),s=e("./Platform/oppoSDK/oppoAdMange"),r=e("./Platform/toutiao/toutiao"),c=e("./Platform/vivoSDK/Vivo"),d=e("./Platform/wechat/wechat"),l=e("./Platform/xiaomiSDK/xiaomi"),h=e("./Third/AnyThinkAds/topOnMgr"),u=e("./view/OV_NativeAd"),p=e("./tyq_extend"),g=e("./tyq-sdk-config"),f=e("./tyq-sdk"),m=e("./tyq-view-mgr"),v=e("./Platform/wechat/WXCustomAd");(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.WECHAT=1]="WECHAT",e[e.TT=2]="TT",e[e.KS=3]="KS",e[e.OPPO=4]="OPPO",e[e.VIVO=5]="VIVO",e[e.MEIZU=6]="MEIZU",e[e.XIAOMI=7]="XIAOMI",e[e.ANDROID=8]="ANDROID",e[e.IOS=9]="IOS"})(i=n.Channel||(n.Channel={}));var b=function(){function e(){this._mediaRecorder=null,this.channel=i.DEFAULT,this._videoRes="",this._ovNativeAd=null,cc.sys.platform==cc.sys.BYTEDANCE_GAME?this.channel=i.TT:window.kwaigame?this.channel=i.KS:cc.sys.platform==cc.sys.WECHAT_GAME&&window.wx?this.channel=i.WECHAT:cc.sys.isMobile&&cc.sys.isBrowser?this.channel=i.DEFAULT:cc.sys.os==cc.sys.OS_ANDROID?this.channel=i.ANDROID:cc.sys.os==cc.sys.OS_IOS&&(this.channel=i.IOS)}return Object.defineProperty(e,"ins",{get:function(){return console.log("zzzzzzzzz"),this._ins||(this._ins=new e),this._ins},enumerable:!1,configurable:!0}),e.prototype.init=function(){g.default.isUseTopon&&h.topOnMgr.init()},e.prototype.getChannel=function(){return this.channel},e.prototype.watchAd=function(e,t,n,u){var p=this,v=function(){t()};switch(console.log("\u89c2\u770b\u5e7f\u544a"+e,e),this.channel){case i.DEFAULT:v();break;case i.TT:r.Toutiao.showRewardVideoAd("guanggao").then(function(t){t?(console.log("success"),p.umaSetPoint("\u5e7f\u544a",{way:e}),v()):n&&n()},function(){u&&u()});break;case i.WECHAT:d.Wechat.showRewardVideoAd().then(function(t){t?(console.log("success"),p.umaSetPoint("\u5e7f\u544a",{way:e}),v()):n&&n()},function(){u&&u()});break;case i.MEIZU:a.Meizu.showRewardedVideoAd().then(function(){console.log("success"),p.umaSetPoint("\u5e7f\u544a",{way:e}),v()},function(){console.log("fail")});break;case i.OPPO:s.OPPO.showRewardVideoAd(function(){console.log("success"),p.umaSetPoint("\u5e7f\u544a",{way:e}),v()},function(){console.log("fail")});break;case i.VIVO:c.Vivo.showRewardVideoAd(function(t){t?(p.umaSetPoint("\u5e7f\u544a",{way:e}),console.log("success"),v()):console.log("fail")});break;case i.XIAOMI:l.XM.showRewardedVideoAd(function(){p.umaSetPoint("\u5e7f\u544a",{way:e}),console.log("success"),v()},function(){console.log("fail")});break;case i.KS:o.KS.showRewardedVideoAd(function(){p.umaSetPoint("\u5e7f\u544a",{way:e}),v()});break;case i.ANDROID:case i.IOS:f.tyqSDK.getConfigProbability("switchLandPage")&&m.default.loadLandPage(function(){v()})?this.hideBanner():g.default.isUseTopon?h.topOnMgr.showRewardVideoAd(function(){v()},function(){n&&n()}):v()}},e.prototype.umaSetPoint=function(){},e.prototype.showMoreGamesModal=function(){switch(this.channel){case i.TT:r.Toutiao.showMoreGamesModal()}},e.prototype.ttFocusOn=function(){r.Toutiao.openAwemeUserProfile()},e.prototype.startRecoding=function(){},e.prototype.recordStart=function(){console.log("\u5f55\u5c4f\u5f00\u59cb*--*"),this.channel==i.TT?(r.Toutiao.startRecordScreen(300,this.startRecoding),console.log("\u5f55\u5c4f\u5f00\u59cb11111",11111)):this.channel==i.KS?(this._mediaRecorder=kwaigame.createMediaRecorder(),this._mediaRecorder.start()):(this.channel,i.WECHAT)},e.prototype.pauseRecord=function(){console.log("\u6682\u505c\u5f55\u5c4f"),this.channel==i.TT?r.Toutiao.pauseRecordScreen():this.channel==i.KS&&this._mediaRecorder.pause()},e.prototype.resumeRecord=function(){console.log("\u7ee7\u7eed\u5f55\u5c4f"),this.channel===i.TT?r.Toutiao.resumeRecordScreen():this.channel==i.KS&&this._mediaRecorder.resume()},e.prototype.recordEnd=function(){var e=this;console.log("\u5f55\u5c4f\u7ed3\u675f*--*"),this.channel==i.TT?r.Toutiao.stopRecordScreen(function(t){r.Toutiao.clipVideo(60,t,function(t){e._videoRes=t.videoPath,console.log("\u5f55\u5c4f\u7ed3\u675f*--*",11111)})}):this.channel==i.KS&&this._mediaRecorder.stop()},e.prototype.recordCut=function(e){var t=this;this.channel==i.TT?(console.log("\u5f55\u5c4f"+this._videoRes),r.Toutiao.shareAppMessage("\u542c\u6211\u6307\u6325",this._videoRes,["\u542c\u6211\u6307\u6325","\u6296\u97f3\u5c0f\u6e38\u620f"]).then(function(){console.log("\u5206\u4eab\u89c6\u9891\u6210\u529f"),e(),t.umaSetPoint("\u5206\u4eab\u89c6\u9891")})):this.channel==i.KS?this._mediaRecorder.publishVideo({}):(console.log("\u5047\u88c5\u5206\u4eab\u89c6\u9891\u6210\u529f"),e())},e.prototype.authorize=function(e){this.channel==i.TT?r.Toutiao.TTLogin(function(){r.Toutiao.toutiaoLogin().then(function(t){if(t){var n={nickName:t.name,avatar:t.photo};p.default.getBytedanceOpenid(t.code,t.anonymousCode),e(n)}else e(null)}).catch(function(t){console.log("toutiaoLogin \u8c03\u7528\u5931\u8d25"),console.log(t),e(null)})},function(t){cc.log(t),e(null)},!1):this.channel==i.KS?o.KS.KSlogin(function(){o.KS.KSgetUserInfo(function(t){var n={nickName:t.userName,avatar:t.userHead};e(n)})}):this.channel==i.DEFAULT?e(null):this.channel==i.WECHAT?wx.createUserInfoButton({type:"text",text:"\u83b7\u53d6\u7528\u6237\u4fe1\u606f",style:{left:10,top:76,width:200,height:40,lineHeight:40,backgroundColor:"#ff0000",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}}).onTap(function(e){console.log(e.userInfo.avatarUrl),console.log(e.userInfo.nickName)}):e(null)},e.prototype.initGame=function(){},e.prototype.loginOut=function(){},e.prototype.isShowRecordBtn=function(){return this.channel==i.TT||this.channel==i.KS},e.prototype.isByteDance=function(){return this.channel==i.TT},e.prototype.isWechat=function(){return this.channel==i.WECHAT},e.prototype.showIntersAd=function(){this.channel==i.VIVO?c.Vivo.showInterstitialAd():this.channel==i.TT?r.Toutiao.showInterstitialAd():this.channel==i.ANDROID?g.default.isUseTopon&&h.topOnMgr.showInterstitialAd():this.channel==i.IOS?g.default.isUseTopon&&h.topOnMgr.showInterstitialAd():this.channel==i.WECHAT&&d.Wechat.showInterstitialAd()},e.prototype.showFullInters=function(){this.channel==i.ANDROID?g.default.isUseTopon&&h.topOnMgr.showFullInterstitial():this.channel==i.IOS&&g.default.isUseTopon&&h.topOnMgr.showFullInterstitial()},e.prototype.prepareBanner=function(){this.channel==i.TT&&r.Toutiao.createBannerAd()},e.prototype.showBanner=function(e){this.channel==i.TT?r.Toutiao.showBannerAd():this.channel==i.ANDROID?g.default.isUseTopon&&h.topOnMgr.showBannerAd(e):this.channel==i.IOS?g.default.isUseTopon&&h.topOnMgr.showBannerAd(e):this.channel==i.WECHAT&&d.Wechat.showBannerAd()},e.prototype.hideBanner=function(){this.channel==i.TT?r.Toutiao.hideBannerAd():this.channel==i.ANDROID?g.default.isUseTopon&&h.topOnMgr.removeBannerAd():this.channel==i.IOS?g.default.isUseTopon&&h.topOnMgr.removeBannerAd():this.channel==i.WECHAT&&d.Wechat.hideBannerAd()},e.prototype.showOvNativeAd=function(e,t,n,i,o){var a=this;this._ovNativeAd&&this._ovNativeAd.destroy(),cc.resources.load("tyqRes/OV_NativeAd/OV_NativeAd",cc.Prefab,function(s,r){a._ovNativeAd=cc.instantiate(r),cc.find("Canvas").addChild(a._ovNativeAd,cc.macro.MAX_ZINDEX),a._ovNativeAd.getComponent(u.OV_NativeAd).init(e,t,n,i,o)})},e.prototype.sendOvNative=function(){return!(!this._ovNativeAd||!cc.isValid(this._ovNativeAd))&&this._ovNativeAd.getComponent(u.OV_NativeAd).sendNative()},e.prototype.showNativeInfomation=function(){this.channel==i.ANDROID?g.default.isUseTopon&&h.topOnMgr.showNativeInfomation():this.channel==i.IOS&&g.default.isUseTopon&&h.topOnMgr.showNativeInfomation()},e.prototype.showNativeInfomationOfCentre=function(){this.channel==i.ANDROID?g.default.isUseTopon&&h.topOnMgr.showNativeInfomationOfCentre():this.channel==i.IOS&&g.default.isUseTopon&&h.topOnMgr.showNativeInfomationOfCentre()},e.prototype.showNativeBanner=function(){this.channel==i.ANDROID?g.default.isUseTopon&&h.topOnMgr.showNativeBanner():this.channel==i.IOS&&g.default.isUseTopon&&h.topOnMgr.showNativeBanner()},e.prototype.showWxCustomAd=function(e,t,n,o){this.channel==i.WECHAT&&v.WXCustomAd.createCustomAd(e,t,n,o)},e.prototype.hideWxCustomAd=function(e){this.channel==i.WECHAT&&v.WXCustomAd.hideCustomAd(e)},e.prototype.hideAllWxCustom=function(){this.channel==i.WECHAT&&v.WXCustomAd.hideAllAd()},e}();n.default=b,n.sdkMgr=b.ins,window.sdkMgr=n.sdkMgr,cc._RF.pop()},{"./Platform/kuaishouSDK/kuaishou":"kuaishou","./Platform/meizuSDK/meizu":"meizu","./Platform/oppoSDK/oppoAdMange":"oppoAdMange","./Platform/toutiao/toutiao":"toutiao","./Platform/vivoSDK/Vivo":"Vivo","./Platform/wechat/WXCustomAd":"WXCustomAd","./Platform/wechat/wechat":"wechat","./Platform/xiaomiSDK/xiaomi":"xiaomi","./Third/AnyThinkAds/topOnMgr":"topOnMgr","./tyq-sdk":"tyq-sdk","./tyq-sdk-config":"tyq-sdk-config","./tyq-view-mgr":"tyq-view-mgr","./tyq_extend":"tyq_extend","./view/OV_NativeAd":"OV_NativeAd"}],TianYun:[function(e,t,n){"use strict";cc._RF.push(t,"9e17b7fAndPOpIChI3I7vgM","TianYun"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this._AndroidClass="org/cocos2dx/javascript/TianYun",this._IosClass=""}return e.getInstance=function(){return null==this._instance&&(this._instance=new this),this._instance},e.prototype.sendToTAQ=function(e){void 0===e&&(e=1),cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod(this._AndroidClass,"sendToTAQ","(I)V",e)},e.prototype.event=function(e){cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod(this._AndroidClass,"event","(Ljava/lang/String;)V",e)},e.prototype.isShowIllegal=function(){if(cc.sys.os==cc.sys.OS_ANDROID)return jsb.reflection.callStaticMethod(this._AndroidClass,"isShowIllegal","()Z")},e.prototype.startGame=function(){cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod(this._AndroidClass,"startGame","()V")},e.prototype.endGame=function(e){cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod(this._AndroidClass,"endGame","(Z)V",e)},e.prototype.onRewardedVideoAdPlayStart=function(){cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod(this._AndroidClass,"onRewardedVideoAdPlayStart","()V")},e._instance=null,e}();n.default=i,cc._RF.pop()},{}],UMeng:[function(e,t,n){"use strict";cc._RF.push(t,"c4d5fOV3JRGs6x5bm2LYBYQ","UMeng"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this.className="org/cocos2dx/javascript/UMeng"}return e.getInstance=function(){return null==this.instance&&(this.instance=new this),this.instance},e.prototype.onAgreeUse=function(){cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod(this.className,"onAgreeUser","()V")},e.prototype.uploadEvent=function(e){cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod(this.className,"onEventObject","(Ljava/lang/String;)V",e)},e.prototype.login=function(e){cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod(this.className,"login","(Ljava/lang/String;)V",e)},e.prototype.register=function(e){cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod(this.className,"register","(Ljava/lang/String;)V",e)},e.prototype.logOut=function(){cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod(this.className,"logOut","()V")},e.instance=null,e}();n.default=i,cc._RF.pop()},{}],VerifyRealName:[function(e,t,n){"use strict";cc._RF.push(t,"f999cOnljZDNYDGRKg5bCrW","VerifyRealName"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../tyq-sdk"),o=cc._decorator,a=o.ccclass,s=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.editbox_name=null,t.editbox_id=null,t.tipNode=null,t._local="tyq_real_name",t._child="tyq_no_18",t._noChild="tyq_full_18",t._cb=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.node.setContentSize(cc.winSize),this.node.getComponent(cc.BlockInputEvents)||this.node.addComponent(cc.BlockInputEvents)},t.prototype.start=function(){if(i.tyqSDK.getSwitchValue("isHideVerifyRealName"))return this.node.active=!1,void this.node.destroy();var e=cc.sys.localStorage.getItem(this._local);e&&(e==this._child?this.showChildTip():e==this._noChild&&(this.node.active=!1,this.node.destroy()))},t.prototype.init=function(e){this._cb=e},t.prototype.onDestroy=function(){cc.sys.localStorage.setItem(this._local,this._noChild),this._cb&&this._cb()},t.prototype.onClickSubmit=function(){this.send()},t.prototype.send=function(){var e=this,t=this.editbox_name.string,n=this.editbox_id.string;t&&n&&(!1!==/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(n)?i.tyqSDK.verifyRealName(n,t,function(t){console.log(t),0==t.errcode?(e.showToast("\u8ba4\u8bc1\u6210\u529f"),e.node.destroy()):401==t.errcode?e.showToast("\u5b9e\u540d\u8ba4\u8bc1\u5931\u8d25,\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u4fe1\u606f"):402==t.errcode&&(cc.sys.localStorage.setItem(e._local,e._child),e.showChildTip())}):this.showToast("\u8eab\u4efd\u8bc1\u8f93\u5165\u4e0d\u5408\u6cd5"))},t.prototype.showToast=function(e){var t=new cc.Node;t.zIndex=9999,t.color=cc.color(255,255,255),cc.find("Canvas").addChild(t),t.addComponent(cc.Label).string=e,cc.tween(t).to(1.2,{opacity:100}).start(),cc.tween(t).by(1.5,{y:200}).removeSelf().start()},t.prototype.showChildTip=function(){this.tipNode.active=!0},t.prototype.onClickExit=function(){cc.game.end()},__decorate([s(cc.EditBox)],t.prototype,"editbox_name",void 0),__decorate([s(cc.EditBox)],t.prototype,"editbox_id",void 0),__decorate([s(cc.Node)],t.prototype,"tipNode",void 0),__decorate([a],t)}(cc.Component);n.default=r,cc._RF.pop()},{"../tyq-sdk":"tyq-sdk"}],Vivo:[function(e,t,n){"use strict";cc._RF.push(t,"50a6610GrFE57XBqe16nrgP","Vivo"),Object.defineProperty(n,"__esModule",{value:!0}),n.Vivo=void 0;var i=function(){function e(){this.videoPosId="c468a33abd4a401c945cdf2b1b132df0",this.bannerPosId="8c1c8b7057d545a1bc9b25702c949172",this.interstitialPosId="b4a8c8c389e74d60854582616ea09fc1",this.nativePosId="6611630f4c6246c19a7f9e970aea7921"}return Object.defineProperty(e.prototype,"systemInfo",{get:function(){return qg.getSystemInfoSync()},enumerable:!1,configurable:!0}),e.prototype.setKeepScreenOn=function(e){qg.setKeepScreenOn({keepSrceenOn:e,success:function(){console.log("\u8bbe\u7f6e\u5c4f\u5e55\u5e38\u4eae\u6210\u529f")},fail:function(){},complete:function(){}})},e.prototype.authorize_code=function(){return new Promise(function(e,t){qg.authorize({type:"code",success:function(t){e(t)},fail:function(e){t(e)}})})},e.prototype.authorize_token=function(){return new Promise(function(e,t){qg.authorize({type:"token",success:function(t){e(t)},fail:function(e){t(e)}})})},e.prototype.getProfile=function(e){return new Promise(function(t,n){qg.getProfile({token:e,success:function(e){t(e)},fail:function(e){n(e)}})})},e.prototype.exitApplication=function(){qg.exitApplication()},e.prototype.vibrateLong=function(e){qg.vibrateLong(),e&&e()},e.prototype.vibrateShort=function(e){qg.vibrateShort(),e&&e()},e.prototype.showRewardVideoAd=function(e){var t=this;if(this.systemInfo.platformVersionCode<1041)return e&&e(!1);if(!qg.createRewardedVideoAd)return e&&e(!1);this.videoAd||(this.videoAd={adObj:null,isInVideo:!1,callBack:null},this.videoAd.adObj=qg.createRewardedVideoAd({posId:this.videoPosId}),this.videoAd.adObj.onError(function(e){switch(t.videoAd.isInVideo=!1,t.videoAd.callBack&&t.videoAd.callBack(!1),console.log("\u89c6\u9891\u5e7f\u544a\u521b\u5efa\u5931\u8d25"),e.errCode){case-3:console.log("\u6fc0\u52b1\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25---\u8c03\u7528\u592a\u9891\u7e41",JSON.stringify(e));break;case-4:console.log("\u6fc0\u52b1\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25--- \u4e00\u5206\u949f\u5185\u4e0d\u80fd\u91cd\u590d\u52a0\u8f7d",JSON.stringify(e));break;case 30008:break;default:console.log("\u6fc0\u52b1\u5e7f\u544a\u5c55\u793a\u5931\u8d25",e)}}),this.videoAd.adObj.onLoad(function(){var e=t.videoAd.adObj.show();e&&e.then(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f"),t.videoAd.isInVideo=!0}).catch(function(e){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u663e\u793a\u5931\u8d25",e),t.videoAd.isInVideo=!1,t.videoAd.callBack&&t.videoAd.callBack(!1)})}),this.videoAd.adObj.onClose(function(e){t.videoAd.isInVideo=!1,console.log("onClose!",e),e&&e.isEnded?t.videoAd.callBack&&t.videoAd.callBack(!0):t.videoAd.callBack&&t.videoAd.callBack(!1),t.videoAd.callBack=null})),this.videoAd.isInVideo=!0,this.videoAd.callBack=e;var n=this.videoAd.adObj.load();n&&n.then(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),t.videoAd.isInVideo=!0}).catch(function(e){t.videoAd.isInVideo=!1,console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",e),t.videoAd.callBack&&t.videoAd.callBack(!1)})},e.prototype.showBannerAd=function(){var e=this;this.systemInfo.platformVersionCode<1041||this.bannerAd||(console.log("\u663e\u793abanner\u5e7f\u544a3"),this.bannerAd=qg.createBannerAd({posId:this.bannerPosId,style:{}}),console.log("\u521b\u5efabanner\u5e7f\u544a\u7b2c\u4e00\u6b65",this.bannerAd),this.bannerAd.onSize(function(e){console.log("banner onResize",e)}),this.bannerAd.onLoad(function(){var t;e.bannerAd.offLoad&&e.bannerAd.offLoad(),console.log("banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f ..."),(t=e.bannerAd.show())&&t.then(function(){console.log("banner\u5e7f\u544a\u5c55\u793a\u6210\u529f")}).catch(function(e){switch(e.code){case 30003:console.log("\u65b0\u7528\u62377\u5929\u5185\u4e0d\u80fd\u66dd\u5149Banner\uff0c\u8bf7\u5c06\u624b\u673a\u65f6\u95f4\u8c03\u6574\u4e3a7\u5929\u540e\uff0c\u9000\u51fa\u6e38\u620f\u91cd\u65b0\u8fdb\u5165");break;case 30009:console.log("10\u79d2\u5185\u8c03\u7528\u5e7f\u544a\u6b21\u6570\u8d85\u8fc71\u6b21\uff0c10\u79d2\u540e\u518d\u8c03\u7528");break;case 30002:console.log("\u52a0\u8f7d\u5e7f\u544a\u5931\u8d25\uff0c\u91cd\u65b0\u52a0\u8f7d\u5e7f\u544a");break;default:console.log("banner\u5e7f\u544a\u5c55\u793a\u5931\u8d25"),console.log(JSON.stringify(e))}})}),this.bannerAd.onError(function(t){e.bannerAd.offError&&e.bannerAd.offError(),console.log("banner \u5e7f\u544a\u521b\u5efa\u5931\u8d25 ...",t)}),this.bannerAd.onClose(function(t){e.bannerAd.offClose(),console.log("onClose \u5e7f\u544a\u521b\u5efa ...",t)}))},e.prototype.hideBannerAd=function(){var e=this;if(this.bannerAd){var t=this.bannerAd.destroy();t&&t.then(function(){console.log("banner\u5e7f\u544a\u9500\u6bc1\u6210\u529f"),e.bannerAd.offLoad(),e.bannerAd.offError(),e.bannerAd.offSize()}).catch(function(e){console.log("banner\u5e7f\u544a\u9500\u6bc1\u5931\u8d25",e)})}},e.prototype.showInterstitialAd=function(e){var t=this;if(this.systemInfo.platformVersionCode<1031)return e&&e(!1);this.interstitialAd||(console.log("\u663e\u793a\u63d2\u5c4f\u5e7f\u544a"),this.interstitialAd=qg.createInterstitialAd({posId:this.interstitialPosId}),this.interstitialAd.onLoad(function(){var n;console.log("\u52a0\u8f7d\u63d2\u5c4f\u5e7f\u544a\u6210\u529f"),(n=t.interstitialAd.show())&&n.then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u6210\u529f"),e&&e()}).catch(function(e){switch(t.interstitialAd=null,e.code){case 30003:console.log("\u65b0\u7528\u62377\u5929\u5185\u4e0d\u80fd\u66dd\u5149Banner\uff0c\u8bf7\u5c06\u624b\u673a\u65f6\u95f4\u8c03\u6574\u4e3a7\u5929\u540e\uff0c\u9000\u51fa\u6e38\u620f\u91cd\u65b0\u8fdb\u5165");break;case 30009:console.log("10\u79d2\u5185\u8c03\u7528\u5e7f\u544a\u6b21\u6570\u8d85\u8fc71\u6b21\uff0c10\u79d2\u540e\u518d\u8c03\u7528");break;case 30002:console.log("load\u5e7f\u544a\u5931\u8d25\uff0c\u91cd\u65b0\u52a0\u8f7d\u5e7f\u544a");break;case 3e4:break;default:console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25"),console.log(e)}})},function(){console.log("\u52a0\u8f7d\u63d2\u5c4f\u5e7f\u544a\u5931\u8d25"),t.interstitialAd=null}),this.interstitialAd.onError(function(e){console.log("\u63d2\u5c4f\u5e7f\u544a\u521b\u5efa\u5931\u8d25 ...",e),t.interstitialAd=null}),this.interstitialAd.onClose(function(){console.log("\u63d2\u5c4f \u5173\u95ed ..."),t.interstitialAd&&t.interstitialAd.offClose(),t.interstitialAd=null}))},e.prototype.createNativeAd=function(e,t){var n=this;if(this.systemInfo.platformVersionCode<1053)return e&&e(!1);this.nativeAd=qg.createNativeAd({posId:this.nativePosId}),console.log("\u539f\u751f\u5e7f\u544a\u539f\u751f\u5e7f\u544a",this.nativeAd),this.nativeAd.onLoad(function(t){t&&t.adList?(console.log("\u539f\u751f\u5e7f\u544a",t),console.log(t.adList),console.log(t.adList[0]),e&&e(t.adList[0])):e&&e(null),n.reportAdShow(t.adList[0].adId)}),this.nativeAd.onError(function(e){console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",e),t&&t()});var i=this.nativeAd.load();i&&i.then(function(){console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}).catch(function(e){console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",JSON.stringify(e)),t&&t()})},e.prototype.clickNativeAd=function(e){this.nativeAd&&this.nativeAd.reportAdClick({adId:e})},e.prototype.reportAdShow=function(e){this.nativeAd&&this.nativeAd.reportAdShow({adId:e})},e.prototype.desNativeAd=function(){console.log("\u9500\u6bc1\u5e7f\u544a\u7ec4\u4ef6\uff0c\u91ca\u653e\u8d44\u6e90",this.nativeAd),this.nativeAd.destroy()},e.prototype.getSetting=function(e,t){void 0===t&&(t=null)},e._instance=new e,e}();n.Vivo=i._instance,cc._RF.pop()},{}],WXCustomAd:[function(e,t,n){"use strict";cc._RF.push(t,"30c94p7ZftMl56XR7YYNZjP","WXCustomAd"),Object.defineProperty(n,"__esModule",{value:!0}),n.WXCustomAd=n.EType=void 0,function(e){e[e.rect=1]="rect",e[e.horizontal=2]="horizontal",e[e.vertical=3]="vertical",e[e.grid=4]="grid",e[e.vertical2=5]="vertical2"}(n.EType||(n.EType={}));var i=function(){function e(){}return e.setadunit=function(e,t,n,i){this._customc_rect_adunit=e,this._customc_h_adunit=t,this._customc_v_adunit=n,this._customc_one_adunit=i},e.createCustomAd=function(e,t,n,i){if(window.wx){var o=wx.getSystemInfoSync().SDKVersion,a=null,s="",r=this;if(1==t?s=this._customc_rect_adunit:2==t?s=this._customc_h_adunit:3==t?s=this._customc_v_adunit:4==t?s=this._customc_one_adunit:5==t&&(s=this._customc_v_adunit2),i&&("string"==typeof i?s=i:i instanceof Array&&(s=i[Math.floor(Math.random()*i.length)])),""!=s)if(console.log("\u663e\u793a\u539f\u751f\u6a21\u677f\u5e7f\u544a",e,this._ads,this._waits),this._ads[e])a=this._ads[e],console.log("\u7f13\u5b58\u6709"),a.isShow()||a.show();else if(this.compareVersion(o,"2.11.1")>=0){console.log("\u521b\u5efa\u539f\u751f\u6a21\u677f\u5e7f\u544a"+e,"id:"+s,"pos:",n);var c=r.getPos(t,n);(a=wx.createCustomAd({adUnitId:s,adIntervals:30,style:{top:c.top,left:c.left,width:330,fixed:!1}})).onLoad(function(){r._ads[e]=a;var t=r._waits.filter(function(t){return t==e});console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210\uff1a"+e,r._waits,t),0==t.length?a.show():(r._waits=r._waits.filter(function(t){return t!=e}),a.hide())}),a.onError(r.onError),a.onClose(r.onClose)}}},e.hideCustomAd=function(e){var t=null;console.log("\u9690\u85cf\u539f\u751f\u6a21\u677f\u5e7f\u544a",e,this._ads,this._waits),this._ads[e]?(t=this._ads[e]).isShow()&&t.hide():this._waits.push(e)},e.destroyCustomAd=function(e){this._ads[e]&&(this._ads[e].offLoad(null),this._ads[e].offError(null),this._ads[e].offClose(null),this._ads[e].destroy(),this._ads[e]=null)},e.onError=function(e){console.log(e)},e.onLoad=function(){console.log("\u591a\u683c\u5b50\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f")},e.onClose=function(){console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5173\u95ed")},e.compareVersion=function(e,t){e=e.split("."),t=t.split(".");for(var n=Math.max(e.length,t.length);e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(var i=0;i<n;i++){var o=parseInt(e[i]),a=parseInt(t[i]);if(o>a)return 1;if(o<a)return-1}return 0},e.getPos=function(e,t){var n=wx.getSystemInfoSync(),i=0,o=0;1==e&&(i=330,o=360),2==e&&(i=360,o=106),3!=e&&5!=e||(i=72,o=250),4==e&&(i=68,o=106);var a=n.windowWidth/cc.winSize.width,s=n.windowHeight/cc.winSize.height,r=(n.windowWidth-i)/2,c=(n.windowHeight-o)/2;return t&&null!=t.left&&(r=t.left*a),t&&null!=t.top&&(c=t.top*s),t&&null!=t.right&&(r=n.windowWidth-i-t.right*a),t&&null!=t.bottom&&(c=n.windowHeight-o-t.bottom*s),t&&null!=t.centerX&&(r=(n.windowWidth-i)/2+t.centerX*a),t&&null!=t.centerY&&(c=(n.windowHeight-o)/2+t.centerY*s),{left:r,top:c}},e.hideAllAd=function(){for(var e in this._ads)this.hideCustomAd(e)},e._customc_rect_adunit="adunit-d50eea5c9728ff96",e._customc_h_adunit="adunit-254c232c173fa798",e._customc_v_adunit="adunit-0e0b85f91e2ab854",e._customc_v_adunit2="adunit-e41b954d65babc2f",e._customc_one_adunit="adunit-ba44cc3a5a96a869",e._ads={},e._waits=[],e}();n.WXCustomAd=i,cc._RF.pop()},{}],aengineAdapter:[function(e,t){"use strict";cc._RF.push(t,"a9a0eDT4sJGm7L9CYGaLUWY","aengineAdapter"),window.kf=window.kf||{},kf._loadedItem={},kf.ignoreInitArr=[],kf.addIgnoreInitDir=function(e){kf.ignoreInitArr.push(e)},kf.addModule=function(e,t){var n,i=e.split("."),o=window;for(n=0;n<i.length-1;n++)o[i[n]]||(o[i[n]]={}),o=o[i[n]];o[i[i.length-1]]=t},kf.require=function(t,n){var i;if(!kf._loadedItem[t]){i=t.split(".");var o,a=window;for(o=0;o<i.length&&a;o++)a=a[i[o]];if(a?kf._loadedItem[t]=a():(i=t.split("."),kf._loadedItem[t]=e(i[i.length-1]),!kf._loadedItem[t]&&cc&&cc.require&&cc.require!==e&&(kf._loadedItem[t]=cc.require(i[i.length-1])),kf._loadedItem[t]&&window.cc&&!cc.sys.isNative&&console.error("please use kf.require, parentdir.filename!!!")),!n&&kf._loadedItem[t]){for(o=0;o<kf.ignoreInitArr.length;o++){var s=kf.ignoreInitArr[o];if(0===t.indexOf(s))break}o>=kf.ignoreInitArr.length&&kf._loadedItem[t].init&&kf._loadedItem[t].init()}}return kf._loadedItem[t]};var n=null;kf.enableMulTouch=function(e){if(e)cc.eventManager.dispatchEvent=n,n=null;else{n=cc.eventManager.dispatchEvent;var t=null;cc.eventManager.dispatchEvent=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var a=i[0];if(a.getEventCode&&a.getEventCode()===cc.Event.EventTouch.BEGAN)a._touches.length>1&&(a._touches.length=1),t=a._touches[0]._id;else if(a.getEventCode&&a.getEventCode()===cc.Event.EventTouch.ENDED){for(var s=0;s<a._touches.length&&t!==a._touches[s]._id;s++);if(s>=a._touches.length)return;a._touches[0]=a._touches[s],a._touches.length=1}n.apply(void 0,i)}}},kf.clone=function(e){var t;if("object"==typeof e)if(null===e)t=null;else if(e instanceof Array){t=[];for(var n=0,i=e.length;n<i;n++)t.push(this.clone(e[n]))}else for(var o in t={},e)e.hasOwnProperty(o)&&(t[o]=this.clone(e[o]));else t=e;return t},kf.convertData=function(e,t){for(var n in e)e.hasOwnProperty&&!e.hasOwnProperty(n)||(t[n]=e[n])},kf.cmp=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},kf.utf8ByteToUnicodeStr=function(e){for(var t="",n=0;n<e.length;){var i=e[n],o=0;i>>>7==0?(t+=String.fromCharCode(e[n]),n+=1):252==(252&i)?(o=(3&e[n])<<30,o|=(63&e[n+1])<<24,o|=(63&e[n+2])<<18,o|=(63&e[n+3])<<12,o|=(63&e[n+4])<<6,o|=63&e[n+5],t+=String.fromCharCode(o),n+=6):248==(248&i)?(o=(7&e[n])<<24,o|=(63&e[n+1])<<18,o|=(63&e[n+2])<<12,o|=(63&e[n+3])<<6,o|=63&e[n+4],t+=String.fromCharCode(o),n+=5):240==(240&i)?(o=(15&e[n])<<18,o|=(63&e[n+1])<<12,o|=(63&e[n+2])<<6,o|=63&e[n+3],t+=String.fromCharCode(o),n+=4):224==(224&i)?(o=(31&e[n])<<12,o|=(63&e[n+1])<<6,o|=63&e[n+2],t+=String.fromCharCode(o),n+=3):192==(192&i)?(o=(63&e[n])<<6,o|=63&e[n+1],t+=String.fromCharCode(o),n+=2):(t+=String.fromCharCode(e[n]),n+=1)}return t},kf.writeUTF=function(e,t){var n,i=[],o=0;for(n=0;n<e.length;n++){var a=e.charCodeAt(n);a>=0&&a<=127?(o+=1,i.push(a)):a>=128&&a<=2047?(o+=2,i.push(192|31&a>>6),i.push(128|63&a)):(a>=2048&&a<=55295||a>=57344&&a<=65535)&&(o+=3,i.push(224|15&a>>12),i.push(128|63&a>>6),i.push(128|63&a))}for(n=0;n<i.length;n++)i[n]&=255;return t?i:o<=255?[0,o].concat(i):[o>>8,255&o].concat(i)},kf.readUTF=function(e){if("string"==typeof e)return e;for(var t="",n=e,i=0;i<n.length;i++){var o=n[i].toString(2),a=o.match(/^1+?(?=0)/);if(a&&8===o.length){for(var s=a[0].length,r=n[i].toString(2).slice(7-s),c=1;c<s;c++)r+=n[c+i].toString(2).slice(2);t+=String.fromCharCode(parseInt(r,2)),i+=s-1}else t+=String.fromCharCode(n[i])}return t},kf.xmlToJson=function(e){var t={};if(1===e.nodeType){if(e.attributes.length>0){t={};for(var n=0;n<e.attributes.length;n++){var i=e.attributes.item(n);"size"!==i.nodeName&&"define"!==i.nodeName&&"mandatory"!==i.nodeName&&(t[i.nodeName]=i.nodeValue)}}}else 3===e.nodeType&&"#text"!==e.nodeName&&(t=e.nodeValue);if(e.hasChildNodes())for(var o=0;o<e.childNodes.length;o++){var a=e.childNodes.item(o),s=a.nodeName;if("#text"!==s)if(void 0===t[s]||"#text"===s)t[s]=this.xmlToJson(a);else{if(void 0===t[s].length){var r=t[s];t[s]=[],t[s].push(r)}t[s].push(this.xmlToJson(a))}}return t},kf.loadXMLStr=function(e){var t=null;if(!window.DOMParser&&window.ActiveXObject)for(var n=["MSXML.2.DOMDocument.6.0","MSXML.2.DOMDocument.3.0","Microsoft.XMLDOM"],i=0;i<n.length;i++)try{(t=new window.ActiveXObject(n[i])).async=!1,t.loadXML(e);break}catch(o){console.error(o)}else{if(!(window.DOMParser&&document.implementation&&document.implementation.createDocument))return null;try{t=(new window.DOMParser).parseFromString(e,"text/xml")}catch(o){console.error(o)}}return t},kf.touchInNode=function(e,t){var n=e.convertTouchToNodeSpace(t),i=e.getContentSize(),o=new cc.Rect(0,0,i.width,i.height);return cc.rectContainsPoint(o,n)},kf.getLocationInRoot=function(e){for(var t=e.x,n=e.y,i=e.parent;i&&i.parent&&!(i.parent instanceof cc.Scene);)t+=i.x,n+=i.y,i=i.parent;return cc.v2(t,n)},kf.getPositionInNode=function(e,t,n){if(n=n||e.getPosition(),!e.parent)return n;var i=e.parent.convertToWorldSpaceAR(n);return t.convertToNodeSpaceAR(i)},kf.getRandomStr=function(e){for(var t="qwertyuiopasdfghjklzxcvbnm123456789",n="",i=0;i<e;++i)n+=t[Math.floor(Math.random()*t.length)];return n},kf.secondsBetweenDate=function(e,t){var n=e.getTime()-t.getTime(),i=Math.floor(n/1e3);return Math.abs(i)},kf.getNodeInLoop=function(e,t){var n=e;if(-1===t.indexOf("/"))n=this._getFirstChildByName(e,t);else for(var i=t.split("/"),o=1,a=i.length;o<a;o++){var s=i[o];if(!(n=n.getChildByName(s)))break}return n},kf._getFirstChildByName=function(e,t){var n=e.children;if(0===n.length)return null;for(var i=0,o=n.length;i<o;i++){var a=n[i];if(a.name===t)return a;var s=this._getFirstChildByName(a,t);if(s)return s}},kf.convertRectToWx=function(e,t){var n=cc.winSize.width/2+e.x-e.width/2,i=cc.winSize.height/2-e.y-e.height/2;return{x:n*t.width/cc.winSize.width,y:i*t.height/cc.winSize.height,width:e.width*t.width/cc.winSize.width,height:e.height*t.height/cc.winSize.height}},kf.convertViewportToWx=function(e){var t={x:e.x,y:e.y,width:e.width,height:e.height};return this.convertRectToWx(t,cc.view.getViewportRect())},window.string={},window.string.format=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],o=t,a=1;return i.replace(/(%[ds])/g,function(){return o[a++]})},cc._RF.pop()},{}],clientConfig:[function(e,t){"use strict";cc._RF.push(t,"ab6501TH8NH77rqzxL3dfRx","clientConfig"),window.gameconfig={gameServer:"127.0.0.1:3010"},t.exports.isCompress=!1,cc._RF.pop()},{}],clientEvent:[function(e,t){"use strict";cc._RF.push(t,"f4d97340SRO26auFBLMJBOK","clientEvent"),window.kf=window.kf||{},kf.addModule=kf.addModule||function(){},kf.addModule("basic.clientEvent",function(){var e=kf.require("basic.eventListener"),t={},n=["loginSuccess","showWaiting","hideWaiting","refreshProgress","resetGame","onMessage","playBGM","pauseBGM","resumeBGM","UserPower_Changed","showTopMsg","showOrder","OnWXShow","OnWXHide","VideoAdChange","recordStateChange","recordFinish","shareRecord","shareRecordSuccess","addCoin","addStar","addPool","addPoolStatus","addOrder","addFrog","eatFoodMsg","setWeight","fishComplete","unlock","moveScroll","updatePool","updateAerator","updatePump","showMsg","updateMap","attacked","skillAttacked","jiceAttacked","npcDie","addYu","addYin","addGuanzhiExp","redPoint","noyu","noyin","nocoin","jumpToMenu","updateMenuArmItemInfo","setCoin","loading","loadEnd","updateArmCell","updateRedPoint"];return t.addEventType=function(e){for(var t=this.len,n=0;n<e.length;n++){var i=e[n];this.EVENT_TYPE[i]=n+t,this.len++}},t.init=function(){this.eventListener=e.create("multi"),this.EVENT_TYPE={},this.len=1,this.addEventType(n),window.clientEvent=this},t.addEvent=function(e){t.EVENT_TYPE[e]?cc.error("already have the event "+e):t.EVENT_TYPE[e]=1},t.on=function(e,t,n){"string"==typeof e&&this.eventListener.on(e,t,n)},t.off=function(e,t){"string"==typeof e&&this.eventListener.off(e,t)},t.dispatchEvent=function(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=i[0];if("string"==typeof a){var s=t.EVENT_TYPE[a];s?(e=this.eventListener).dispatch.apply(e,i):cc.error("please add"+a+"the event into clientEvent.js")}},t.bindEventListener=function(){this.eventListener=e.create("multi")},t}),cc._RF.pop()},{}],comClickNode:[function(e,t){"use strict";cc._RF.push(t,"9a475rpGMhIj7HkmwslwIQX","comClickNode");var n=e("panel");cc.Class({extends:n,intStatus:0,properties:{teachEventId:0},onLoad:function(){this.intStatus=0,this.node.on(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},lateUpdate:function(){if(this.intStatus%20==19&&user.getTeach(this.teachEventId)==constants.teachEventValue.incomplete){if(this.intStatus++,cc.find("Canvas/uiRoot/nodeMenu/center/nodeMenu0")){var e=uiManager.getRoot().parent;0!=e.getChildByName("uiCover").childrenCount||0!=e.getChildByName("uiTop").childrenCount||0!=e.getChildByName("uiBottom").childrenCount||0!=e.getChildByName("uiAni").childrenCount||e.getChildByName("uiMask").active||0!=e.getChildByName("uiTeach").childrenCount||0!=e.getChildByName("uiMsg").childrenCount||e.getChildByName("loading").active||teachTrigger(constants.triggerScene.inMenu0)}if(cc.find("Canvas/uiRoot/nodeMenu/center/nodeMenu1")){var t=uiManager.getRoot().parent;0!=t.getChildByName("uiCover").childrenCount||0!=t.getChildByName("uiTop").childrenCount||0!=t.getChildByName("uiBottom").childrenCount||0!=t.getChildByName("uiAni").childrenCount||t.getChildByName("uiMask").active||0!=t.getChildByName("uiTeach").childrenCount||0!=t.getChildByName("uiMsg").childrenCount||t.getChildByName("loading").active||teachTrigger(constants.triggerScene.inMenu1)}if(cc.find("Canvas/uiRoot/nodeMenu/center/nodeMenu2")){var n=uiManager.getRoot().parent;0!=n.getChildByName("uiCover").childrenCount||0!=n.getChildByName("uiTop").childrenCount||0!=n.getChildByName("uiBottom").childrenCount||0!=n.getChildByName("uiAni").childrenCount||n.getChildByName("uiMask").active||0!=n.getChildByName("uiTeach").childrenCount||0!=n.getChildByName("uiMsg").childrenCount||n.getChildByName("loading").active||teachTrigger(constants.triggerScene.inMenu2)}if(cc.find("Canvas/uiRoot/nodeMenu/center/nodeMenu3")){var i=uiManager.getRoot().parent;0!=i.getChildByName("uiCover").childrenCount||0!=i.getChildByName("uiTop").childrenCount||0!=i.getChildByName("uiBottom").childrenCount||0!=i.getChildByName("uiAni").childrenCount||i.getChildByName("uiMask").active||0!=i.getChildByName("uiTeach").childrenCount||0!=i.getChildByName("uiMsg").childrenCount||i.getChildByName("loading").active||teachTrigger(constants.triggerScene.inMenu3)}if(cc.find("Canvas/uiRoot/nodeMenu/center/nodeMenu4")){var o=uiManager.getRoot().parent;0!=o.getChildByName("uiCover").childrenCount||0!=o.getChildByName("uiTop").childrenCount||0!=o.getChildByName("uiBottom").childrenCount||0!=o.getChildByName("uiAni").childrenCount||o.getChildByName("uiMask").active||0!=o.getChildByName("uiTeach").childrenCount||0!=o.getChildByName("uiMsg").childrenCount||o.getChildByName("loading").active||teachTrigger(constants.triggerScene.inMenu4)}if(cc.find("Canvas/uiRoot/nodeMenu")){var a=uiManager.getRoot().parent;0!=a.getChildByName("uiCover").childrenCount||0!=a.getChildByName("uiTop").childrenCount||0!=a.getChildByName("uiBottom").childrenCount||0!=a.getChildByName("uiAni").childrenCount||a.getChildByName("uiMask").active||0!=a.getChildByName("uiTeach").childrenCount||0!=a.getChildByName("uiMsg").childrenCount||a.getChildByName("loading").active||teachTrigger(constants.triggerScene.inMenu)}cc.find("Canvas/uiRoot/nodeScene")&&(uiManager.getRoot().parent.getChildByName("loading").active||teachTrigger(constants.triggerScene.inBattle))}this.intStatus>9999?this.intStatus=0:this.intStatus++},onTouch:function(){if(user.getTeach(this.teachEventId)==constants.teachEventValue.trigger){var e=jsonTables.getJsonTableArrObj("teach","eventId",this.teachEventId)[0];e.triggerBtnType!=constants.triggerBtnType.click&&e.triggerBtnType!=constants.triggerBtnType.forceClick||user.setTeach(this.teachEventId,constants.teachEventValue.complete)}},onTouchMove:function(){user.getTeach(this.teachEventId)==constants.teachEventValue.trigger&&jsonTables.getJsonTableArrObj("teach","eventId",this.teachEventId)[0].triggerBtnType==constants.triggerBtnType.forceSlide&&user.setTeach(this.teachEventId,constants.teachEventValue.complete)},onTouchCancel:function(){user.getTeach(this.teachEventId)==constants.teachEventValue.trigger&&jsonTables.getJsonTableArrObj("teach","eventId",this.teachEventId)[0].triggerBtnType==constants.triggerBtnType.forceDragToNode&&user.setTeach(this.teachEventId,constants.teachEventValue.complete)}}),cc._RF.pop()},{panel:"panel"}],constant:[function(e,t){"use strict";cc._RF.push(t,"1f627lSwk9Bf5XlnB6g87/M","constant"),kf.addModule("basic.constants",function(){var e,t={channel:1,init:function(){window.constants=t},writeOssInterval:1,rowCount:9,urlYinsi:"https://www.xmtyq.com/pages/gamenotice.html?gamename=%E5%90%AC%E6%88%91%E6%8C%87%E6%8C%A5",arrBaseImg:["img/border0","img/coin","img/jice1","img/jice2","img/jice3","img/jice4","img/jice5","img/jice6","img/skill1","img/skill10","img/skill11","img/skill2","img/skill3","img/skill4","img/skill5","img/skill6","img/skill7","img/skill8","img/skill9","img/ui_by","img/ui_yb"],arrBaseSpine:["spine/zhugeliang/zhugeliang"],arrBasePrefab:["prefab/preMsg","prefab/preSpine"],arrMenuImg:["img/bg_zy","img/ui_bg","img/ui_btd","img/ui_by","img/ui_byd","img/ui_cj","img/ui_dg","img/ui_dgk","img/ui_dgk1","img/ui_dgx","img/ui_dj","img/ui_g","img/ui_gb","img/ui_gqd","img/ui_gqk1","img/ui_gqmb","img/ui_gqtx","img/ui_gqxz","img/ui_gxhd","img/ui_hd","img/ui_jdt1","img/ui_jdt2","img/ui_ksyx","img/ui_lb","img/ui_lpd","img/ui_lq","img/ui_menu_icon_","img/ui_menu_icon_0","img/ui_menu_icon_1","img/ui_menu_icon_2","img/ui_menu_icon_4","img/ui_menu_text_0","img/ui_menu_text_1","img/ui_menu_text_2","img/ui_menu_text_3","img/ui_menu_text_4","img/ui_mrqd","img/ui_ptd","img/ui_s","img/ui_sbk","img/ui_sp","img/ui_sz","img/ui_tsk","img/ui_xdk","img/ui_xdkxz","img/ui_xg","img/ui_xxtx","img/ui_xzd","imgMenuArm/add","imgMenuArm/arm1","imgMenuArm/arm2","imgMenuArm/arm3","imgMenuArm/arm4","imgMenuArm/gj","imgMenuArm/gs","imgMenuArm/jinbiBg","imgMenuArm/jueseBg","imgMenuArm/kapianBg","imgMenuArm/lock","imgMenuArm/paixv2","imgMenuArm/paixvBg","imgMenuArm/paixvJt","imgMenuArm/sm","imgMenuArm/suipianBg","imgMenuArm/touying","imgMenuArm/xian","imgMenuArm/zezhao","imgMenuBing/border","imgMenuBing/jindu","imgMenuBing/jinduBg","imgMenuBing/kuangBg","imgMenuBing/moushi","imgMenuBing/suipian","imgMenuBing/zhugeBg","imgMenuBuilding/jiahao","imgMenuBuilding/jianta","imgMenuBuilding/jianzuBg","imgMenuBuilding/jiesuo","imgMenuBuilding/PopupBg","imgMenuBuilding/recycle","imgMenuBuilding/recycleBg","imgMenuBuilding/suo","imgMenuBuilding/title1","imgMenuBuilding/title2","imgMenuBuilding/toushiche","imgMenuBuilding/uiBg","imgMenuBuilding/weikaifang1","imgMenuBuilding/weikaifang2","imgMenuChou/ui_bt","imgMenuChou/ui_csd","imgMenuChou/ui_d","imgMenuChou/ui_dcd","imgMenuChou/ui_djd","imgMenuChou/ui_djg","imgMenuChou/ui_lq","imgMenuChou/ui_ptk","imgMenuChou/ui_slcd","imgMenuChou/ui_xx","imgMenuChou/ui_xztx","imgMenuChou/ui_yb","imgMenuChou/ui_zx","imgMenuGuanzhi/bg","imgMenuGuanzhi/ui_d1","imgMenuGuanzhi/ui_d2","imgMenuGuanzhi/ui_g1","imgMenuGuanzhi/ui_jdtd","imgMenuGuanzhi/ui_jdtg","imgMenuGuanzhi/ui_jdtys","imgMenuGuanzhi/ui_lp_1","imgMenuGuanzhi/ui_lp_10","imgMenuGuanzhi/ui_lp_11","imgMenuGuanzhi/ui_lp_12","imgMenuGuanzhi/ui_lp_13","imgMenuGuanzhi/ui_lp_2","imgMenuGuanzhi/ui_lp_3","imgMenuGuanzhi/ui_lp_4","imgMenuGuanzhi/ui_lp_5","imgMenuGuanzhi/ui_lp_6","imgMenuGuanzhi/ui_lp_7","imgMenuGuanzhi/ui_lp_8","imgMenuGuanzhi/ui_lp_9","imgMenuGuanzhi/ui_mbd","imgMenuGuanzhi/ui_ptk","imgMenuGuanzhi/ui_spk","imgMenuGuanzhi/ui_tmd","imgMenuGuanzhi/ui_wz","imgMenuGuanzhi/ui_x","imgMenuQian/ui_bt","imgMenuQian/ui_bz","imgMenuQian/ui_d","imgMenuQian/ui_djd","imgMenuQian/ui_dqtmb","imgMenuQian/ui_gb","imgMenuQian/ui_lq","imgMenuQian/ui_lsmb","imgMenuQian/ui_lx","imgMenuQian/ui_lxqd","imgMenuQian/ui_mrqd","imgMenuQian/ui_ptd","imgMenuQian/ui_sld","imgMenuQian/ui_tsd","imgMenuQian/ui_tsd1","imgMenuQian/ui_tsd2","imgMenuQian/ui_txg","imgMenuQian/ui_tyd","imgMenuQian/ui_wz_gb","imgMenuQian/ui_wz_lq","imgMenuQian/ui_x","imgMenuQian/ui_xzk","imgMenuQian/ui_yb","imgMenuQian/ui_ylq","imgMenuSetting/ui-btd","imgMenuSetting/ui_bjyx","imgMenuSetting/ui_bjyy","imgMenuSetting/ui_d","imgMenuSetting/ui_g","imgMenuSetting/ui_hg","imgMenuSetting/ui_jdd","imgMenuSetting/ui_k","imgMenuSetting/ui_sz","imgMenuSetting/ui_xd","imgMenuSetting/ui_yszc","imgMenuShop/baiyu","imgMenuShop/baiyuBg","imgMenuShop/bing1","imgMenuShop/bing2","imgMenuShop/bing3","imgMenuShop/bing4","imgMenuShop/font","imgMenuShop/jinnang","imgMenuShop/kabaoBg","imgMenuShop/kuangBg","imgMenuShop/name1","imgMenuShop/name2","imgMenuShop/name3","imgMenuShop/name4","imgMenuShop/pinzhi1","imgMenuShop/pinzhi2","imgMenuShop/pinzhi3","imgMenuShop/pinzhiBg","imgMenuShop/text1","imgMenuShop/text2","imgMenuShop/text3","imgMenuShop/text4","imgMenuShop/tubiao1","imgMenuShop/tubiao2","imgMenuShop/tubiao3","imgMenuShop/tubiao4","imgMenuShop/xian","imgMenuShop/xiyou","imgMenuShop/yuanbao","imgMenuShop/aaa","imgMenuShop/bbb","imgMenuShop/tcLight/lightBg","imgMenuShop/tcLight/lightBg_2","imgMenuShop/tcLight/lightBg_3"],arrMenuPrefab:["prefab/preChou","prefab/preChouCell","prefab/preGuanzhi","prefab/preGuanzhiCell","prefab/preLight","prefab/preMenu","prefab/preMenu0","prefab/preMenu1","prefab/preMenu1Pane","prefab/preMenu2","prefab/preMenu3","prefab/preMenu4","prefab/preMenuArmCell","prefab/preMenuArmSpine","prefab/preMenuBingCell","prefab/preMenuGet","prefab/preMenuGet3","prefab/preMenuGet3Item","prefab/preMenuGetCellNpc","prefab/preMenuGetCellObj","prefab/preQian","prefab/preRedPoint","prefab/preSetting","prefab/preShop1Item","prefab/preShop2Item","prefab/preSkillItem","prefab/preYin","prefab/preYu"],arrMenuBasePrefab:["prefab/preMenu"],arrMenuSpine:["spine/chouka/chouka","spine/gxhd/gxhd","spine/piaofuxiaodao/piaofuxiaodao","spine/shengjiguang/shengjiguang","spine/zcjrz/zcjrz"],arrNpcSpine:["spine/bubing_down/bubing_down","spine/bubing_up/bubing_up","spine/dunbing_down/bubing_down","spine/dunbing_down/dunbing_down","spine/dunbing_up/dunbing_up","spine/gongbing_down/gongbing_down","spine/gongbing_up/gongbing_up","spine/qibing_down/qibing_down","spine/qibing_up/qibing_up","spine/jianta/jianta","spine/toushiche/toushiche"],arr0Ani:["animation/hudun/hudun","animation/siwang/siwang","animation/wanjianqifa/wanjianqifa","animation/zibao/zibao","animation/chongfeng/chongfeng","animation/huaban/huaban"],arr0Spine:["spine/boom/boom","spine/drhy/drhy","spine/fire/fire","spine/hit/hit","spine/huoyanxuanwo/huoyanxuanwo","spine/hyks/hyks","spine/jian/jian","spine/jigu/jigu","spine/juanzhou/juanzhou","spine/liedi/liedi","spine/shuibaozha/shuibaozha","spine/shuibo/shuibo","spine/xuanyun/xuanyun","spine/zchy/zchy","spine/zhendang/zhendang","spine/xin/xin"],arr0Png:["img/arrow","img/bg","img/border3","img/border5","img/btn2","img/dunbingka1","img/bubingka1","img/gongbingka1","img/qibingka1","img/dunbingka2","img/bubingka2","img/gongbingka2","img/qibingka2","img/dunbingka3","img/bubingka3","img/gongbingka3","img/qibingka3","img/di","img/failure","img/font","img/font1","img/font2","img/font3","img/gezi","img/gezijuese","img/hp0","img/hp1","img/iconCoins","img/iconHand","img/jian","img/jinbibg","img/jueseBg","img/light","img/man","img/npcShadow","img/shengyufont","img/stone","img/textWall","img/victory","img/wall","img/zhugeJd","img/zhugeJdBg","img/zhugeMb","img/qipao","img/a1","img/a2","img/a3","img/lupin"],arr0Prefab:["prefab/preAnimation","prefab/preArrow","prefab/preBattleEndAds","prefab/preBattleStartAds","prefab/preBtnArm","prefab/preBuilding","prefab/preBuildingArrow","prefab/preCoin","prefab/preNpc","prefab/preScene","prefab/preWanjianqifa"],gameState:{None:0,Match:1,Ready:2,HaoJiao:3,Wait:4,Playing:5,End:6},battleState:{None:0,Fuli:1,Ready:2,HaoJiao:3,Wait:4,Playing:5,Win:6,Lose:7,ShowEnd:8,ShowEnd2:9},npcType:{None:0,DunBing:1,BuBing:2,GongBing:3,QiBing:4},npcState:{None:0,Live:1,Die:2,End:3,Hide:4},npcAnimation:{StandBy:"standBy",Walk:"walk",Attack:"attack"},battleNpcSide:{None:0,PlayerDunBing:1,PlayerBuBing:2,PlayerSheShou:3,PlayerQiBing:4,Wall:5,PlayerArrow:10,Side:100,EnemyDunBing:101,EnemyBuBing:102,EnemySheShou:103,EnemyQiBing:104,EnemyArrow:110},npcFace:{Down:0,Up:1},skill:{None:0,ZengJiaShengMingZhi:1,ZengJiaGongSu:2,ZengJiaGongjiLi:3,ZengJiaGongJiJuLi:4,JinZhanJianShang:5,JinZhanQunShang:6,ZiBao:7,FenLieJian:8,YuanChengJianShang:9,QiBingKeXing:10,ChongFengJiNeng:11},jice:{None:0,huoshaolianying:1,kongchengji:2,shuiyanqijun:3,wanjianqifa:4,meirenji:5,zhanwubusheng:6},npcBuff:{None:0,Wudi:1,XuanYun:2,ChongFeng:3},spine:{None:0,Fire:1,HuoYan:2,XuanWo:3,KuoSan:4,Explode:5,TanQin:6,TanQin2:7,YinBo:8,ShuiBaoZha:9,JiGu:10,JinZhanQunShang:11,BeiJi:12,ShuiBo:13,XuanYun:14,Jian:15,WanJianHuo:16,upgrade1:17,upgrade2:18,light1:19,light2:20,ChouKaBao0:21,ChouKaBao1:22,ChouKaBao2:23,MeiRenJi:24,MeiRenJi1:25,MeiRenJi2:26,MeiRenJi3:27,Xin:28,Finger:29,CallHero1:30,CallHero2:31,CallHero3:32,RedFrame:33,BattleWinStart:34,BattleWinStandby:35},scenePane:{None:0,KaiJu1:1,KaiJu2:2,KaiJu3:3},item:{None:0,tongqian:1,yinliang:2,biyu:3,jice:4,arm:5,gongxun:6,freeAd:7},redPoint:{None:"0",qiandao:"qiandao",choujiang:"choujiang",guanzhi:"guanzhi",jianzhu:"jianzhu",jianzhu0:"jianzhu0",jianzhu1:"jianzhu1",jianzhu2:"jianzhu2",jianzhu3:"jianzhu3",jianzhu4:"jianzhu4",jianzhu5:"jianzhu5",jianzhuType:"jianzhuType",jianzhuType1:"jianzhuType1",jianzhuType2:"jianzhuType2",budui:"budui",buduiArm:"buduiArm",buduiSpine:"buduiSpine",bingshu:"bingshu",bingshuPig:"bingshuPig",bingshuJice:"bingshuJice",shangdian:"shangdian",shangdianArm:"shangdianArm"},ad:{None:0,JianZhuBuy:1,JianZhuUpgrade:2,TouShiTaBuy:3,TouShiTaUpgrade:4,BuDuiUpgrade:5,BingShuPig:6,BingShuJice:7,ShangDianArm:8,ShangDianRefresh:9,ChouJiang:10,BuyShop1:11},sound:{None:0,upgrade:1,bg:2,battleBg:3,battleFinger:4,battleCall:5,battleAtk0:6,battleAtk1:7,battleAtk2:8,battleAtk3:9,battleStart:10,battleWin:11,battleLose:12,battleJice1:13,battleJice2:14,battleJice3:15,battleJice4:16,battleJice5:17,battleJice6:18,coin:19,buyBuilding:20,bonus:21,chou:22,wisper:23},BGMIdx:{main:0,game:1},SrcPos:{Main:"\u4e3b\u754c\u9762",Settle:"\u7ed3\u7b97\u754c\u9762",CoinAd:"\u7834\u4ea7\u754c\u9762",LvUp:"\u5347\u7ea7\u754c\u9762",OffCoin:"\u79bb\u7ebf\u91d1\u5e01\u754c\u9762",Share:"\u8bc4\u4ef7\u5206\u4eab\u754c\u9762",Skin:"\u76ae\u80a4\u754c\u9762"},RewardBtnType:{Close:0,PlayAd:1,Share:2},VideoState:{SKIP:-1,PLAY_END:0,CLOSE:1},prefabs:{npc:["package0","prefab/preNpc"],btnArm:["package0","prefab/preBtnArm"],arrow:["package0","prefab/preArrow"],building:["package0","prefab/preBuilding"],buildingArrow:["package0","prefab/preBuildingArrow"],menu:["packageMenu","prefab/preMenu"]},arrMenu:{package:"packageMenu",path:["prefab/preChou","prefab/preChouCell","prefab/preGuanzhi","prefab/preGuanzhiCell","prefab/preLight","prefab/preMenu","prefab/preMenu1","prefab/preMenu1Pane","prefab/preMenu2","prefab/preMenu3","prefab/preMenu4","prefab/preMenuArmCell","prefab/preMenuArmSpine","prefab/preMenuBingCell","prefab/preMenuGet","prefab/preMenuGet3","prefab/preMenuGet3Item","prefab/preMenuGetCellNpc","prefab/preMenuGetCellObj","prefab/preQian","prefab/preRedPoint","prefab/preShop1Item","prefab/preShop2Item","prefab/preSkillItem","prefab/preYin","prefab/preYu"]},imgs:{arrow:["package0","img/arrow"],stone:["package0","img/stone"]},ani:{chongfeng:["package0","animation/chongfeng/chongfeng"],hudun:["package0","animation/hudun/hudun"]}};return t.ani={chongfeng:["package0","animation/chongfeng/chongfeng"],hudun:["package0","animation/hudun/hudun"]},t.switch={switchShopBanner:"switchShopBanner",switchGuanBanner:"switchGuanBanner",switchOtherBanner:"switchOtherBanner",switchInfomationAd:"switchInfomationAd",switchInterAdRate:"switchInterAdRate",switchRewardAdRate:"switchRewardAdRate",switchInterAd:"switchInterAd",switchPrivacy:"switchPrivacy",switchRealName:"switchRealName",switchTyqReward1:"switchTyqReward1",switchTyqReward2:"switchTyqReward2",switchTyqReward3:"switchTyqReward3",switchTyqGridAd:"switchTyqGridAd",switchActiveOnLoad:"switchActiveOnLoad"},t.switchWechat={switchBanner:"switchBanner",switchGrid1:"switchGrid1",switchGrid2_1:"switchGrid2_1",switchGrid2_2:"switchGrid2_2",switchGrid3:"switchGrid3",switchGrid4:"switchGrid4",switchRandomAd:"switchRandomAd",propertyRandomAd:"propertyRandomAd",switchSceneWinInterAd:"switchSceneWinInterAd",switchSceneWinGridAd:"switchSceneWinGridAd"},t.event={load:{loading:"\u8fdb\u5165\u52a0\u8f7d\u9875",enterMenu:"\u8fdb\u5165\u6e38\u620f\uff08\u4e3b\u754c\u9762\uff09",teachBattle1:"\u65b0\u624b\u6559\u7a0b\u7b2c\u4e00\u5173\u7ed3\u675f",teachBattle2:"\u65b0\u624b\u6559\u7a0b\u7b2c\u4e8c\u5173\u7ed3\u675f",teachBattle3:"\u65b0\u624b\u6559\u7a0b\u7b2c\u4e09\u5173\u7ed3\u675f",teachBattle4:"\u65b0\u624b\u6559\u7a0b\u7b2c\u56db\u5173\u7ed3\u675f",teachBattle5:"\u8fdb\u5165\u7b2c\u4e94\u5173\u73a9\u5bb6",teachBattleEnd:"\u65b0\u624b\u6559\u7a0b\u5b8c\u56de\u5230\u4e3b\u754c\u9762",clickSetting:"\u70b9\u51fb\u8bbe\u7f6e\u6309\u94ae",clickFight:"\u70b9\u51fb\u6218\u6597\u6309\u94ae"},ad:{extraReward:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u989d\u5916\u83b7\u5f97\u767d\u7389\u5956\u52b1"},teach:{skip:"\u8df3\u8fc7\u6559\u5b66"},battle:{win:"\u7ed3\u7b97\u754c\u9762-\u5355\u500d\u9886\u53d6",winAd:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u6218\u6597\u80dc\u5229\u4e09\u500d\u9886\u53d6",loseAd:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u6218\u6597\u5931\u8d25\u989d\u5916\u5956\u52b1\u9886\u53d6",buffAd1:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u5f00\u5c40\u798f\u5229\u94f6\u4e24",buffAd2:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u5f00\u5c40\u798f\u5229\u653b\u51fb",buffAd3:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u5f00\u5c40\u798f\u5229\u82f1\u96c4\u8bd5\u7528"},shop:{clickShop:"\u70b9\u51fb\u5546\u5e97\u6309\u94ae",adYu:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u9886\u53d6\u767d\u7389",adYin:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u9886\u53d6\u5143\u5b9d",adRefreshShop1:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u5237\u65b0\u5546\u5e97",buyShop1Ad:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u968f\u673a\u5546\u5e97\u767d\u7389\u4e0d\u8db3\u76f4\u63a5\u83b7\u5f97",buyShop2Item0:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u76fe\u5175\u5361\u5305",buyShop2Item1:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u6b65\u5175\u5361\u5305",buyShop2Item2:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u5f13\u5175\u5361\u5305",buyShop2Item3:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u9a91\u5175\u5361\u5305",buyShop2Item0Twice:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u518d\u6b21\u62bd\u5361",buyShop2Item1Twice:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u518d\u6b21\u62bd\u5361",buyShop2Item2Twice:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u518d\u6b21\u62bd\u5361",buyShop2Item3Twice:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u518d\u6b21\u62bd\u5361"},arm:{clickArm:"\u70b9\u51fb\u90e8\u961f\u6309\u94ae",upgradeAd:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u76f4\u63a5\u5347\u7ea7\u90e8\u961f",getArmAd:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u76f4\u63a5\u83b7\u5f97\u90e8\u961f",unlockArmType0Quality2:"\u89e3\u9501\u6a59\u8272\u76fe\u5175",unlockArmType0Quality3:"\u89e3\u9501\u7ea2\u8272\u76fe\u5175",unlockArmType1Quality2:"\u89e3\u9501\u6a59\u8272\u6b65\u5175",unlockArmType1Quality3:"\u89e3\u9501\u7ea2\u8272\u6b65\u5175",unlockArmType2Quality2:"\u89e3\u9501\u6a59\u8272\u5f13\u5175",unlockArmType2Quality3:"\u89e3\u9501\u7ea2\u8272\u5f13\u5175",unlockArmType3Quality1:"\u89e3\u9501\u7eff\u8272\u9a91\u5175",unlockArmType3Quality2:"\u89e3\u9501\u6a59\u8272\u9a91\u5175",unlockArmType3Quality3:"\u89e3\u9501\u7ea2\u8272\u9a91\u5175",upArmType0Quality1:"\u4e0a\u9635\u7eff\u8272\u76fe\u5175",upArmType0Quality2:"\u4e0a\u9635\u6a59\u8272\u76fe\u5175",upArmType0Quality3:"\u4e0a\u9635\u7ea2\u8272\u76fe\u5175",upArmType1Quality1:"\u4e0a\u9635\u7eff\u8272\u6b65\u5175",upArmType1Quality2:"\u4e0a\u9635\u6a59\u8272\u6b65\u5175",upArmType1Quality3:"\u4e0a\u9635\u7ea2\u8272\u6b65\u5175",upArmType2Quality1:"\u4e0a\u9635\u7eff\u8272\u5f13\u5175",upArmType2Quality2:"\u4e0a\u9635\u6a59\u8272\u5f13\u5175",upArmType2Quality3:"\u4e0a\u9635\u7ea2\u8272\u5f13\u5175",upArmType3Quality1:"\u4e0a\u9635\u7eff\u8272\u9a91\u5175",upArmType3Quality2:"\u4e0a\u9635\u6a59\u8272\u9a91\u5175",upArmType3Quality3:"\u4e0a\u9635\u7ea2\u8272\u9a91\u5175",upgradeArmType0Quality1Lv1:"\u7eff\u8272\u76fe\u51751-10\u7ea7",upgradeArmType0Quality1Lv2:"\u7eff\u8272\u76fe\u517511-20\u7ea7",upgradeArmType0Quality1Lv3:"\u7eff\u8272\u76fe\u517521-30\u7ea7",upgradeArmType0Quality1Lv4:"\u7eff\u8272\u76fe\u517531-40\u7ea7",upgradeArmType0Quality1Lv5:"\u7eff\u8272\u76fe\u517541-50\u7ea7",upgradeArmType0Quality2Lv1:"\u6a59\u8272\u76fe\u51751-10\u7ea7",upgradeArmType0Quality2Lv2:"\u6a59\u8272\u76fe\u517511-20\u7ea7",upgradeArmType0Quality2Lv3:"\u6a59\u8272\u76fe\u517521-30\u7ea7",upgradeArmType0Quality2Lv4:"\u6a59\u8272\u76fe\u517531-40\u7ea7",upgradeArmType0Quality2Lv5:"\u6a59\u8272\u76fe\u517541-50\u7ea7",upgradeArmType0Quality3Lv1:"\u7ea2\u8272\u76fe\u51751-10\u7ea7",upgradeArmType0Quality3Lv2:"\u7ea2\u8272\u76fe\u517511-20\u7ea7",upgradeArmType0Quality3Lv3:"\u7ea2\u8272\u76fe\u517521-30\u7ea7",upgradeArmType0Quality3Lv4:"\u7ea2\u8272\u76fe\u517531-40\u7ea7",upgradeArmType0Quality3Lv5:"\u7ea2\u8272\u76fe\u517541-50\u7ea7",upgradeArmType1Quality1Lv1:"\u7eff\u8272\u6b65\u51751-10\u7ea7",upgradeArmType1Quality1Lv2:"\u7eff\u8272\u6b65\u517511-20\u7ea7",upgradeArmType1Quality1Lv3:"\u7eff\u8272\u6b65\u517521-30\u7ea7",upgradeArmType1Quality1Lv4:"\u7eff\u8272\u6b65\u517531-40\u7ea7",upgradeArmType1Quality1Lv5:"\u7eff\u8272\u6b65\u517541-50\u7ea7",upgradeArmType1Quality2Lv1:"\u6a59\u8272\u6b65\u51751-10\u7ea7",upgradeArmType1Quality2Lv2:"\u6a59\u8272\u6b65\u517511-20\u7ea7",upgradeArmType1Quality2Lv3:"\u6a59\u8272\u6b65\u517521-30\u7ea7",upgradeArmType1Quality2Lv4:"\u6a59\u8272\u6b65\u517531-40\u7ea7",upgradeArmType1Quality2Lv5:"\u6a59\u8272\u6b65\u517541-50\u7ea7",upgradeArmType1Quality3Lv1:"\u7ea2\u8272\u6b65\u51751-10\u7ea7",upgradeArmType1Quality3Lv2:"\u7ea2\u8272\u6b65\u517511-20\u7ea7",upgradeArmType1Quality3Lv3:"\u7ea2\u8272\u6b65\u517521-30\u7ea7",upgradeArmType1Quality3Lv4:"\u7ea2\u8272\u6b65\u517531-40\u7ea7",upgradeArmType1Quality3Lv5:"\u7ea2\u8272\u6b65\u517541-50\u7ea7",upgradeArmType2Quality1Lv1:"\u7eff\u8272\u5f13\u51751-10\u7ea7",upgradeArmType2Quality1Lv2:"\u7eff\u8272\u5f13\u517511-20\u7ea7",upgradeArmType2Quality1Lv3:"\u7eff\u8272\u5f13\u517521-30\u7ea7",upgradeArmType2Quality1Lv4:"\u7eff\u8272\u5f13\u517531-40\u7ea7",upgradeArmType2Quality1Lv5:"\u7eff\u8272\u5f13\u517541-50\u7ea7",upgradeArmType2Quality2Lv1:"\u6a59\u8272\u5f13\u51751-10\u7ea7",upgradeArmType2Quality2Lv2:"\u6a59\u8272\u5f13\u517511-20\u7ea7",upgradeArmType2Quality2Lv3:"\u6a59\u8272\u5f13\u517521-30\u7ea7",upgradeArmType2Quality2Lv4:"\u6a59\u8272\u5f13\u517531-40\u7ea7",upgradeArmType2Quality2Lv5:"\u6a59\u8272\u5f13\u517541-50\u7ea7",upgradeArmType2Quality3Lv1:"\u7ea2\u8272\u5f13\u51751-10\u7ea7",upgradeArmType2Quality3Lv2:"\u7ea2\u8272\u5f13\u517511-20\u7ea7",upgradeArmType2Quality3Lv3:"\u7ea2\u8272\u5f13\u517521-30\u7ea7",upgradeArmType2Quality3Lv4:"\u7ea2\u8272\u5f13\u517531-40\u7ea7",upgradeArmType2Quality3Lv5:"\u7ea2\u8272\u5f13\u517541-50\u7ea7",upgradeArmType3Quality1Lv1:"\u7eff\u8272\u9a91\u51751-10\u7ea7",upgradeArmType3Quality1Lv2:"\u7eff\u8272\u9a91\u517511-20\u7ea7",upgradeArmType3Quality1Lv3:"\u7eff\u8272\u9a91\u517521-30\u7ea7",upgradeArmType3Quality1Lv4:"\u7eff\u8272\u9a91\u517531-40\u7ea7",upgradeArmType3Quality1Lv5:"\u7eff\u8272\u9a91\u517541-50\u7ea7",upgradeArmType3Quality2Lv1:"\u6a59\u8272\u9a91\u51751-10\u7ea7",upgradeArmType3Quality2Lv2:"\u6a59\u8272\u9a91\u517511-20\u7ea7",upgradeArmType3Quality2Lv3:"\u6a59\u8272\u9a91\u517521-30\u7ea7",upgradeArmType3Quality2Lv4:"\u6a59\u8272\u9a91\u517531-40\u7ea7",upgradeArmType3Quality2Lv5:"\u6a59\u8272\u9a91\u517541-50\u7ea7",upgradeArmType3Quality3Lv1:"\u7ea2\u8272\u9a91\u51751-10\u7ea7",upgradeArmType3Quality3Lv2:"\u7ea2\u8272\u9a91\u517511-20\u7ea7",upgradeArmType3Quality3Lv3:"\u7ea2\u8272\u9a91\u517521-30\u7ea7",upgradeArmType3Quality3Lv4:"\u7ea2\u8272\u9a91\u517531-40\u7ea7",upgradeArmType3Quality3Lv5:"\u7ea2\u8272\u9a91\u517541-50\u7ea7"},guan:{clickGuan:"\u70b9\u51fb\u5b98\u804c\u6309\u94ae",set1:"\u5b98\u804c-\u767d\u8eab",set2:"\u5b98\u804c-\u4e5d\u54c1",set3:"\u5b98\u804c-\u516b\u54c1",set4:"\u5b98\u804c-\u4e03\u54c1",set5:"\u5b98\u804c-\u516d\u54c1",set6:"\u5b98\u804c-\u4e94\u54c1",set7:"\u5b98\u804c-\u56db\u54c1",set8:"\u5b98\u804c-\u4e09\u54c1",set9:"\u5b98\u804c-\u4e8c\u54c1",set10:"\u5b98\u804c-\u4e00\u54c1",set11:"\u5b98\u804c-\u5bb0\u76f8",set12:"\u5b98\u804c-\u738b\u7237",set13:"\u5b98\u804c-\u7687\u5e1d",get0:"\u9886\u53d6\u5b98\u804c\u5956\u52b1-\u767d\u8eab",get1:"\u9886\u53d6\u5b98\u804c\u5956\u52b1-\u4e5d\u54c1",get2:"\u9886\u53d6\u5b98\u804c\u5956\u52b1-\u516b\u54c1",get3:"\u9886\u53d6\u5b98\u804c\u5956\u52b1-\u4e03\u54c1",get4:"\u9886\u53d6\u5b98\u804c\u5956\u52b1-\u516d\u54c1",get5:"\u9886\u53d6\u5b98\u804c\u5956\u52b1-\u4e94\u54c1",get6:"\u9886\u53d6\u5b98\u804c\u5956\u52b1-\u56db\u54c1",get7:"\u9886\u53d6\u5b98\u804c\u5956\u52b1-\u4e09\u54c1",get8:"\u9886\u53d6\u5b98\u804c\u5956\u52b1-\u4e8c\u54c1",get9:"\u9886\u53d6\u5b98\u804c\u5956\u52b1-\u4e00\u54c1",get10:"\u9886\u53d6\u5b98\u804c\u5956\u52b1-\u5bb0\u76f8",get11:"\u9886\u53d6\u5b98\u804c\u5956\u52b1-\u738b\u7237",get12:"\u9886\u53d6\u5b98\u804c\u5956\u52b1-\u7687\u5e1d",getAd0:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u5b98\u804c\u5956\u52b1\u767d\u8eab",getAd1:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u5b98\u804c\u5956\u52b1\u4e5d\u54c1",getAd2:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u5b98\u804c\u5956\u52b1\u516b\u54c1",getAd3:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u5b98\u804c\u5956\u52b1\u4e03\u54c1",getAd4:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u5b98\u804c\u5956\u52b1\u516d\u54c1",getAd5:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u5b98\u804c\u5956\u52b1\u4e94\u54c1",getAd6:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u5b98\u804c\u5956\u52b1\u56db\u54c1",getAd7:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u5b98\u804c\u5956\u52b1\u4e09\u54c1",getAd8:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u5b98\u804c\u5956\u52b1\u4e8c\u54c1",getAd9:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u5b98\u804c\u5956\u52b1\u4e00\u54c1",getAd10:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u5b98\u804c\u5956\u52b1\u5bb0\u76f8",getAd11:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u5b98\u804c\u5956\u52b1\u738b\u7237",getAd12:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u5b98\u804c\u5956\u52b1\u7687\u5e1d"},qian:{clickQian:"\u70b9\u51fb\u7b7e\u5230\u6309\u94ae",qian0:"\u7b7e\u5230\u9886\u53d6\u5956\u52b1",qian1:"\u7b7e\u5230\u9886\u53d6\u5956\u52b1",qian2:"\u7b7e\u5230\u9886\u53d6\u5956\u52b1",qian3:"\u7b7e\u5230\u9886\u53d6\u5956\u52b1",qian4:"\u7b7e\u5230\u9886\u53d6\u5956\u52b1",qian5:"\u7b7e\u5230\u9886\u53d6\u5956\u52b1",qian6:"\u7b7e\u5230\u9886\u53d6\u5956\u52b1",qianAd:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u53cc\u500d\u9886\u53d6\u7b7e\u5230\u5956\u52b1"},chou:{clickChou:"\u70b9\u51fb\u62bd\u5956\u6309\u94ae",chou:"\u6d88\u8017\u5143\u5b9d\u62bd\u5956\u4e00\u6b21",chouAd:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u83b7\u5f97\u4e00\u6b21\u62bd\u5956\u673a\u4f1a",chou10Ad:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u5341\u8fde\u62bd",doubleRewardAd:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u53cc\u500d\u9886\u53d6\u5956\u52b1",chouBig:"\u9886\u53d6\u8fde\u62bd\u5927\u5956"},bing:(e={clickBing:"\u70b9\u51fb\u5175\u4e66\u6309\u94ae",upgradePig:"\u5347\u7ea7\u8c0b\u58eb",upgradePig2:"\u8c0b\u58eb2\u7ea7",upgradePig3:"\u8c0b\u58eb3\u7ea7",upgradePig4:"\u8c0b\u58eb4\u7ea7",upgradePig5:"\u8c0b\u58eb5\u7ea7",upgradePig6:"\u8c0b\u58eb6\u7ea7",upgradePig7:"\u8c0b\u58eb7\u7ea7",upgradePig8:"\u8c0b\u58eb8\u7ea7",upgradePigAd:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u76f4\u63a5\u5347\u7ea7\u8bf8\u845b\u4eae",upgradeJice1:"\u5347\u7ea7\u8ba1\u7b56-\u706b\u70e7\u8054\u8425",upgradeJice2:"\u5347\u7ea7\u8ba1\u7b56-\u7a7a\u57ce\u8ba1",upgradeJice3:"\u5347\u7ea7\u8ba1\u7b56-\u6c34\u6df9\u4e03\u519b",upgradeJice4:"\u5347\u7ea7\u8ba1\u7b56-\u4e07\u7bad\u9f50\u53d1",upgradeJice5:"\u5347\u7ea7\u8ba1\u7b56-\u7f8e\u4eba\u8ba1",upgradeJice6:"\u5347\u7ea7\u8ba1\u7b56-\u6218\u65e0\u4e0d\u80dc",upgradeJiceAd:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u76f4\u63a5\u5347\u7ea7\u8ba1\u7b56",upgradeJice1Lv2:"\u8ba1\u7b56-\u706b\u70e7\u8054\u84252\u7ea7",upgradeJice1Lv3:"\u8ba1\u7b56-\u706b\u70e7\u8054\u84253\u7ea7",upgradeJice1Lv4:"\u8ba1\u7b56-\u706b\u70e7\u8054\u84254\u7ea7",upgradeJice1Lv5:"\u8ba1\u7b56-\u706b\u70e7\u8054\u84255\u7ea7",upgradeJice1Lv6:"\u8ba1\u7b56-\u706b\u70e7\u8054\u84256\u7ea7",upgradeJice1Lv7:"\u8ba1\u7b56-\u706b\u70e7\u8054\u84257\u7ea7",upgradeJice1Lv8:"\u8ba1\u7b56-\u706b\u70e7\u8054\u84258\u7ea7",upgradeJice1Lv9:"\u8ba1\u7b56-\u706b\u70e7\u8054\u84259\u7ea7",upgradeJice1Lv10:"\u8ba1\u7b56-\u706b\u70e7\u8054\u842510\u7ea7",upgradeJice2Lv2:"\u8ba1\u7b56-\u7a7a\u57ce\u8ba12\u7ea7",upgradeJice2Lv3:"\u8ba1\u7b56-\u7a7a\u57ce\u8ba13\u7ea7",upgradeJice2Lv4:"\u8ba1\u7b56-\u7a7a\u57ce\u8ba14\u7ea7",upgradeJice2Lv5:"\u8ba1\u7b56-\u7a7a\u57ce\u8ba15\u7ea7",upgradeJice2Lv6:"\u8ba1\u7b56-\u7a7a\u57ce\u8ba16\u7ea7",upgradeJice2Lv7:"\u8ba1\u7b56-\u7a7a\u57ce\u8ba17\u7ea7",upgradeJice2Lv8:"\u8ba1\u7b56-\u7a7a\u57ce\u8ba18\u7ea7",upgradeJice2Lv9:"\u8ba1\u7b56-\u7a7a\u57ce\u8ba19\u7ea7",upgradeJice2Lv10:"\u8ba1\u7b56-\u7a7a\u57ce\u8ba110\u7ea7",upgradeJice3Lv2:"\u8ba1\u7b56-\u6c34\u6df9\u4e03\u519b2\u7ea7",upgradeJice3Lv3:"\u8ba1\u7b56-\u6c34\u6df9\u4e03\u519b3\u7ea7",upgradeJice3Lv4:"\u8ba1\u7b56-\u6c34\u6df9\u4e03\u519b4\u7ea7",upgradeJice3Lv5:"\u8ba1\u7b56-\u6c34\u6df9\u4e03\u519b5\u7ea7",upgradeJice3Lv6:"\u8ba1\u7b56-\u6c34\u6df9\u4e03\u519b6\u7ea7",upgradeJice3Lv7:"\u8ba1\u7b56-\u6c34\u6df9\u4e03\u519b7\u7ea7",upgradeJice3Lv8:"\u8ba1\u7b56-\u6c34\u6df9\u4e03\u519b8\u7ea7",upgradeJice3Lv9:"\u8ba1\u7b56-\u6c34\u6df9\u4e03\u519b9\u7ea7",upgradeJice3Lv10:"\u8ba1\u7b56-\u6c34\u6df9\u4e03\u519b10\u7ea7",upgradeJice4Lv:"\u8ba1\u7b56-\u4e07\u7bad\u9f50\u53d12\u7ea7"},e.upgradeJice4Lv="\u8ba1\u7b56-\u4e07\u7bad\u9f50\u53d13\u7ea7",e.upgradeJice4Lv="\u8ba1\u7b56-\u4e07\u7bad\u9f50\u53d14\u7ea7",e.upgradeJice4Lv="\u8ba1\u7b56-\u4e07\u7bad\u9f50\u53d15\u7ea7",e.upgradeJice4Lv="\u8ba1\u7b56-\u4e07\u7bad\u9f50\u53d16\u7ea7",e.upgradeJice4Lv="\u8ba1\u7b56-\u4e07\u7bad\u9f50\u53d17\u7ea7",e.upgradeJice4Lv="\u8ba1\u7b56-\u4e07\u7bad\u9f50\u53d18\u7ea7",e.upgradeJice4Lv="\u8ba1\u7b56-\u4e07\u7bad\u9f50\u53d19\u7ea7",e.upgradeJice4Lv="\u8ba1\u7b56-\u4e07\u7bad\u9f50\u53d110\u7ea7",e.upgradeJice5Lv="\u8ba1\u7b56-\u7f8e\u4eba\u8ba12\u7ea7",e.upgradeJice5Lv="\u8ba1\u7b56-\u7f8e\u4eba\u8ba13\u7ea7",e.upgradeJice5Lv="\u8ba1\u7b56-\u7f8e\u4eba\u8ba14\u7ea7",e.upgradeJice5Lv="\u8ba1\u7b56-\u7f8e\u4eba\u8ba15\u7ea7",e.upgradeJice5Lv="\u8ba1\u7b56-\u7f8e\u4eba\u8ba16\u7ea7",e.upgradeJice5Lv="\u8ba1\u7b56-\u7f8e\u4eba\u8ba17\u7ea7",e.upgradeJice5Lv="\u8ba1\u7b56-\u7f8e\u4eba\u8ba18\u7ea7",e.upgradeJice5Lv="\u8ba1\u7b56-\u7f8e\u4eba\u8ba19\u7ea7",e.upgradeJice5Lv="\u8ba1\u7b56-\u7f8e\u4eba\u8ba110\u7ea7",e.upgradeJice6Lv="\u8ba1\u7b56-\u6218\u65e0\u4e0d\u80dc2\u7ea7",e.upgradeJice6Lv="\u8ba1\u7b56-\u6218\u65e0\u4e0d\u80dc3\u7ea7",e.upgradeJice6Lv="\u8ba1\u7b56-\u6218\u65e0\u4e0d\u80dc4\u7ea7",e.upgradeJice6Lv="\u8ba1\u7b56-\u6218\u65e0\u4e0d\u80dc5\u7ea7",e.upgradeJice6Lv="\u8ba1\u7b56-\u6218\u65e0\u4e0d\u80dc6\u7ea7",e.upgradeJice6Lv="\u8ba1\u7b56-\u6218\u65e0\u4e0d\u80dc7\u7ea7",e.upgradeJice6Lv="\u8ba1\u7b56-\u6218\u65e0\u4e0d\u80dc8\u7ea7",e.upgradeJice6Lv="\u8ba1\u7b56-\u6218\u65e0\u4e0d\u80dc9\u7ea7",e.upgradeJice6Lv="\u8ba1\u7b56-\u6218\u65e0\u4e0d\u80dc10\u7ea7",e),building:{clickBuilding:"\u70b9\u51fb\u5efa\u7b51\u6309\u94ae",unlockLeftCenter:"\u89e3\u9501\u7a7a\u5730-1",unlockRightCenter:"\u89e3\u9501\u7a7a\u5730-3",unlockLeftTop:"\u89e3\u9501\u7a7a\u5730-2",unlockRightTop:"\u89e3\u9501\u7a7a\u5730-4",recyleJianta:"\u56de\u6536\u7bad\u5854",recyleToushiche:"\u56de\u6536\u6295\u77f3\u8f66",putonJianTaTotal:"\u4e0a\u9635\u7bad\u5854",putonTouShiCheTotal:"\u4e0a\u9635\u6295\u77f3\u8f66",putonJianTaAd:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u76f4\u63a5\u83b7\u5f97\u519b\u4e8b\u5efa\u7b51",upgradeJianTaNormal:"\u5347\u7ea7\u7bad\u5854",upgradeJianTaAd:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u76f4\u63a5\u5347\u7ea7\u519b\u4e8b\u5efa\u7b51",putonTouShiCheAd:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u76f4\u63a5\u83b7\u5f97\u519b\u4e8b\u5efa\u7b51",upgradeTouShiCheNormal:"\u5347\u7ea7\u6295\u77f3\u8f66",upgradeTouShiCheAd:"\u89c2\u770b\u6fc0\u52b1\u89c6\u9891-\u76f4\u63a5\u5347\u7ea7\u519b\u4e8b\u5efa\u7b51",jianta1:"\u7bad\u58541-10\u7ea7",jianta2:"\u7bad\u585411-20\u7ea7",jianta3:"\u7bad\u585421-30\u7ea7",jianta4:"\u7bad\u585431-40\u7ea7",jianta5:"\u7bad\u585441-50\u7ea7",toushiche1:"\u6295\u77f3\u8f661-10\u7ea7",toushiche2:"\u6295\u77f3\u8f6611-20\u7ea7",toushiche3:"\u6295\u77f3\u8f6621-30\u7ea7",toushiche4:"\u6295\u77f3\u8f6631-40\u7ea7",toushiche5:"\u6295\u77f3\u8f6641-50\u7ea7"}},t.triggerScene={default:0,inMenu:1e3,inMenu0:1100,inMenu1:1200,inMenu2:1300,inMenu3:1400,inMenu4:1500,inBattle:2e3,inBattleJice:2500},t.triggerLogic={larger:0,equal:1,small:2},t.triggerBtnType={default:0,click:1,forceClick:2,forceSlide:3,forceDragToNode:4},t.triggerDialog={default:0,yes:1},t.teachEventId={default:0,enterBattle:100,battleTeachArm:101,battleTeachJice:102,menuClick1:103,menuClick3:104,menuClick0:105,menu1Drag:1100,menu1ClickCard:1101,menu1ClickUpgrade:1102},t.teachEventValue={incomplete:0,trigger:1,complete:2},t}),cc._RF.pop()},{}],eventListener:[function(e,t){"use strict";cc._RF.push(t,"bb0f5HsPcFGGrzfC20VbjQa","eventListener"),window.kf=window.kf||{},kf.addModule=kf.addModule||function(){},kf.addModule("basic.eventListener",function(){var e={on:function(e,t){this[e]&&console.error(e+" had already register"),this[e]=t},dispatch:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=t[0],o=this[i],a=[],s=1;s<t.length;s++)a.push(t[s]);if(o)try{o.apply(this,a)}catch(r){console.error(r)}else cc.log("not register "+i+"    callback func")}},t={on:function(e,t,n){void 0===n&&(n=null),null==n&&(n="noname"),this.handlers||(this.handlers=[]),this.handlersName||(this.handlersName=[]),this.handlers[e]||(this.handlers[e]=[]),this.handlersName[e]||(this.handlersName[e]=[]);for(var i=0;i<this.handlers[e].length;i++)if(!this.handlers[e][i])return this.handlers[e][i]=t,this.handlersName[e][i]=n,i;return this.handlers[e].push(t),this.handlersName[e].push(n),this.handlers[e].length},dispatch:function(e){var t,n=this.handlers[e];if(n){for(var i=n.length,o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];for(t=0;t<i;t++){var r=n[t];if(r)try{r.apply(void 0,a)}catch(c){console.error(c)}}}},off:function(e,t){var n=this.handlers[e],i=this.handlersName[e];if(n&&i)for(var o=0;o<i.length;o++)i[o]==t&&(n.splice(o,1),i.splice(o,1))}};return{create:function(n){var i={};return"multi"===n?(i=Object.create(t)).handlers={}:i=Object.create(e),i}}}),cc._RF.pop()},{}],fullSceneWidget:[function(e,t){"use strict";cc._RF.push(t,"a4ab4Mu3TRKAaP9iXdubUiq","fullSceneWidget");var n=cc.Enum({Top:1,Bottom:2});cc.Class({extends:cc.Component,editor:{menu:"util/fullSceneWidget",requireComponent:cc.Widget,disallowMultiple:!0},properties:{widgetDirection:{default:n.Top,type:n,displayName:"\u9002\u914d\u65b9\u5411",tooltip:"\u9876\u90e8\u9002\u914d\u8fd8\u662f\u5e95\u90e8\u9002\u914d"}},onLoad:function(){this.widgetComp=this.node.getComponent(cc.Widget),this.originTop=this.widgetComp.top||0,this.originBottom=this.widgetComp.bottom||0,this.fullSceneAdaptive()},fullSceneAdaptive:function(){if(this.isWeChatGame())this.widgetDirection===n.Top?(this.widgetComp.top=this.originTop+this.getTopWidget(),this.widgetComp.updateAlignment()):this.widgetDirection===n.Bottom&&(this.widgetComp.bottom=this.originBottom+this.getBottomWidget(),this.widgetComp.updateAlignment());else if(this.isOppoGame()&&"undefined"!=typeof qg&&null!=qg){var e=qg.getSystemInfoSync();this.widgetComp.top=this.originTop+e.statusBarHeight,this.widgetComp.updateAlignment()}},getTopWidget:function(){if(!this.isWeChatGame())return 0;var e;if("undefined"!=typeof wx&&void 0!==wx.getMenuButtonBoundingClientRect){var t=wx.getMenuButtonBoundingClientRect();cc.log("",t),e=t.top>20?40:Math.max(t.top-20,0)}return e?e/cc.view.getFrameSize().height*cc.view.getDesignResolutionSize().height:0},getBottomWidget:function(){return this.isWeChatGame()&&this.isIphoneX()?34/cc.view.getFrameSize().height*cc.view.getDesignResolutionSize().height:0},isIphoneX:function(){if(!this.isWeChatGame())return!1;if(window.wx){var e=wx.getSystemInfoSync().model;return e.search(/iPhone X/gi)>-1||e.search(/<iPhone11.*>/gi)>-1}},isIphoneXFrameSize:function(){var e=cc.view.getFrameSize();return 375===e.width&&812===e.height},isWeChatGame:function(){return cc.sys.platform===cc.sys.WECHAT_GAME},isOppoGame:function(){return platform==PLATFORM_OPPO},showDebugView:function(){var e=cc.find("Canvas"),t=e.getChildByName("DebugFullScene");if(!t){(t=new cc.Node("DebugFullScene")).parent=e,t.zIndex=99;var n=t.addComponent(cc.Graphics);n.lineWidth=2;var i=209/cc.view.getFrameSize().width*cc.view.getDesignResolutionSize().width,o=44/cc.view.getFrameSize().height*cc.view.getDesignResolutionSize().height,a=-i/2,s=cc.winSize.height/2-o;n.rect(a,s,i,o),n.strokeColor=cc.Color.GREEN,n.fillColor=cc.Color.GREEN,n.stroke()}}}),cc._RF.pop()},{}],jsonTablesSub:[function(e,t){"use strict";cc._RF.push(t,"3f52727c/5KW6jQmOALpMMg","jsonTablesSub"),window.jsonTables=window.jsonTables||{},window.tb=window.tb||{},jsonTables.TABLE={SOUND:"sound",ENEMY:"enemy",BUILDING:"building",PIG:"pig",GUANZHI:"guanzhi",SKILL:"skill",ARMTYPE:"armType",ARM:"arm",JICEDETAIL:"jiceDetail",CHOUJIANG:"choujiang",ITEM:"item",AD:"ad",CFG:"cfg",TEACH:"teach",SPINE:"spine",JICETYPE:"jiceType",BATTLE:"battle",CHOUJIANGLEVEL:"choujiangLevel",ROUND:"round",SHOP2:"shop2",ARMS:"arms",QIANDAO:"qiandao",BUFF:"buff",SHOP1:"shop1",SHOP0:"shop0"},jsonTables.CONFIG_SOUND={Tid:"Tid",Name:"name",Loop:"loop",Type:"type",PicPackage:"picPackage",PicPath:"picPath"},jsonTables.CONFIG_ENEMY={Tid:"Tid",Name:"name",Type:"type",Quality:"quality",Level:"level",Exp:"exp",Price:"price",TargetRange:"targetRange",Attack:"attack",Hp:"hp",AtkSpeed:"atkSpeed",AtkRange:"atkRange",MoveSpeed:"moveSpeed",Intelligence:"Intelligence"},jsonTables.CONFIG_BUILDING={Tid:"Tid",Name:"name",Des:"des",Level:"level",Type:"type",Hp:"hp",Attack:"attack",AtkSpeed:"atkSpeed",AtkRange:"atkRange",AtkNumber:"atkNumber",Price:"price",Recycle:"recycle",PicPackage:"picPackage",PicPath:"picPath"},jsonTables.CONFIG_PIG={Tid:"Tid",Time:"time",Price:"price",Ad:"ad"},jsonTables.CONFIG_GUANZHI={Tid:"Tid",Name:"name",Count:"count",Des:"des",TargetRange:"targetRange",Item:"item",Num:"num",PicPackage:"picPackage",PicPath:"picPath"},jsonTables.CONFIG_SKILL={Tid:"Tid",Name:"name",Type:"type",NpcLevel:"npcLevel",Des:"des",Num:"num",PicPackage:"picPackage",PicPath:"picPath",Spine:"spine"},jsonTables.CONFIG_ARMTYPE={Tid:"Tid",Name:"name",Type:"type",Des:"des",Scale:"scale",SkillA:"skillA",SkillB:"skillB",SkillC:"skillC",SkillD:"skillD",PicPackage:"picPackage",PicPath:"picPath"},jsonTables.CONFIG_ARM={Tid:"Tid",Name:"name",Type:"type",Quality:"quality",Level:"level",Exp:"exp",Upgrade:"upgrade",Price:"price",TargetRange:"targetRange",Attack:"attack",Hp:"hp",AtkSpeed:"atkSpeed",AtkRange:"atkRange",MoveSpeed:"moveSpeed",Intelligence:"Intelligence"},jsonTables.CONFIG_JICEDETAIL={Tid:"Tid",JiceType:"jiceType",Level:"level",Exp:"exp",Num:"num",Price:"price",Suipian:"suipian",Cost:"cost",Other:"other",Special:"special"},jsonTables.CONFIG_CHOUJIANG={Tid:"Tid",Item:"item",Num:"num",Percent:"percent"},jsonTables.CONFIG_ITEM={Tid:"Tid",Name:"name",Type:"type",Des:"des",ArmType:"armType",JiceType:"jiceType",Quality:"quality",Unlock:"unlock",Price:"price",PicPackage:"picPackage",PicPath:"picPath"},jsonTables.CONFIG_AD={Tid:"Tid",Name:"name",Btn:"btn",Des:"des",IconPackage:"iconPackage",IconPath:"iconPath"},jsonTables.CONFIG_CFG={Tid:"Tid",Shop1RefreshCost:"shop1RefreshCost",Shop1RefreshAdd:"shop1RefreshAdd"},jsonTables.CONFIG_TEACH={Tid:"Tid",Name:"name",EventId:"eventId",Path:"path",TriggerScene:"triggerScene",TriggerLogic:"triggerLogic",TriggerBattle:"triggerBattle",TriggerCompleteTeach:"triggerCompleteTeach",TriggerBtnType:"triggerBtnType",ClickPos:"clickPos",DragPath:"dragPath",TriggerDialog:"triggerDialog",DialogPos:"dialogPos",Dialog:"dialog",Mask:"mask",MaskSelf:"maskSelf",FailNotice:"failNotice"},jsonTables.CONFIG_SPINE={Tid:"Tid",Name:"name",Des:"des",PicPackage:"picPackage",PicPath:"picPath",Animation:"animation",Event:"event",IsFullScreen:"isFullScreen",Zoom:"zoom",Loop:"loop"},jsonTables.CONFIG_JICETYPE={Tid:"Tid",Name:"name",Des:"des",Spine:"spine",PicPackage:"picPackage",PicPath:"picPath"},jsonTables.CONFIG_BATTLE={Tid:"Tid",Name:"name",CellWidth:"cellWidth",CellHeight:"cellHeight",Drop:"drop",DropNum:"dropNum",Coin:"coin"},jsonTables.CONFIG_CHOUJIANGLEVEL={Tid:"Tid",Count:"count",Item:"item",Num:"num"},jsonTables.CONFIG_ROUND={Tid:"Tid",Name:"name",Battle:"battle",Time:"time"},jsonTables.CONFIG_SHOP2={Tid:"Tid",Type:"type",Quality:"quality",Percent:"percent",Item:"item"},jsonTables.CONFIG_ARMS={Tid:"Tid",Round:"round",Arm:"arm",Level:"level",Num:"num",Drop:"drop",DropNum:"dropNum"},jsonTables.CONFIG_QIANDAO={Tid:"Tid",Item:"item",Num:"num"},jsonTables.CONFIG_BUFF={Tid:"Tid",Des:"des",Num:"num"},jsonTables.CONFIG_SHOP1={Tid:"Tid",Item:"item",Way:"way",Price:"price",Percent:"percent"},jsonTables.CONFIG_SHOP0={Tid:"Tid",Des:"des",Num:"num"},cc._RF.pop()},{}],jsonTables:[function(e,t){"use strict";cc._RF.push(t,"dac33DgJVtLD51xsK+ywdeU","jsonTables"),window.jsonTables=window.jsonTables||{},jsonTables.extFlag="ext",jsonTables.initTableConfig=function(e){for(var t in e)e.hasOwnProperty(t)&&(jsonTables[t]=e[t],console.log("\u521d\u59cb\u5316\u8868\u683c\uff1a"+t))},jsonTables._initTable=function(e){for(var t=0,n=jsonTables[e].length;t<n;t++){var i=jsonTables[e][t];i.Tid&&(jsonTables[e+jsonTables.extFlag]=jsonTables[e+jsonTables.extFlag]||{},jsonTables[e+jsonTables.extFlag][i.Tid]=i)}},jsonTables.getJsonTable=function(e){return jsonTables[e]},jsonTables.getJsonTableSize=function(e){return jsonTables[e+jsonTables.extFlag]||this._initTable(e),Object.keys(jsonTables[e+jsonTables.extFlag]).length},jsonTables.getJsonTableObj=function(e,t,n,i){void 0===i&&(i=!0);var o=null;if(jsonTables[e+jsonTables.extFlag]||this._initTable(e),jsonTables[e+jsonTables.extFlag]&&jsonTables[e+jsonTables.extFlag][t]&&(o=null!=n&&jsonTables[e+jsonTables.extFlag][t][n]?jsonTables[e+jsonTables.extFlag][t][n]:jsonTables[e+jsonTables.extFlag][t]),!o){var a=this.getJsonTable(e);if(a)for(var s=0;s<a.length;s++)if(a[s].Tid===t){o=a[s];break}}if(i&&!o&&e!==jsonTables.TABLE.HEAD&&e!==jsonTables.TABLE.STORY){var r="\u914d\u7f6e\u8868\u6570\u636e\u672a\u627e\u5230\uff01\uff01\u8868\u540d->"+e+",Tid->"+t;r=null!=n?r+",Lv->"+n:r,cc.error(r)}return o},jsonTables.getJsonTableArrObj=function(e,t,n){var i=[];jsonTables[e+jsonTables.extFlag]||this._initTable(e);for(var o=jsonTables.getJsonTableSize(e),a=1;a<=o;a++)jsonTables[e+jsonTables.extFlag]&&jsonTables[e+jsonTables.extFlag][a]&&null!=n&&jsonTables[e+jsonTables.extFlag][a][t]&&jsonTables[e+jsonTables.extFlag][a][t]==n&&i.push(jsonTables[e+jsonTables.extFlag][a]);if(!i&&e!==jsonTables.TABLE.HEAD&&e!==jsonTables.TABLE.STORY){var s="\u914d\u7f6e\u8868\u6570\u636e\u672a\u627e\u5230\uff01\uff01\u8868\u540d->"+e+",Tid->"+t;s=null!=n?s+",Lv->"+n:s,cc.error(s)}return i},jsonTables.randomArrObj=function(e){return e[jsonTables.randomIntegerN2M(0,e.length-1)]},jsonTables.dealName=function(e){for(var t=0,n="",i=0;i<e.length;i++){var o=e.charCodeAt(i);if(t+=o>=0&&o<=128?1:2,n+=e[i],t>=10&&i<e.length-1){n+="...";break}}return n},jsonTables.randomArrCountObj=function(e,t){if(0===t)return[];if(t>=e.length)return e;for(var n,i,o=e.slice(0),a=e.length,s=a-t;a-- >s;)n=o[i=Math.floor((a+1)*Math.random())],o[i]=o[a],o[a]=n;return o.slice(s)},jsonTables.randomArrCountObjEx=function(e,t,n){if(0===t)return[];if(t>=e.length)return e;if(n&&n.length>=t)return n;for(var i=n||[];i.length<t;){var o=Math.floor((e.length-1)*Math.random());e[o]&&-1===i.indexOf(e[o])&&i.push(e[o])}return i},jsonTables.randomIntegerN2M=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},jsonTables.randonByRand=function(e){return e instanceof Array?e.sort(function(){return Math.random()-.5}):e},jsonTables.randomSoleInteger=function(e){for(var t=e.length,n=(e=cc.js.array.copy(e),[]),i=0;i<t;i++){var o=Math.floor(Math.random()*e.length);n.push(e[o]),e.splice(o,1)}return n},jsonTables.probabilityCanHappen=function(e){return jsonTables.randomIntegerN2M(0,100)<=e},jsonTables.probability=function(){for(var e=0,t=arguments[0],n=0,i=0;i<t.length;i++)n+=t[i];for(var o=new Array,a=0;a<t.length;a++){for(var s=t[a],r=0;r<s;r++)o.push(e);e++}var c=jsonTables.randomIntegerN2M(0,n-1),d=o[c];return d},jsonTables.getTimeStr=function(e){var t=Math.floor(e/60),n=Math.floor(e-60*t);return t?t+"\u5206"+n+"\u79d2":n+"\u79d2"},jsonTables.getRandomName=function(){var e=this.getJsonTable(jsonTables.TABLE.NAME),t=jsonTables.randomArrObj(e),n=jsonTables.randomArrObj(e);return t.zhPre+n.zhName+jsonTables.randomIntegerN2M(10,99)},jsonTables.dealName=function(e){for(var t=0,n="",i=0;i<e.length;i++){var o=e.charCodeAt(i);if(t+=o>=0&&o<=128?1:2,n+=e[i],t>=12&&i<e.length-1){n+="...";break}}return n},jsonTables.getGameBaseValue=function(e){return jsonTables[jsonTables.TABLE.GAMEBASE][e]},jsonTables.getRankConfig=function(e){for(var t=jsonTables.getJsonTable(jsonTables.TABLE.SEGMENT),n=1,i=t.length;n<i&&!(t[n].point>e);n++);return t[n-1]},jsonTables.getRankName=function(e){for(var t=jsonTables.getJsonTable(jsonTables.TABLE.SEGMENT),n=1,i=t.length;n<i&&!(t[n].point>e);n++);return t[n-1].name},jsonTables.getRankChapter=function(e){for(var t,n=jsonTables.getJsonTable(jsonTables.TABLE.SEGMENT),i=1,o=n.length;i<o&&!(n[i].point>e);i++);for(var a=n[i-1].range;!t;){var s=jsonTables.randomIntegerN2M(a[0],a[1]),r=jsonTables.getJsonTableObj(jsonTables.TABLE.CHAPTER,s);r?t=r:cc.error(s+"\u5173\u5361\u627e\u4e0d\u5230\u554a")}return t},jsonTables.isJsonString=function(e){try{if("object"==typeof JSON.parse(e))return console.log("\u6536\u5230object"),!0}catch(t){console.log(t)}return!1},jsonTables.getAge=function(e){var t=Math.floor(e/60);return Math.floor(2.91*Math.pow(t,.5223))},jsonTables.getOffset=function(e){return 85*this.getLog(30,Math.pow(e+1,.9))+1.2*e+20*this.getLog(35+e,e)},jsonTables.getLog=function(e,t){return Math.log(t)/Math.log(e)},jsonTables.refreshView=function(e,t,n,i){for(var o=t.children,a=0;a<e.length;++a){var s=void 0;if(a>=o.length){if(!(s=cc.instantiate(n)))return;s.parent=t}(s=o[a]).getComponent(n.name)&&s.getComponent(n.name).init(a,e[a]),i&&i(a,s)}for(;o.length>e.length;)o[o.length-1].destroy(),o[o.length-1].removeFromParent()},cc._RF.pop()},{}],kuaishou:[function(e,t,n){"use strict";cc._RF.push(t,"c37d0W9JpVJ7K70qdtXacz0","kuaishou"),Object.defineProperty(n,"__esModule",{value:!0}),n.KS=void 0;var i=function(){function e(){this.rewardedVideoAd=null,this.mediaRecorder=null,this.video=null,this._rewardedVideoAdUnitId="2300001739_01",this.appId="ks685954522284992897",this.app_secret="",this.ksError=""}return Object.defineProperty(e.prototype,"rewardedVideoAdUnitId",{set:function(e){this._rewardedVideoAdUnitId=e},enumerable:!1,configurable:!0}),e.prototype.getSystemInfo=function(){kwaigame.getSystemInfo({response:function(e){console.log("\u83b7\u53d6\u7cfb\u7edf\u4fe1\u606f:"+JSON.stringify(e))}})},e.prototype.getLaunchOptionsSync=function(){kwaigame.getLaunchOptionsSync()},e.prototype.gameInit=function(){kwaigame.init({appId:this.appId})},e.prototype.readyGo=function(){kwaigame.readyGo()},e.prototype.KSlogin=function(e){kwaigame.login({success:function(t){console.log("\u767b\u5f55\u6210\u529f:"+JSON.stringify(t)),e&&e(t)},fail:function(e){console.log("\u767b\u5f55\u5931\u8d25:"+JSON.stringify(e))}})},e.prototype.authorize=function(e,t){kwaigame.authorize({scope:"scope.userInfo",success:function(t){console.log("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u6210\u529f\uff1a"+JSON.stringify(t)),e(t)},fail:function(e){console.log("\u6388\u6743\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25: "+JSON.stringify(e)),t()},complete:function(){console.log("\u6388\u6743\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5b8c\u6210")}})},e.prototype.KSgetUserInfo=function(e){kwaigame.getUserInfo({success:function(t){console.log("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u6210\u529f\uff1a"+JSON.stringify(t)),e(t)},fail:function(e){console.log("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25: "+JSON.stringify(e))},complete:function(){console.log("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5b8c\u6210")}})},e.isSupportedAPI=function(){},e.prototype.showRewardedVideoAd=function(e){var t={};t.adUnitId=this._rewardedVideoAdUnitId,this.rewardedVideoAd=kwaigame.createRewardedVideoAd(t),this.rewardedVideoAd?(this.rewardedVideoAd.show({success:function(){console.log("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u6210\u529f")},fail:function(e){console.log("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u5931\u8d25: "+JSON.stringify(e))}}),console.log("\u6fc0\u52b1\u5e7f\u544a\u7ec4\u4ef6\u83b7\u53d6\u6210\u529f"),this.rewardedVideoAd.onClose(function(e){console.log("\u6fc0\u52b1\u89c6\u9891\u5173\u95ed\u56de\u8c03: "+JSON.stringify(e))}),this.rewardedVideoAd.onReward(function(t){console.log("\u6fc0\u52b1\u89c6\u9891\u5956\u52b1\u56de\u8c03: "+JSON.stringify(t)),e()})):console.log("\u6fc0\u52b1\u5e7f\u544a\u7ec4\u4ef6\u83b7\u53d6\u5931\u8d25")},e.prototype.registerRecordScreenEvent=function(){if(this.video=null,this.mediaRecorder=kwaigame.createMediaRecorder(),null!==this.mediaRecorder){var e=this;this.mediaRecorder.onStart(function(){console.log("\u5f55\u9891\u5f00\u59cb\u6210\u529f")}),this.mediaRecorder.onStop(function(t){e.video=t.videoID,console.log("\u5f55\u9891\u505c\u6b62\u6210\u529f "+JSON.stringify(t)+" ")}),this.mediaRecorder.onError(function(e){console.log("\u5f55\u9891\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef "+JSON.stringify(e)+" ")})}else console.log("\u8fd4\u56de null \u65f6\u8868\u793a\u5f53\u524d APP \u7248\u672c\u4e0d\u652f\u6301\u5f55\u5c4f")},e.prototype.startRecordScreen=function(){this.video=null,this.mediaRecorder&&this.mediaRecorder.start()},e.prototype.pauseRecordScreen=function(){this.mediaRecorder&&this.mediaRecorder.pause()},e.prototype.resumeRecordScreen=function(){this.mediaRecorder&&this.mediaRecorder.resume()},e.prototype.stopRecordScreen=function(){this.mediaRecorder&&this.mediaRecorder.stop()},e.prototype.publishVideo=function(e){if(this.mediaRecorder){if(null===this.video)return;this.mediaRecorder.publishVideo({video:this.video,callback:function(t){t?console.log("\u53d1\u5e03\u5f55\u5c4f\u5931\u8d25\uff1a "+JSON.stringify(t)):(console.log("\u53d1\u5e03\u5f55\u5c4f\u6210\u529f"),e())}})}},e.prototype.checkFollowState=function(){var e=this;kwaigame.checkFollowState({accountType:"CPServiceAccount",callback:function(t){console.log(JSON.stringify(t)),e.ksError=t.errorMsg}})},e.prototype.openUserProfile=function(){kwaigame.openUserProfile({accountType:"CPServiceAccount",callback:function(e){console.log(JSON.stringify(e))}})},e._instance=new e,e}();n.KS=i._instance,cc._RF.pop()},{}],kwaigame:[function(e,t){"use strict";cc._RF.push(t,"80f5a+VLXpF0b6YyJR9EuSL","kwaigame"),cc._RF.pop()},{}],loginScene:[function(e,t){"use strict";cc._RF.push(t,"66604cOzyBBAasHJsJOK5Z1","loginScene");var n=e("panel");cc.Class({extends:n,nodeText:null,intStatus:0,intLoadCount:0,intLoadMax:0,validOk:0,properties:{progressBar:cc.ProgressBar,nodeBar:cc.Node,labelProgress:cc.Label,labelText:cc.Label,labelVer:cc.Label,nodeCover:cc.Node},onLoad:function(){console.log("loginSccene.js onLoad"),console.log("===========>>> 111"),platform!=PLATFORM_BYTE&&(console.log("===========>>> 222"),cc.macro.CLEANUP_IMAGE_CACHE=!1,console.log("===========>>> 333"),cc.dynamicAtlasManager.enabled=!0,console.log("===========>>> 444")),console.log("loginSccene.js onLoad 22"),this.intStatus=0,this.intLoadCount=0,this.intLoadMax=0,this.validOk=!1,this.registerEvent(),console.log("===========>>> 5555"),user.sendEvent("\u767b\u5f55\u573a\u666f"),new Date,this.labelVer.string=VER,sdkMgr.init(),console.log("===========>>> 666"),1==parseInt(TyqSdk.getSwitchValue(constants.switch.switchActiveOnLoad))&&TyqSdk.sendToAppLog()},start:function(){},registerEvent:function(){clientEvent.on("memoryWarning",this.releaseCache.bind(this),"preload_releaseCache"),clientEvent.on("loginSuccess",this.loginSuccess.bind(this),"preload_loginSuccess")},releaseCache:function(){uiManager.releaseAllCacheUI()},loginSuccess:function(){zzpout("loginSuccess")},loadRes:function(){var e=this;this.intLoadMax+=constants.arrMenuPrefab.length,e.intLoadMax++,cc.assetManager.loadBundle("packageMenu",null,function(){e.intLoadCount++,resMgr.loadRes("packageMenu",constants.arrMenuPrefab,cc.Prefab,function(){e.intLoadCount++})})},updateLoading:function(){var e=this;if(this.intLoadCount>=this.intLoadMax&&this.intLoadMax>0)1==initSdkSuccess?this.intLoadCount===this.intLoadMax?(this.intLoadCount++,0==user.getValidOk()&&(zzperr("Show user.getYinSi():"+user.getYinSi()),0==TyqSdk.getSwitchValue(constants.switch.switchPrivacy)&&1==user.getYinSi()?(zzperr("Show user.showVerifyPrivacypolicy():"+user.getShiMing()),TyqSdk.showVerifyPrivacypolicy(e.nodeCover,function(){0==TyqSdk.getSwitchValue(constants.switch.switchRealName)&&1==user.getShiMing()?(zzperr("Show showVerifyRealName"),TyqSdk.showVerifyRealName(e.nodeCover,function(){user.setValidOk(1)})):user.setValidOk(1)})):0==TyqSdk.getSwitchValue(constants.switch.switchRealName)&&1==user.getShiMing()?TyqSdk.showVerifyRealName(e.nodeCover,function(){user.setValidOk(1)}):user.setValidOk(1))):this.intLoadCount===this.intLoadMax+1&&user.getValidOk()&&(e.intLoadCount++,e.labelText.string="\u6b63\u5728\u8fdb\u5165\u6e38\u620f...",e.labelProgress.string="100%",e.progressBar.progress=1,cc.assetManager.loadBundle("packageMenu",null,function(){cc.director.preloadScene("gameScene",function(){cc.director.loadScene("gameScene"),sendCustomEvent(constants.event.load.enterMenu)})})):(this.labelText.string="\u6b63\u5728\u521d\u59cb\u5316...",this.labelProgress.string="100%",this.progressBar.progress=1);else{this.labelText.string="\u6e38\u620f\u52a0\u8f7d\u4e2d...";var t=Math.min(1,this.intLoadMax>0&&this.intLoadCount/this.intLoadMax>.1?this.intLoadCount/this.intLoadMax:.1);this.labelProgress.string=Math.floor(100*t)+"%",this.progressBar.progress=t}},update:function(){0==this.intStatus?(this.intStatus=1,this.loadRes()):1==this.intStatus&&this.updateLoading()}}),cc._RF.pop()},{panel:"panel"}],mainGame:[function(e,t){"use strict";cc._RF.push(t,"95a74vRaepAi5PfrEa0dOTv","mainGame"),cc.Class({extends:cc.Component,intStatus:0,intLoadCount:0,intLoadMax:0,properties:{nodeLoading:cc.Node},onLoad:function(){this.time=0,this.interval=60,this.intStatus=0,this.intLoadCount=0,this.intLoadMax=0},start:function(){clientEvent.on("playBGM",this.playBGM.bind(this)),clientEvent.on("pauseBGM",this.pauseBGM.bind(this)),clientEvent.on("resumeBGM",this.resumeBGM.bind(this))},playBGM:function(e){this.BGMAudios&&this.BGMAudios[e]&&(this.audio&&this.audio.stop(),this.audio=this.BGMAudios[e],this.audio.play())},pauseBGM:function(){this.audio&&this.audio.pause()},resumeBGM:function(){this.audio&&this.audio.resume()},updateLoading:function(){},update:function(e){user.userUpdate(e),this.time+=e,this.time>=this.interval&&(this.time-=this.interval,user.addOnLineTime(this.interval))}}),cc._RF.pop()},{}],meizu:[function(e,t,n){"use strict";cc._RF.push(t,"11fbaZLwRxJwYlsSSnIEKeL","meizu"),Object.defineProperty(n,"__esModule",{value:!0}),n.Meizu=void 0;var i=function(){function e(){this.systemInfo=null,this._bannerAdUnitId="WhRwDMYh",this._rewardedVideoAdUnitId="VtOtGAoC",this._interstitialAdUnitId="94URyDKw",this.interstitialAd=null,this.bannerAd=null}return Object.defineProperty(e.prototype,"bannerAdUnitId",{set:function(e){this._bannerAdUnitId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rewardedVideoAdUnitId",{set:function(e){this._rewardedVideoAdUnitId=e},enumerable:!1,configurable:!0}),e.prototype.getSystemInfo=function(){return console.log("\u7cfb\u7edf\u4fe1\u606f",mz.getSystemInfo()),mz.getSystemInfo()},e.prototype.showBannerAd=function(){var e=this;if(!this.bannerAd){var t=qg.getSystemInfoSync().screenHeight,n=qg.getSystemInfoSync().screenWidth;console.log("\u7cfb\u7edf\u9ad8\u5ea6",t,"screenWidth",n),this.bannerAd=mz.createBannerAd({adUnitId:this._bannerAdUnitId,style:{left:0,top:t-n/6.7,width:n,height:n/6.7}}),this.bannerAd.onLoad(function(){console.log("banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),e.bannerAd.show()})}},e.prototype.hideBannerAd=function(){console.log("----\x3e hideBannerAd",this.bannerAd),this.bannerAd&&(this.bannerAd.hide(),this.bannerAd.destroy(),this.bannerAd=null)},e.prototype.showRewardedVideoAd=function(){var e=this;return new Promise(function(t){e.rewardedVideoAd=mz.createRewardedVideoAd({adUnitId:e._rewardedVideoAdUnitId}),e.rewardedVideoAd.load(),e.rewardedVideoAd.onLoad(function(){e.rewardedVideoAd.show()}),e.rewardedVideoAd.onClose(function(){t()})})},e.prototype.showInterstitialAd=function(){var e=this;console.log("\u63d2\u5c4f\u5e7f\u544a"),this.interstitialAd=mz.createInsertAd({adUnitId:this._interstitialAdUnitId}),this.interstitialAd.onLoad(function(){console.log("insert \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),e.interstitialAd.show(function(){console.log("insert \u5e7f\u544a\u5c55\u793a\u6210\u529f")})}),this.interstitialAd.load()},e.prototype.getNetworkType=function(){var e=this;mz.getNetworkType({success:function(t){console.log("getNetworkType success = "+t.networkType),e.netWorkInfo.string=t.networkType},fail:function(t){console.log("getNetworkType success = "+t.errMsg),e.netWorkInfo.string=t.errMsg},complete:function(e){console.log("getNetworkType complete = "+e)}})},e.prototype.returnAppName=function(){return mz.getProvider()},e._instance=new e,e}();n.Meizu=i._instance,cc._RF.pop()},{}],nodeAnimation:[function(e,t){"use strict";cc._RF.push(t,"a67b4jT815BSKo6ibmHB092","nodeAnimation");var n=e("panel");cc.Class({extends:n,onLoad:function(){},onAniComplete:function(e){e?this.node.getComponent(cc.Animation).setCurrentTime(1):this.clear()},clear:function(){aniPool.put(this.node)}}),cc._RF.pop()},{panel:"panel"}],nodeArrow:[function(e,t){"use strict";cc._RF.push(t,"88c1b4voo1FTqa+4RH8OD/w","nodeArrow");var n=e("panel");cc.Class({extends:n,nodeTarget:null,nodeTargetUID:null,posTarget:null,paused:null,speed:0,npcSide:0,intStatus:0,uid:null,attAtk:0,runTime:0,runTimeLast:0,pos:null,onLoad:function(){this.init()},init:function(){this.runTime=0,this.runTimeLast=0,this.uid=getUid(),this.paused=!1,this.nodeTarget=null,this.nodeTargetUID=null,this.posTarget=null,this.speed=40,this.pos=null,this.npcSide=constants.battleNpcSide.None,this.intStatus=0,this.attAtk=0},setStart:function(){cc.tween(this.node).set({opacity:0}).to(1/this.speed,{opacity:255}).start(),this.intStatus=1},setAtk:function(e){this.attAtk=e},setSide:function(e){this.npcSide=e},setSpeed:function(e){this.speed=e},setPos:function(e){this.node.position=e},setTarget:function(e){this.nodeTarget=e,this.nodeTargetUID=e.getComponent("nodeNpc").uid,this.posTarget=this.nodeTarget.position},setPosTarget:function(e){this.nodeTarget=null,this.nodeTargetUID=null,this.posTarget=e},getTargetPos:function(){return cellToPos(cc.v2(this.posTarget.x,-this.posTarget.y))},calc:function(e){var t=this.speed*e*60;if(this.nodeTarget&&this.nodeTarget.getComponent("nodeNpc").uid==this.nodeTargetUID&&this.nodeTarget.getComponent("nodeNpc").intStatus==constants.npcState.Live&&(this.posTarget=this.nodeTarget.position),t>0)if(this.pos=null,this.nodeTarget?(this.pos=this.nodeTarget.position,this.pos.y+=.5*this.nodeTarget.height):this.posTarget&&(this.pos=this.getTargetPos()),this.pos){var n=this.pos.x-this.node.x,i=this.pos.y-this.node.y,o=Math.abs(n),a=Math.abs(i);if(o+a>0&&o*o+a*a>t*t){var s=o/(a+o),r=1-s;0!=o&&(s=s*(n/o)*t),0!=a&&(r=r*(i/a)*t),this.node.position=cc.v2(this.node.position.x+s,this.node.position.y+r);var c=this.pos.sub(this.node.position),d=cc.v2(1,0),l=cc.v2(c.x,c.y).signAngle(d),h=Math.floor(cc.misc.radiansToDegrees(l));this.node.angle=-h-90}else clientEvent.dispatchEvent("attacked",this.node),this.removeSelf()}else this.removeSelf()},update:function(e){0!=this.intStatus&&((frameTime<FRAME_TIME_MAX||this.runTime-this.runTimeLast>=ARROW_DT)&&(this.calc(this.runTime-this.runTimeLast),this.runTimeLast=this.runTime),this.runTime+=e)},removeSelf:function(){removeNode(arrowList,this.uid,"nodeArrow"),getPool(this.npcSide).put(this.node)},unuse:function(){this.intStatus=0},reuse:function(){},pause:function(e){this.paused=e}}),cc._RF.pop()},{panel:"panel"}],nodeBtnArm:[function(e,t){"use strict";cc._RF.push(t,"4a57ekvVopAYrpO4pKHQEVa","nodeBtnArm");var n=e("panel");cc.Class({extends:n,type:0,quality:0,onLoad:function(){},init:function(e,t){var n=this;this.type=e,this.quality=t,resMgr.loadRes("packageMenu",["imgMenuShop/pinzhi"+t],cc.SpriteFrame,function(e){n.node.getChildByName("bg2").getComponent(cc.Sprite).spriteFrame=globalAssets[e]}),resMgr.loadRes("packageMenu",[(1==e?"img/dunbing":2==e?"img/bubing":3==e?"img/gongbing":"img/qibing")+t],cc.SpriteFrame,function(e){n.node.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=globalAssets[e]}),resMgr.loadRes("packageMenu",["imgMenuShop/tubiao"+e],cc.SpriteFrame,function(e){n.node.getChildByName("top").getChildByName("topIcon").getComponent(cc.Sprite).spriteFrame=globalAssets[e]}),resMgr.loadRes("packageMenu",["imgMenuShop/name"+e],cc.SpriteFrame,function(e){n.node.getChildByName("top").getChildByName("topName").getComponent(cc.Sprite).spriteFrame=globalAssets[e]}),this.node.getChildByName("red").active=t>=3},willClose:function(){var e=this;cc.tween(this.node).to(.2,{scale:0},{easing:"backIn"}).call(function(){e.node.active=!1}).start()},onDisable:function(){this.node.destroy()}}),cc._RF.pop()},{panel:"panel"}],nodeBuildingArrow:[function(e,t){"use strict";cc._RF.push(t,"f082bXadxhBeo3g1hL1NWE/","nodeBuildingArrow");var n=e("panel");cc.Class({extends:n,nodeTarget:null,nodeTargetUID:null,father:null,paused:null,npcSide:0,intStatus:0,speed:0,uid:null,obj:null,pos:null,nodeTarget0Height:0,onLoad:function(){},init:function(e){this.uid=getUid(),this.paused=!1,this.nodeTarget=[],this.nodeTargetUID=[],this.father=null,this.npcSide=constants.battleNpcSide.None,this.intStatus=0,this.obj=e,this.speed=40,this.pos=null,this.nodeTarget0Height=0,this.node.position=cc.v2(0,0)},setStart:function(){this.tweenOpacity=cc.tween(this.node).set({opacity:0}).to(3/this.speed,{opacity:255}),this.tweenOpacity.start(),2==this.obj.type&&(this.speed=.5*this.speed,this.tween=cc.tween(this.node).by(1/this.speed,{angle:-90}).repeatForever(),this.tween.start()),this.intStatus=1},setSide:function(e){this.npcSide=e},setPos:function(e){this.node.position=e},addTarget:function(e){e&&(this.nodeTarget.push(e),this.nodeTargetUID.push(e.getComponent("nodeNpc").uid),this.nodeTarget0Height=this.nodeTarget[0].height)},update:function(e){if(0!=this.intStatus){if(this.nodeTarget&&this.nodeTarget.length>0&&this.nodeTarget[0].getComponent("nodeNpc").uid==this.nodeTargetUID[0]&&this.nodeTarget[0].getComponent("nodeNpc").intStatus==constants.npcState.Live&&(this.pos=this.nodeTarget[0].position,this.pos.y+=.5*this.nodeTarget0Height),this.pos){var t=this.pos.x-this.node.x,n=this.pos.y-this.node.y,i=Math.abs(t),o=Math.abs(n);if(i+o>0&&i*i+o*o>this.speed*this.speed){var a=i/(o+i),s=1-a;if(0!=i&&(a=a*(t/i)*this.speed),0!=o&&(s=s*(n/o)*this.speed),this.node.position=cc.v2(this.node.position.x+a,this.node.position.y+s),1==this.obj.type){var r=this.pos.sub(this.node.position),c=cc.v2(1,0),d=cc.v2(r.x,r.y).signAngle(c),l=Math.floor(cc.misc.radiansToDegrees(d));this.node.angle=-l}}else{if(this.obj.atkNumber>1&&this.nodeTarget[0]){var h=getRangeTarget(this.nodeTarget[0].getComponent("nodeNpc").cellPos,constants.battleNpcSide.Wall,this.obj.atkNumber-1,999);if(h.npc.length>0)for(var u=1;u<h.npc.length;u++)this.addTarget(h.npc[u])}clientEvent.dispatchEvent("attacked",this.node),this.removeSelf()}}else this.removeSelf();this.runTime-this.runTimeLast>=NPC_DT&&(this.runTimeLast=this.runTime),this.runTime+=e}},removeSelf:function(){this.tweenOpacity&&this.tweenOpacity.stop(),this.tween&&this.tween.stop(),this.node.opacity=0,buildingArrowPool.put(this.node)},unuse:function(){this.intStatus=0},reuse:function(){},pause:function(e){this.paused=e}}),cc._RF.pop()},{panel:"panel"}],nodeBuilding:[function(e,t){"use strict";cc._RF.push(t,"bda79Y0h01DS4KiKc1qZq2e","nodeBuilding");var n=e("panel");cc.Class({extends:n,runTimeLast:0,runTime:0,nodeTarget:null,nodeTargetUID:null,father:null,cellPos:null,flip:0,objBuilding:null,posTarget:null,paused:null,intStatus:0,spTrackEntry:null,uid:null,sp:null,nodeArrowPane:null,posOffset:null,properties:{nodeSpine:cc.Node},onLoad:function(){},init:function(e,t){this.uid=getUid(),this.paused=!1,this.nodeTarget=null,this.nodeTargetUID=null,this.nodeArrowPane=null,this.spTrackEntry=null,this.posStart=null,this.posTarget=null,this.father=null,this.cellPos=t,this.runTimeLast=0,this.runTime=0,this.intStatus=0,this.sp=this.nodeSpine.getComponent(sp.Skeleton),this.objBuilding=e;var n=this;resMgr.loadRes(this.objBuilding.picPackage,[this.objBuilding.picPath],sp.SkeletonData,function(e){zzpout("load:"+n.objBuilding.picPackage+","+n.objBuilding.picPath),1==n.objBuilding.type?n.node.getChildByName("bg").active=!0:n.node.getChildByName("bg").active=!1,n.sp.skeletonData=globalAssets[e],n.intStatus=1}),clientEvent.on("npcDie",this.onNpcDie.bind(this),"nodeBuilding_onNpcDie"+this.uid),zzpout("position : "+this.node.position)},onNpcDie:function(e){zzpout("die this.nodeTargetUID:"+this.nodeTargetUID+",uid:"+e.getComponent("nodeNpc").uid),this.nodeTargetUID==e.getComponent("nodeNpc").uid&&(this.nodeAttackTarget=null,this.nodeAttackTargetUID=null,this.posAttackTarget=null,this.playStandby())},setFlip:function(e){this.flip=e,this.node.scaleX=e?-1:1},setArrowPane:function(e){this.nodeArrowPane=e},setStart:function(){cc.tween(this.node).set({opacity:0}).to(1/this.speed,{opacity:255}).start(),this.intStatus=1},setPosOffset:function(e){this.posOffset=e},setAtk:function(e){this.attAtk=e},setSide:function(e){this.npcSide=e},setSpeed:function(e){this.speed=e},setPosTarget:function(e){this.posTarget=e},playStandby:function(){this.sp&&this.sp.setAnimation(0,"standBy",!1)},playAttack:function(){var e=this;this.sp&&(playSound(1==this.objBuilding?constants.sound.battleAtk2:constants.sound.battleAtk3),this.spTrackEntry=this.sp.setAnimation(0,"animation",!1),this.sp.setTrackEventListener(e.spTrackEntry,function(t,n){"shotArrow"!=n.data.name&&"shotStone"!=n.data.name||resMgr.loadRes(constants.prefabs.buildingArrow[0],[constants.prefabs.buildingArrow[1]],cc.Prefab,function(t){zzpout("event:"+n.data.name);var i=null;(i=buildingArrowPool.size()>0?buildingArrowPool.get():cc.instantiate(globalAssets[t])).parent=e.nodeArrowPane,i.getComponent("nodeBuildingArrow").init(e.objBuilding),i.getChildByName("arrow").getComponent(cc.Sprite).spriteFrame=null;var o=e.node.parent.position.sub(e.posOffset);1==e.objBuilding.type?i.getChildByName("arrow").getComponent("nodeLoadSprite").loadSprite(constants.imgs.arrow[0],constants.imgs.arrow[1]):(o=o.add(cc.v2(30,40)),i.getChildByName("arrow").getComponent("nodeLoadSprite").loadSprite(constants.imgs.stone[0],constants.imgs.stone[1])),i.getComponent("nodeBuildingArrow").setPos(o),i.getComponent("nodeBuildingArrow").setSide(constants.battleNpcSide.PlayerArrow),i.getComponent("nodeBuildingArrow").addTarget(e.nodeTarget),i.getComponent("nodeBuildingArrow").setStart()})}),this.sp.timeScale=1)},onDisable:function(){this.node.destroy()},update:function(e){if(0!=this.intStatus){if(this.nodeTarget&&this.nodeTarget.getComponent("nodeNpc").intStatus==constants.npcState.Live&&this.nodeTarget.position.sub(this.node.position).len()<this.objBuilding.atkRange*mapCellWidth)this.posTarget=this.nodeTarget.position;else{var t=getRangeTarget(this.cellPos,constants.battleNpcSide.PlayerDunBing,this.objBuilding.atkRange);this.nodeTarget=null,this.nodeTargetUID=null,this.posTarget=null,t.npc.length>0&&t.npc[0].getComponent("nodeNpc").intStatus==constants.npcState.Live&&(this.nodeTarget=t.npc[0],this.nodeTargetUID=t.npc[0].getComponent("nodeNpc").uid,this.posTarget=this.nodeTarget.getComponent("nodeNpc").cellPos)}if(!this.paused){var n=null;if(this.nodeTarget?n=this.nodeTarget.position:this.posTarget&&(n=this.posTarget),n){if(1==this.objBuilding.type){var i=this.node.parent.position.sub(this.posOffset),o=n.sub(i),a=cc.v2(1,0),s=cc.v2(o.x,o.y).signAngle(a),r=Math.floor(cc.misc.radiansToDegrees(s));this.node.angle=this.flip?180-r:-r}this.runTime-this.runTimeLast>=this.objBuilding.atkSpeed&&(this.runTimeLast=this.runTime,this.playAttack())}else this.nodeTarget=null,this.nodeTargetUID=null,this.posTarget=null}this.runTime+=e}},unuse:function(){clientEvent.off("npcDie","nodeBuilding_onNpcDie"+this.uid),this.sp.setTrackEventListener(null,null),this.intStatus=0},reuse:function(){},pause:function(e){this.paused=e}}),cc._RF.pop()},{panel:"panel"}],nodeChou:[function(e,t){"use strict";cc._RF.push(t,"496e0IZ76JLM7IguHziDkzF","nodeChou");var n=e("panel");cc.Class({extends:n,runTimeLast:0,runTime:0,arrQian:null,bolInit:null,tween:null,arrTarget:null,properties:{sprBigIcon:cc.Sprite},onLoad:function(){this.runTime=0,this.runTimeLast=0,this.bolInit=!1,this.tween=null,this.arrTarget=[],showInfomationAdCenter(constants.switch.switchInfomationAd),showByteBanner(this.node,constants.switch.switchOtherBanner),showWechatBanner(this.node,constants.switchWechat.switchBanner)},init:function(){var e=this.node.getChildByName("bg");this.cellBig=e.getChildByName("cellBig"),this.nodeList=e.getChildByName("nodeList"),e.getChildByName("btnClose").on(cc.Node.EventType.TOUCH_START,this.onTouchClose,this),e.getChildByName("btnChou").on(cc.Node.EventType.TOUCH_START,this.onTouchChou,this),e.getChildByName("btnChou10").on(cc.Node.EventType.TOUCH_START,this.onTouchChou10,this);var t=this;resMgr.loadRes("packageMenu",["prefab/preChouCell"],cc.Prefab,function(e){for(var n=jsonTables.getJsonTable("choujiang"),i=t.nodeList.getChildByName("nodeList"),o=n.length,a=0;a<8&&a<o;a++){var s=n[a];if(null!=s){var r=cc.instantiate(globalAssets[e]);r.name="cell"+a;var c=jsonTables.getJsonTableObj("item",s.item);r.getChildByName("icon").getComponent("nodeLoadSprite").loadSprite(c.picPackage,c.picPath),r.getChildByName("text").getComponent(cc.Label).string="x"+s.num,r.getChildByName("get").active=!1,a<3&&(r.getComponent(cc.Widget).isAlignTop=!0,r.getComponent(cc.Widget).top=20),a>=4&&a<=6&&(r.getComponent(cc.Widget).isAlignBottom=!0,r.getComponent(cc.Widget).bottom=20),0!=a&&6!=a&&7!=a||(r.getComponent(cc.Widget).isAlignLeft=!0,r.getComponent(cc.Widget).left=20),1!=a&&5!=a||(r.getComponent(cc.Widget).isAlignHorizontalCenter=!0,r.getComponent(cc.Widget).horizontalCenter=0),2!=a&&3!=a&&4!=a||(r.getComponent(cc.Widget).isAlignRight=!0,r.getComponent(cc.Widget).right=20),r.parent=i}}}),this.updateTimes()},updateTimes:function(){var e=this.node.getChildByName("bg");this.cellBig=e.getChildByName("cellBig"),this.nodeList=e.getChildByName("nodeList");var t=jsonTables.getJsonTable("choujiangLevel"),n=jsonTables.getJsonTableObj("choujiangLevel",Math.min(t[t.length-1].Tid,user.getChouBig()+1)),i=jsonTables.getJsonTableObj("choujiang",user.getChouBig()+1);if(i){this.cellBig.getChildByName("right").getChildByName("text").getComponent(cc.RichText).string="<b>\u7d2f\u8ba1\u62bd\u5956<color=#ffbc2c>"+n.count+"</color>\u6b21<br/>\u5373\u53ef\u9886\u53d6\u5927\u5956</b>",this.cellBig.getChildByName("right").getChildByName("bg").getChildByName("text").getComponent(cc.RichText).string="<b>"+user.getChouCount()+"/<color=#ffbc2c>"+n.count+"</color><b>";var o=jsonTables.getJsonTableObj("item",i.item);this.cellBig.getChildByName("bg").getChildByName("icon").getComponent("nodeLoadSprite").loadSprite(o.picPackage,o.picPath)}this.nodeList.getChildByName("center").getChildByName("text").getComponent(cc.RichText).string="<b><outline color=#3D4252 width=4>"+user.getChouCount()+"/<color=#59d9fe>/"+n.count+"</color></outline></b>",this.cellBig.getChildByName("right").getChildByName("btnGet").off(cc.Node.EventType.TOUCH_START,this.onTouchGet,this),user.getChouCount()>=n.count?(this.cellBig.getChildByName("right").getChildByName("btnGet").on(cc.Node.EventType.TOUCH_START,this.onTouchGet,this),this.cellBig.getChildByName("right").getChildByName("btnGet").getChildByName("Background").color=(new cc.Color).fromHEX("#FFFFFF"),this.cellBig.getChildByName("right").getChildByName("btnGet").getChildByName("Background").getChildByName("text").color=(new cc.Color).fromHEX("#FFFFFF")):(this.cellBig.getChildByName("right").getChildByName("btnGet").getChildByName("Background").color=(new cc.Color).fromHEX("#333333"),this.cellBig.getChildByName("right").getChildByName("btnGet").getChildByName("Background").getChildByName("text").color=(new cc.Color).fromHEX("#333333"))},startAni:function(){var e=this,t=this,n=this.nodeList.getChildByName("nodeList"),i=10*n.childrenCount,o=10*n.childrenCount/3;this.tween=cc.tween(this.node),playSound(constants.sound.chou);for(var a=function(t){for(var a=e.arrTarget[t],s=i+a,r=0,c=.3,d=0;d<n.childrenCount;d++)n.children[d].getChildByName("get").active=!1;for(var l=0;l<=s;l++)e.tween.then(cc.tween().call(function(){for(var e=0;e<n.childrenCount;e++)n.children[e].getChildByName("get").active=e==r;r=(r+1)%n.childrenCount}).delay(c)),l<o?c>.02&&(c/=1.15):l>=i-o&&c<.5&&(c*=1.1);for(var h=0;h<5;h++)e.tween.then(cc.tween().call(function(){n.children[a].getChildByName("get").active=!1}).delay(.1).call(function(){n.children[a].getChildByName("get").active=!0}).delay(.1))},s=0;s<this.arrTarget.length&&s<1;s++)a(s);this.tween.then(cc.tween().call(function(){t.showMenuGet()})),this.tween.start()},resetTarget:function(e){var t=jsonTables.getJsonTable("choujiang"),n=t.length;this.arrTarget=[];for(var i=0,o=0;o<n;o++)i+=t[o].percent;for(var a=0;a<e;a++){for(var s=!1,r=Math.random()*i,c=0;c<n;c++)if((r-=t[c].percent)<=0){this.arrTarget.push(c),s=!0;break}s||this.arrTarget.push(n-1)}},getTarget:function(){return this.arrTarget},showMenuGet:function(){showInfomationAdCenter(constants.switch.switchInfomationAd);var e=this;resMgr.loadRes("packageMenu",["prefab/preMenuGet"],cc.Prefab,function(t){var n=uiManager.getRoot().parent.getChildByName("uiCover"),i=cc.instantiate(globalAssets[t]);i.parent=n;for(var o=jsonTables.getJsonTable("choujiang"),a=[],s=[],r=0;r<e.arrTarget.length;r++){var c=e.arrTarget[r],d=jsonTables.getJsonTableObj("item",o[c].item);a.push(d),s.push(o[c].num)}i.getComponent("nodeMenuGet").init(a,s),i.getComponent("nodeMenuGet").setCallback(function(){e.setBtnEnable(!0),e.updateTimes();for(var t=s.length,n=0;n<t;n++)user.addItem(a[n].Tid,2*s[n]);sendCustomEvent(constants.event.chou.doubleRewardAd)},function(){e.setBtnEnable(!0),e.updateTimes();for(var t=s.length,n=0;n<t;n++)user.addItem(a[n].Tid,s[n])})})},showMenuGetBig:function(){user.addChouBig();var e=this;resMgr.loadRes("packageMenu",["prefab/preMenuGet"],cc.Prefab,function(t){var n=uiManager.getRoot().parent.getChildByName("uiCover"),i=cc.instantiate(globalAssets[t]);i.parent=n,i.getChildByName("btnClose").getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string="\u9886 \u53d6";var o=jsonTables.getJsonTableObj("choujiangLevel",user.getChouBig()+1);zzpout("showMenuGetBig:"+JSON.stringify(o));var a=jsonTables.getJsonTableObj("item",o.item);i.getComponent("nodeMenuGet").init([a],[o.num]),i.getComponent("nodeMenuGet").setCallback(function(){e.setBtnEnable(!0),e.updateTimes(),user.addItem(a.Tid,2*o.num),zzpout("addYU:"+a.Tid+","+2*o.num)},function(){e.setBtnEnable(!0),e.updateTimes(),user.addItem(a.Tid,o.num),zzpout("addYU:"+a.Tid+","+o.num)})})},setCallback:function(e){this.callback=e},setBtnEnable:function(e){if(this.cellBig.getChildByName("right").getChildByName("btnGet").off(cc.Node.EventType.TOUCH_START,this.onTouchGet,this),this.node.getChildByName("bg").getChildByName("btnClose").off(cc.Node.EventType.TOUCH_START,this.onTouchClose,this),this.node.getChildByName("bg").getChildByName("btnChou").off(cc.Node.EventType.TOUCH_START,this.onTouchChou,this),this.node.getChildByName("bg").getChildByName("btnChou10").off(cc.Node.EventType.TOUCH_START,this.onTouchChou10,this),e){var t=jsonTables.getJsonTable("choujiangLevel"),n=jsonTables.getJsonTableObj("choujiangLevel",Math.min(t[t.length-1].Tid,user.getChouBig()+1));user.getChouCount()>=n.count&&(this.cellBig.getChildByName("right").getChildByName("btnGet").on(cc.Node.EventType.TOUCH_START,this.onTouchGet,this),this.cellBig.getChildByName("right").getChildByName("btnGet").getChildByName("Background").color=(new cc.Color).fromHEX("#FFFFFF"),this.cellBig.getChildByName("right").getChildByName("btnGet").getChildByName("Background").getChildByName("text").color=(new cc.Color).fromHEX("#FFFFFF")),this.node.getChildByName("bg").getChildByName("btnClose").on(cc.Node.EventType.TOUCH_START,this.onTouchClose,this),this.node.getChildByName("bg").getChildByName("btnChou").on(cc.Node.EventType.TOUCH_START,this.onTouchChou,this),this.node.getChildByName("bg").getChildByName("btnChou10").on(cc.Node.EventType.TOUCH_START,this.onTouchChou10,this),this.node.getChildByName("bg").getChildByName("btnClose").getChildByName("Background").color=(new cc.Color).fromHEX("#FFFFFF"),this.node.getChildByName("bg").getChildByName("btnChou").getChildByName("Background").color=(new cc.Color).fromHEX("#FFFFFF"),this.node.getChildByName("bg").getChildByName("btnChou").getChildByName("Background").getChildByName("icon").color=(new cc.Color).fromHEX("#FFFFFF"),this.node.getChildByName("bg").getChildByName("btnChou").getChildByName("Background").getChildByName("text").color=(new cc.Color).fromHEX("#FFFFFF"),this.node.getChildByName("bg").getChildByName("btnChou").getChildByName("Background").getChildByName("preRedPoint").color=(new cc.Color).fromHEX("#FFFFFF"),this.node.getChildByName("bg").getChildByName("btnChou10").getChildByName("Background").color=(new cc.Color).fromHEX("#FFFFFF"),this.node.getChildByName("bg").getChildByName("btnChou10").getChildByName("Background").getChildByName("icon").color=(new cc.Color).fromHEX("#FFFFFF"),this.node.getChildByName("bg").getChildByName("btnChou10").getChildByName("Background").getChildByName("text").color=(new cc.Color).fromHEX("#FFFFFF")}else this.cellBig.getChildByName("right").getChildByName("btnGet").getChildByName("Background").color=(new cc.Color).fromHEX("#333333"),this.cellBig.getChildByName("right").getChildByName("btnGet").getChildByName("Background").getChildByName("text").color=(new cc.Color).fromHEX("#333333"),this.node.getChildByName("bg").getChildByName("btnClose").getChildByName("Background").color=(new cc.Color).fromHEX("#333333"),this.node.getChildByName("bg").getChildByName("btnChou").getChildByName("Background").color=(new cc.Color).fromHEX("#333333"),this.node.getChildByName("bg").getChildByName("btnChou").getChildByName("Background").getChildByName("icon").color=(new cc.Color).fromHEX("#333333"),this.node.getChildByName("bg").getChildByName("btnChou").getChildByName("Background").getChildByName("text").color=(new cc.Color).fromHEX("#333333"),this.node.getChildByName("bg").getChildByName("btnChou").getChildByName("Background").getChildByName("preRedPoint").color=(new cc.Color).fromHEX("#333333"),this.node.getChildByName("bg").getChildByName("btnChou10").getChildByName("Background").color=(new cc.Color).fromHEX("#333333"),this.node.getChildByName("bg").getChildByName("btnChou10").getChildByName("Background").getChildByName("icon").color=(new cc.Color).fromHEX("#333333"),this.node.getChildByName("bg").getChildByName("btnChou10").getChildByName("Background").getChildByName("text").color=(new cc.Color).fromHEX("#333333")},onTouchGet:function(e){e&&e.stopPropagation(),sendCustomEvent(constants.event.chou.chouBig),this.showMenuGetBig(),clientEvent.dispatchEvent("updateRedPoint")},onTouchChou:function(e){if(e&&e.stopPropagation(),user.getYin()>=500)sendCustomEvent(constants.event.chou.chou),this.setBtnEnable(!1),this.resetTarget(1),user.addYin(-500),user.addChouCount(),this.startAni(),clientEvent.dispatchEvent("updateRedPoint");else{var t=this,n=jsonTables.getJsonTableObj("ad",constants.ad.ChouJiang);showAd(n.iconPackage,n.iconPath,n.btn,n.des,function(){sendCustomEvent(constants.event.chou.chouAd),t.setBtnEnable(!1),t.resetTarget(1),user.addChouCount(),t.startAni(),clientEvent.dispatchEvent("updateRedPoint")},null)}},onTouchChou10:function(e){e&&e.stopPropagation(),this.setBtnEnable(!1),e.stopPropagation(),user.getAdsFree()>0?(user.addAdsFree(-1),this.onTouchRightCallback(constants.VideoState.SKIP,10)):wxMoudle.playVideoAd(this.onTouchRightCallback.bind(this),10)},onTouchRightCallback:function(e){e==constants.VideoState.SKIP||e==constants.VideoState.PLAY_END?(sendCustomEvent(constants.event.chou.chou10Ad),user.addChouCount(10),this.resetTarget(10),this.startAni(),clientEvent.dispatchEvent("updateRedPoint")):this.setBtnEnable(!0)},onTouchClose:function(e){e&&e.stopPropagation(),this.willClose()},willClose:function(){SdkMgr.hideBanner();var e=this;cc.tween(this.node).to(.2,{scale:0},{easing:"backIn"}).call(function(){e.callback&&e.callback(),clientEvent.dispatchEvent("updateRedPoint"),e.node.active=!1}).start()},onDisable:function(){this.node.getChildByName("bg").getChildByName("btnClose").off(cc.Node.EventType.TOUCH_START,this.onTouchClose,this),this.node.getChildByName("bg").getChildByName("btnChou").off(cc.Node.EventType.TOUCH_START,this.onTouchChou,this),this.node.getChildByName("bg").getChildByName("btnChou10").off(cc.Node.EventType.TOUCH_START,this.onTouchChou10,this),clientEvent.dispatchEvent("jumpToMenu",2),this.node.destroy()},update:function(e){this.runTime-this.runTimeLast>=RUN_DT&&(this.runTimeLast=this.runTime),this.runTime+=e,this.bolInit||(this.bolInit=!0,this.init())}}),cc._RF.pop()},{panel:"panel"}],nodeCoin:[function(e,t){"use strict";cc._RF.push(t,"04e26tsuXVDA5nLc5vu/hhk","nodeCoin"),cc.Class({extends:cc.Component,properties:{nodeIcon:cc.Node,labelNum:cc.Label},onLoad:function(){this.labelNum&&(this.labelNum.string=user.getCoin()),clientEvent.on("addCoin",this.onAddCoin.bind(this),"nodeCoin_addCoin"),clientEvent.on("setCoin",this.onSetCoin.bind(this),"nodeCoin_setCoin")},onAddCoin:function(e){var t=this,n=parseInt(e.coin)-parseInt(e.add);this.labelNum.string=n,cc.tween({a:0}).to(.3,{a:100},{progress:function(i,o,a,s){t.node&&(t.labelNum.string=n+Math.floor(e.add*s))}}).start(),e.add>0&&cc.tween(this.nodeIcon).to(.1,{scale:1.2}).to(.2,{scale:1}).start()},onSetCoin:function(e){var t=parseInt(e);this.labelNum&&(this.labelNum.string=""+t)},onDisable:function(){clientEvent.off("addCoin","nodeCoin_addCoin"),clientEvent.off("setCoin","nodeCoin_setCoin"),this.node.destroy()}}),cc._RF.pop()},{}],nodeDaren:[function(e,t){"use strict";cc._RF.push(t,"cec81ti+ltKHqG5YG6njiRw","nodeDaren");var n=e("panel");cc.Class({extends:n,runTimeLast:0,runTime:0,bolInit:null,obj:null,properties:{editCoin:cc.EditBox,scrollView:cc.ScrollView,scrollContent:cc.Node,btnStart:cc.Node,btnClose:cc.Node,btnAdd:cc.Node},onLoad:function(){this.runTime=0,this.runTimeLast=0,this.bolInit=!1,this.obj={coin:1e3,arm:[]}},init:function(){var e=this;this.btnClose.on(cc.Node.EventType.TOUCH_START,this.onTouchClose,this),this.btnStart.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.btnAdd.on(cc.Node.EventType.TOUCH_START,this.onTouchAdd,this),this.editCoin.node.on("text-changed",function(t){var n=Number(t.string);isNaN(Number(t.string))||(e.obj.coin=Math.floor(n))}),this.onTouchAdd(null)},setCallback:function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),e&&(this.callback=e),t&&(this.callbackClose=t)},onTouchClose:function(e){e&&e.stopPropagation(),this.willClose()},onTouchAdd:function(e){e&&e.stopPropagation();var t=this;resMgr.loadRes("packageMenu",["prefab/preDarenLine"],cc.Prefab,function(e){var n=cc.instantiate(globalAssets[e]);n.parent=t.scrollContent,n.name=""+t.scrollContent.childrenCount;var i=Math.floor(n.name)-1;t.obj.arm.push({type:1,lv:1,round:1,num:1}),t.scrollView.scrollToBottom(),n.getChildByName("listArmLv").getChildByName("num").on("text-changed",function(e){var n=Number(e.string);isNaN(Number(e.string))||(zzperr("index:"+i),t.obj.arm[i].lv=Math.floor(n))}),n.getChildByName("listArmNum").getChildByName("num").on("text-changed",function(e){var n=Number(e.string);isNaN(Number(e.string))||(t.obj.arm[i].num=Math.floor(n))}),n.getChildByName("listArmRound").getChildByName("num").on("text-changed",function(e){var n=Number(e.string);isNaN(Number(e.string))||(t.obj.arm[i].round=Math.floor(n))}),n.getChildByName("listArmType").getChildByName("btn").on(cc.Node.EventType.TOUCH_START,function(){resMgr.loadRes("packageMenu",["prefab/preDarenArm"],cc.Prefab,function(e){var o=this,a=cc.instantiate(globalAssets[e]);a.parent=t.node;for(var s=function(e){a.children[e].on(cc.Node.EventType.TOUCH_START,function(o){o&&o.stopPropagation(),n.getChildByName("listArmType").getChildByName("btn").getChildByName("Background").getChildByName("icon").getComponent("nodeLoadSprite").loadSprite("packageMenu","img/"+(e<3?"dunbing"+(e+1):e<6?"qibing"+(e-2):e<9?"gongbing"+(e-5):"qibing"+(e-8)));var s="";e%3==0?s="\u7eff\u8272":e%3==1?s="\u91d1\u8272":e%3==2&&(s="\u7ea2\u8272"),0==Math.floor(e/3)?s+="\u76fe\u5175":1==Math.floor(e/3)?s+="\u6b65\u5175":2==Math.floor(e/3)?s+="\u5f13\u5175":3==Math.floor(e/3)&&(s+="\u9a91\u5175"),n.getChildByName("listArmType").getChildByName("btn").getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string=s,t.obj.arm[i].type=e,a.active=!1,a.destroy()},o)},r=0;r<a.childrenCount;r++)s(r)})})})},onTouchStart:function(e){e&&e.stopPropagation();for(var t=0;t<this.obj.arm.length;t++)for(var n=Math.floor(this.obj.arm[t].type/3)+1,i=Math.floor(this.obj.arm[t].type%3)+1,o=Math.floor(this.obj.arm[t].lv),a=jsonTables.getJsonTableArrObj("enemy","type",n),s=0;s<a.length;s++)if(a[s].quality==i&&a[s].level==o){this.obj.arm[t].type=a[s].Tid;break}this.willClose(),this.callback&&this.callback(this.obj)},willClose:function(){var e=this;this.btnClose.off(cc.Node.EventType.TOUCH_START,this.onTouchClose,this),this.btnStart.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.btnAdd.off(cc.Node.EventType.TOUCH_START,this.onTouchAdd,this),cc.tween(this.node).to(.2,{scale:0},{easing:"backIn"}).call(function(){e.node.active=!1}).start()},onDisable:function(){this.callbackClose&&this.callbackClose(),this.node.destroy()},update:function(e){this.runTime-this.runTimeLast>=RUN_DT&&(this.runTimeLast=this.runTime),this.runTime+=e,this.bolInit||(this.bolInit=!0,this.init())}}),cc._RF.pop()},{panel:"panel"}],nodeDialog:[function(e,t){"use strict";cc._RF.push(t,"6e97epMyiJNm6c5H/rgxeXn","nodeDialog"),cc.Class({extends:cc.Component,properties:{nodeSkip:cc.Node},onLoad:function(){this.nodeSkip.on(cc.Node.EventType.TOUCH_START,this.skip,this)},skip:function(e){e.stopPropagation(),user.skipTeach()}}),cc._RF.pop()},{}],nodeFormBattleEndAds:[function(e,t){"use strict";cc._RF.push(t,"b6f56c4cPpBC5omEu5rotyH","nodeFormBattleEndAds");var n=e("panel");cc.Class({extends:n,type:0,poolCellNpc:null,poolCellObj:null,properties:{nodeCover:cc.Node,nodeTitle:cc.Node,nodeTitleLight:cc.Node,nodeLeft:cc.Node,nodeLeft2:cc.Node,nodeRight:cc.Node,nodeCenter:cc.Node,nodeShare:cc.Node,nodeText:cc.Node,nodeSpine:cc.Node,nodeBg0:cc.Node,nodeBg1:cc.Node,nodeBgNpc:cc.Node},onLoad:function(){this.type=0,this.poolCellNpc=new cc.NodePool,this.poolCellObj=new cc.NodePool,user.getAdsFree()>0&&(this.nodeLeft.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string="\u672c\u6b21\u514d\u8d39",this.nodeLeft.getChildByName("Background").getChildByName("icon").active=!1),SdkMgr.recordEnd(),showInfomationAdCenter(constants.switch.switchInfomationAd)},setType:function(e){var t=this;if(this.type=e,0==e){this.nodeLeft.active=!0,this.nodeLeft2.active=!1,this.nodeRight.active=!0,this.nodeText.active=!1,SdkMgr.isShowRecordBtn()?this.nodeShare.active=!0:this.nodeShare.active=!1,this.nodeCenter.active=!1,this.nodeSpine.active=!0;var n=jsonTables.getJsonTableObj("spine",constants.spine.BattleWinStart);showSpine(this.nodeSpine,cc.v2(0,0),n,null,null,function(e){e.getComponent(sp.Skeleton).setAnimation(0,"standBy",!0)},null,!1),this.nodeLeft.on(cc.Node.EventType.TOUCH_START,this.onTouchLeft,this),this.nodeRight.on(cc.Node.EventType.TOUCH_START,this.onTouchRight,this),SdkMgr.isShowRecordBtn()&&this.nodeShare.on(cc.Node.EventType.TOUCH_START,this.onTouchShare,this),this.nodeTitleLight.active=!1,cc.tween(this.nodeCover).to(.3,{opacity:255}).start(),cc.tween(this.nodeLightSpine).delay(.1).to(.3,{opacity:255}).start(),cc.tween(this.nodeBgNpc).delay(1.2).to(.3,{opacity:255}).start(),cc.tween(this.nodeBg0).delay(1.2).to(.3,{opacity:255}).start(),cc.tween(this.nodeBg1).delay(1.5).to(.3,{opacity:255}).start(),cc.tween(this.nodeLeft).delay(1.8).to(.3,{opacity:255}).start(),cc.tween(this.nodeLeft2).delay(1.8).to(.3,{opacity:255}).start(),cc.tween(this.nodeRight).delay(1.8).to(.3,{opacity:255}).start(),cc.tween(this.nodeCenter).delay(1.8).to(.3,{opacity:255}).start(),cc.tween(this.nodeShare).delay(1.8).to(.3,{opacity:255}).start()}else this.nodeLeft.active=!1,this.nodeLeft2.active=!0,this.nodeRight.active=!1,this.nodeShare.active=!1,this.nodeCenter.active=!0,this.nodeText.active=!0,this.nodeSpine.active=!1,this.nodeCenter.on(cc.Node.EventType.TOUCH_START,this.onTouchCenter,this),this.nodeLeft2.on(cc.Node.EventType.TOUCH_START,this.onTouchLeft2,this),this.nodeTitleLight.active=!1,this.nodeTitleLight.color=(new cc.Color).fromHEX("#74b2ff"),resMgr.loadRes("package0",["img/failure"],cc.SpriteFrame,function(e){t.nodeTitle.getComponent(cc.Sprite).spriteFrame=globalAssets[e]}),cc.tween(this.nodeCover).to(.3,{opacity:255}).start(),cc.tween(this.nodeTitle).delay(.2).to(.3,{opacity:255}).start(),cc.tween(this.nodeText).delay(.4).to(.3,{opacity:255}).start(),cc.tween(this.nodeLeft).delay(.6).to(.3,{opacity:255}).start(),cc.tween(this.nodeLeft2).delay(.6).to(.3,{opacity:255}).start(),cc.tween(this.nodeRight).delay(.6).to(.3,{opacity:255}).start(),cc.tween(this.nodeCenter).delay(.6).to(.3,{opacity:255}).start(),cc.tween(this.nodeShare).delay(.6).to(.3,{opacity:255}).start()},init:function(e,t){var n=this;zzpout("Drop:"+JSON.stringify(e)),zzpout("Drop:"+JSON.stringify(t));for(var i=function(i){var o=e[i],a=parseInt(t[i]);resMgr.loadRes("packageMenu",[1==e.length?"prefab/preMenuGetCellNpc":"prefab/preMenuGetCellObj"],cc.Prefab,function(t){var i=null;i=e.length>1?n.poolCellNpc.size()>0?n.poolCellObj.get():cc.instantiate(globalAssets[t]):n.poolCellNpc.size()>0?n.poolCellNpc.get():cc.instantiate(globalAssets[t]),e.length>1?n.node.getChildByName("bg0").childrenCount<5?i.parent=n.node.getChildByName("bg0"):i.parent=n.node.getChildByName("bg1"):i.parent=n.node.getChildByName("bgNpc"),i.getChildByName("icon").getComponent("nodeLoadSprite").loadSprite(o.picPackage,o.picPath),i.getChildByName("num").getComponent(cc.Label).string="x"+a})},o=0;o<e.length;o++)i(o)},setCallback:function(e,t){this.callLeft=e,this.callRight=t},setCallback2:function(e,t){this.callCenter=t,this.callLeft2=e},start:function(){},onTouchClose:function(e){e.stopPropagation(),this.node.active=!1},onDisable:function(){this.node.destroy()},setBtnEnable:function(e){this.nodeLeft.off(cc.Node.EventType.TOUCH_START,this.onTouchLeft,this),this.nodeLeft2.off(cc.Node.EventType.TOUCH_START,this.onTouchLeft2,this),this.nodeRight.off(cc.Node.EventType.TOUCH_START,this.onTouchRight,this),SdkMgr.isShowRecordBtn()&&this.nodeShare.off(cc.Node.EventType.TOUCH_START,this.onTouchShare,this),this.nodeCenter.off(cc.Node.EventType.TOUCH_START,this.onTouchCenter,this),e&&(this.nodeLeft.on(cc.Node.EventType.TOUCH_START,this.onTouchLeft,this),this.nodeLeft2.on(cc.Node.EventType.TOUCH_START,this.onTouchLeft2,this),this.nodeRight.on(cc.Node.EventType.TOUCH_START,this.onTouchRight,this),SdkMgr.isShowRecordBtn()&&this.nodeShare.on(cc.Node.EventType.TOUCH_START,this.onTouchShare,this),this.nodeCenter.on(cc.Node.EventType.TOUCH_START,this.onTouchCenter,this))},onTouchCenter:function(e){this.setBtnEnable(!1),e.stopPropagation(),this.close(),this.callCenter&&this.callCenter()},onTouchRight:function(e){this.setBtnEnable(!1),e.stopPropagation(),platform==PLATFORM_TOPON&&TyqSdk.getConfigProbability(constants.switch.switchRewardAdRate)?wxMoudle.playVideoAd(this.onTouchLeftCallback.bind(this),-1):(this.callRight&&this.callRight(),this.close())},onTouchShare:function(){SdkMgr.recordCut(function(){})},onTouchLeft:function(e){this.setBtnEnable(!1),e.stopPropagation(),0==this.type&&user.getAdsFree()>0?(this.callLeft&&this.callLeft(),user.addAdsFree(-1),this.close()):wxMoudle.playVideoAd(this.onTouchLeftCallback.bind(this),-1)},onTouchLeftCallback:function(e){e==constants.VideoState.SKIP||e==constants.VideoState.PLAY_END?(this.callLeft&&this.callLeft(),this.close()):this.setBtnEnable(!0)},onTouchLeft2:function(e){this.setBtnEnable(!1),e.stopPropagation(),0==this.type&&user.getAdsFree()>0?(this.callLeft2&&this.callLeft2(),user.addAdsFree(-1),this.close()):wxMoudle.playVideoAd(this.onTouchLeft2Callback.bind(this),-1)},onTouchLeft2Callback:function(e){e==constants.VideoState.SKIP||e==constants.VideoState.PLAY_END?(this.callLeft2&&this.callLeft2(),this.close()):this.setBtnEnable(!0)},close:function(){this.setBtnEnable(!1),showInterAdGameEnd(constants.switch.switchInterAd),this.node.active=!1}}),cc._RF.pop()},{panel:"panel"}],nodeFormBattleStartAds:[function(e,t){"use strict";cc._RF.push(t,"1550dsRGyhE16/W3qOiOjhL","nodeFormBattleStartAds");var n=e("panel");cc.Class({extends:n,type:0,properties:{nodeIcon:cc.Sprite},onLoad:function(){this.type=0,user.getAdsFree()>0&&(this.node.getChildByName("border").getChildByName("btnLeft").getChildByName("Background").getChildByName("Label").getComponent(cc.Widget).horizontalCenter=0,this.node.getChildByName("border").getChildByName("btnLeft").getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string="\u672c\u6b21\u514d\u8d39",this.node.getChildByName("border").getChildByName("btnLeft").getChildByName("Background").getChildByName("icon").active=!1),this.node.getChildByName("border").getChildByName("btnLeft").on(cc.Node.EventType.TOUCH_START,this.onTouchLeft,this),this.node.getChildByName("border").getChildByName("btnRight").on(cc.Node.EventType.TOUCH_START,this.onTouchRight,this)},setType:function(e){zzpout("setType:"+e);var t=this;this.type=e,0!=e&&resMgr.loadRes("package0",["img/font"+this.type],cc.SpriteFrame,function(e){t.nodeIcon.spriteFrame=globalAssets[e]})},setCallback:function(e,t){this.callLeft=e,this.callRight=t},start:function(){},onDisable:function(){this.node.destroy()},setBtnEnable:function(e){this.node.getChildByName("border").getChildByName("btnRight").off(cc.Node.EventType.TOUCH_START,this.onTouchRight,this),e&&this.node.getChildByName("border").getChildByName("btnRight").on(cc.Node.EventType.TOUCH_START,this.onTouchRight,this)},onTouchLeft:function(e){e.stopPropagation(),this.setBtnEnable(!1),0==this.type&&user.getAdsFree()>0?(this.callLeft&&this.callLeft(),user.addAdsFree(-1),this.close()):wxMoudle.playVideoAd(this.onTouchLeftCallback.bind(this),-1)},onTouchRight:function(e){e.stopPropagation(),this.setBtnEnable(!1),this.callRight&&this.callRight(),this.close()},onTouchLeftCallback:function(e){e==constants.VideoState.SKIP||e==constants.VideoState.PLAY_END?(this.callLeft&&this.callLeft(),this.close()):this.setBtnEnable(!0)},close:function(){this.node.active=!1}}),cc._RF.pop()},{panel:"panel"}],nodeFormBattleStartHero:[function(e,t){"use strict";cc._RF.push(t,"049a8zRLehDI5P1TY6xZzoZ","nodeFormBattleStartHero");var n=e("panel");cc.Class({extends:n,type:0,onLoad:function(){this.type=0,user.getAdsFree()>0&&(this.node.getChildByName("border").getChildByName("btnLeft").getChildByName("Background").getChildByName("Label").getComponent(cc.Widget).horizontalCenter=0,this.node.getChildByName("border").getChildByName("btnLeft").getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string="\u672c\u6b21\u514d\u8d39",this.node.getChildByName("border").getChildByName("btnLeft").getChildByName("Background").getChildByName("icon").active=!1),this.node.getChildByName("border").getChildByName("btnLeft").on(cc.Node.EventType.TOUCH_START,this.onTouchLeft,this),this.node.getChildByName("border").getChildByName("btnRight").on(cc.Node.EventType.TOUCH_START,this.onTouchRight,this)},setCallback:function(e,t){this.callLeft=e,this.callRight=t},start:function(){},onDisable:function(){this.node.destroy()},setBtnEnable:function(e){this.node.getChildByName("border").getChildByName("btnRight").off(cc.Node.EventType.TOUCH_START,this.onTouchRight,this),e&&this.node.getChildByName("border").getChildByName("btnRight").on(cc.Node.EventType.TOUCH_START,this.onTouchRight,this)},onTouchLeft:function(e){e.stopPropagation(),this.setBtnEnable(!1),0==this.type&&user.getAdsFree()>0?(this.callLeft&&this.callLeft(),user.addAdsFree(-1),this.close()):wxMoudle.playVideoAd(this.onTouchLeftCallback.bind(this),-1)},onTouchRight:function(e){e.stopPropagation(),this.setBtnEnable(!1),this.callRight&&this.callRight(),this.close()},onTouchLeftCallback:function(e){e==constants.VideoState.SKIP||e==constants.VideoState.PLAY_END?(this.callLeft&&this.callLeft(),this.close()):this.setBtnEnable(!0)},close:function(){this.node.active=!1}}),cc._RF.pop()},{panel:"panel"}],nodeGuanzhi:[function(e,t){"use strict";cc._RF.push(t,"4f011SRAfhBCqZCdBLkbbHN","nodeGuanzhi");var n=e("panel");cc.Class({extends:n,runTimeLast:0,runTime:0,arrQian:null,bolInit:null,tween:null,arrTarget:null,properties:{nodeContent:cc.Node,nodeBar:cc.Node,nodeBg:cc.Node,nodeBlockInput:cc.Node},onLoad:function(){this.runTime=0,this.runTimeLast=0,this.bolInit=!1,this.tween=null,this.arrTarget=[],showInfomationAdCenter(constants.switch.switchInfomationAd),showByteBanner(this.node,constants.switch.switchGuanBanner),showWechatBanner(this.node,constants.switchWechat.switchBanner)},init:function(){this.nodeBg.getChildByName("btnClose").on(cc.Node.EventType.TOUCH_START,this.onTouchClose,this);var e=jsonTables.getJsonTable("guanzhi");zzpout("add "+JSON.stringify(e));var t=this;resMgr.loadRes("packageMenu",["prefab/preGuanzhiCell"],cc.Prefab,function(n){for(var i=e.length,o=0,a=0;a<i;a++){var s=e[a];if(null!=s){var r=cc.instantiate(globalAssets[n]);r.parent=t.nodeContent,r.name="cell"+a;for(var c=0;c<2;c++){var d=jsonTables.getJsonTableObj("item",parseInt(s.item[c])),l=r.getChildByName(0==c?"left":"right");l.getChildByName("node").getChildByName("icon").getComponent("nodeLoadSprite").loadSprite(d.picPackage,d.picPath),1==c&&(l.getChildByName("node").getChildByName("ui_tmd").getChildByName("text").getComponent(cc.Label).string="x"+s.num[c]),l.getChildByName("node").getChildByName("get").active=user.getGuanzhiGet(2*a+c),l.getChildByName("node").getChildByName("preRedPoint").getComponent("nodeRedPoint").redPointName=constants.redPoint.guanzhi+10*a+c,user.getGuanzhi()<a+1||(user.getGuanzhi()>=a+1&&user.getGuanzhiGet(2*a+c)?t.setCellGet(a,c):(l.getChildByName("node").getChildByName("preRedPoint").getComponent("cc.Sprite").enabled=!0,l.on(cc.Node.EventType.TOUCH_START,t.onTouchLeft,t)))}r.getChildByName("card").getComponent("nodeLoadSprite").loadSprite(s.picPackage,s.picPath),r.getChildByName("card").color=(new cc.Color).fromHEX(user.getGuanzhi()<a+1?"#333333":"#FFFFFF"),user.getGuanzhi()<a+1&&t.setCellLock(a),o=r.height}}t.nodeContent.parent.height=e.length*o,t.nodeBar.height=user.getGuanzhi()*o-40,clientEvent.dispatchEvent("updateRedPoint")})},setCloseCallback:function(e){this.callback=e},setCellColor:function(e,t){var n=e.childrenCount;"get"!=e.name&&(e.color=t);for(var i=0;i<n;i++)this.setCellColor(e.children[i],t)},setCellLock:function(e){var t=this.nodeContent.getChildByName("cell"+e);this.setCellColor(t,(new cc.Color).fromHEX("#333333"));for(var n=0;n<2;n++){var i=t.getChildByName(0==n?"left":"right").getChildByName("node");i.getChildByName("get").active=!0,i.getChildByName("get").getComponent("nodeLoadSprite").loadSprite("packageMenu","img/ui_s"),i.getChildByName("preRedPoint").getComponent("cc.Sprite").enabled=!1,i.off(cc.Node.EventType.TOUCH_START,this.onTouchLeft,this)}},setCellGet:function(e,t){var n=this.nodeContent.getChildByName("cell"+e).getChildByName(0==t?"left":"right").getChildByName("node");this.setCellColor(n,(new cc.Color).fromHEX("#333333")),n.getChildByName("get").active=!0,n.getChildByName("get").getComponent("nodeLoadSprite").loadSprite("packageMenu","img/ui_g"),n.getChildByName("preRedPoint").getComponent("cc.Sprite").enabled=!1,n.parent.off(cc.Node.EventType.TOUCH_START,this.onTouchLeft,this),clientEvent.dispatchEvent("updateRedPoint")},setBtnEnable:function(e){this.nodeBlockInput.active=!e},getReward:function(e){var t=jsonTables.getJsonTable("guanzhi");user.addItem(parseInt(t[Math.floor(e/2)].item[e%2]),parseInt(t[Math.floor(e/2)].num[e%2])),user.setGuanzhiGet(e),this.setCellGet(Math.floor(e/2),e%2)},onTouchLeft:function(e){zzperr("on TOuch Left"),e&&e.stopPropagation();var t=e.target.parent.name.substr(4);"left"==e.target.name?(this.setBtnEnable(!1),user.getAdsFree()>0?(user.addAdsFree(-1),this.onTouchRightCallback(constants.VideoState.SKIP,2*t)):(zzperr("on TOuch Left playVideoAd"),wxMoudle.playVideoAd(this.onTouchRightCallback.bind(this),2*t))):(sendCustomEvent(constants.event.guan["get"+t]),this.getReward(2*t+1))},onTouchRightCallback:function(e,t){zzperr("onTouchRightCallback"),e!=constants.VideoState.SKIP&&e!=constants.VideoState.PLAY_END||(this.getReward(t),sendCustomEvent(constants.event.guan["getAd"+t])),this.setBtnEnable(!0)},onTouchClose:function(e){e&&e.stopPropagation(),this.callback&&this.callback(),this.willClose()},willClose:function(){var e=this;cc.tween(this.node).to(.2,{scale:0},{easing:"backIn"}).call(function(){e.node.active=!1}).start()},onDisable:function(){SdkMgr.hideBanner(),this.setBtnEnable(!1),clientEvent.dispatchEvent("jumpToMenu",2),this.node.destroy()},update:function(e){this.runTime-this.runTimeLast>=RUN_DT&&(this.runTimeLast=this.runTime),this.runTime+=e,this.bolInit||(this.bolInit=!0,this.init())}}),cc._RF.pop()},{panel:"panel"}],nodeLight:[function(e,t){"use strict";cc._RF.push(t,"6188cuPKjJAIJVL47cgaeOf","nodeLight");var n=e("panel");cc.Class({extends:n,bolInit:null,intCheckTime:0,runTime:0,runTimeLast:0,tween:null,properties:{light:cc.Node},onLoad:function(){this.bolInit=!1,this.runTime=0,this.runTimeLast=0,this.intCheckTime=1,this.tween=null},setStart:function(){if(this.node.parent&&null==this.tween){this.runTime=0,this.runTimeLast=0,null==this.node.getComponent(cc.Mask).spriteFrame&&(this.node.getComponent(cc.Mask).spriteFrame=this.node.parent.getComponent(cc.Sprite).spriteFrame),this.node.width=this.node.parent.width,this.node.height=this.node.parent.height;var e=this.node.getChildByName("light"),t=this.node.parent.width/e.width,n=this.node.parent.height/e.height,i=Math.max(t,n);e.scale=i,this.tween=cc.tween(e).set({position:cc.v2(.5*-(this.node.parent.width+e.width),0)}).to(.8,{position:cc.v2(.5*(this.node.parent.width+e.width),0)}).delay(.2+.5*Math.random()).union().repeatForever(),this.tween.start()}},setStop:function(){this.tween&&(this.tween.stop(),this.tween=null,this.node.getChildByName("light").position=cc.v2(.5*-(this.node.parent.width+this.node.getChildByName("light").width),0))},update:function(e){this.runTime+=e,this.runTime>this.intCheckTime&&(this.runTime=0,"ffffff"==this.node.parent.color.toHEX("#rrggbb").toLowerCase()?this.setStart():this.setStop())}}),cc._RF.pop()},{panel:"panel"}],nodeLoadSpine:[function(e,t){"use strict";cc._RF.push(t,"7ec53V/vhdES6PWwg7RVgWs","nodeLoadSpine");var n=e("panel");cc.Class({extends:n,properties:{},onLoad:function(){},loadSpine:function(e,t,n){var i=this;resMgr.loadRes(e,[t],sp.SkeletonData,function(e){i.node.getComponent(sp.Skeleton).skeletonData=globalAssets[e],i.node.getComponent(sp.Skeleton).setAnimation(0,n,!0)})}}),cc._RF.pop()},{panel:"panel"}],nodeLoadSprite:[function(e,t){"use strict";cc._RF.push(t,"01028AFatBJuYagCG7XKLII","nodeLoadSprite");var n=e("panel");cc.Class({extends:n,originWidth:0,originHeight:0,updateSize:0,sf:null,properties:{},onLoad:function(){this.originWidth=this.node.width,this.originHeight=this.node.height},loadSprite:function(e,t){var n=this;resMgr.loadRes(e,[t],cc.SpriteFrame,function(e){n.sf=globalAssets[e],n.updateSize=1}.bind(this))},update:function(){if(this.node&&1==this.updateSize&&(this.node.width&&!this.originWidth&&(this.originWidth=this.node.width),this.node.height&&!this.originHeight&&(this.originHeight=this.node.height),this.originWidth&&this.originHeight&&1==this.updateSize)){var e=this.sf.getRect().width,t=this.sf.getRect().height,n=Math.min(this.originWidth/e,this.originHeight/t);this.node.getComponent(cc.Sprite).spriteFrame=this.sf,this.node.width=e*n,this.node.height=t*n,this.updateSize=2}}}),cc._RF.pop()},{panel:"panel"}],nodeLoading:[function(e,t){"use strict";cc._RF.push(t,"345f4QSZntME5il23dGaftl","nodeLoading"),cc.Class({extends:cc.Component,count:0,tween:null,properties:{},onLoad:function(){this.count=0,this.tween=null,clientEvent.on("loading",this.onLoading.bind(this),"nodeLoading_onLoading"),clientEvent.on("loadEnd",this.onLoadEnd.bind(this),"nodeLoading_onLoadEnd")},onLoading:function(){this.count++,null==this.tween&&(this.tween=cc.tween(this.node).to(.2,{opacity:255}),this.tween.start())},onLoadEnd:function(){this.count--,this.count<=0&&(this.count=0,this.tween&&this.tween.stop(),this.tween=cc.tween(this.node).to(.1,{opacity:0}),this.tween.start())},onDisable:function(){clientEvent.off("loading",this.onLoading.bind(this),"nodeLoading_onLoading"),clientEvent.off("loadEnd",this.onLoadEnd.bind(this),"nodeLoading_onLoadEnd"),this.node.destroy()}}),cc._RF.pop()},{}],nodeMenu0:[function(e,t){"use strict";cc._RF.push(t,"36c79oBaMBFqqKaX/IXnRVl","nodeMenu0");var n=e("panel");cc.Class({extends:n,page:0,runTimeLast:0,runTime:0,showBuildingIndex:0,opMoved:!1,intStatus:0,pressTime:0,pressItemId:0,properties:{nodePane:cc.Node,btnRecycle:cc.Node,nodeDrag:cc.Node,nodeFrame:cc.Node},onLoad:function(){this.intStatus=0,this.page=0,this.runTime=0,this.runTimeLast=0,this.showBuildingIndex=0,this.opMoved=!1,this.pressTime=0,this.pressItemId=-1;for(var e=0;e<2;e++){var t=jsonTables.getJsonTableArrObj("building","type",e+1)[0];this.nodePane.getChildByName("btnCard"+e).getChildByName("Background").getChildByName("icon").getComponent("nodeLoadSprite").loadSprite("packageMenu",1==t.type?"imgMenuBuilding/jianta":"imgMenuBuilding/toushiche"),this.nodePane.getChildByName("btnCard"+e).getChildByName("Background").getChildByName("num").getComponent(cc.Label).string=t.price,this.nodePane.getChildByName("btnCard"+e).on(cc.Node.EventType.TOUCH_START,this.onTouchCardStart,this),this.nodePane.getChildByName("btnCard"+e).on(cc.Node.EventType.TOUCH_MOVE,this.onTouchCardMove,this),this.nodePane.getChildByName("btnCard"+e).on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCardCancel,this),this.nodePane.getChildByName("btnCard"+e).on(cc.Node.EventType.TOUCH_END,this.onTouchCardEnd,this)}zzpout("\u6218\u573a");for(var n=0;n<user.getBuildingSlotList().length;n++){var i=user.getBuildingSlot(n),o=user.getBuilding(n);if(zzpout("\u6218\u573a:"+i),i<=0)this.node.getChildByName("btnAdd"+n).getChildByName("Background").active=!0,this.node.getChildByName("btnAdd"+n).on(cc.Node.EventType.TOUCH_START,this.onTouchBuildingUnlock,this),zzpout("\u6218\u573a222");else{if(this.node.getChildByName("btnAdd"+n).on(cc.Node.EventType.TOUCH_START,this.onTouchBuildingStart,this),this.node.getChildByName("btnAdd"+n).getChildByName("Background").active=!1,o>0){var a=jsonTables.getJsonTableObj("building",o);this.node.getChildByName("btnAdd"+n).getChildByName("icon").getComponent("nodeLoadSpine").loadSpine(a.picPackage,a.picPath,"standBy")}this.node.getChildByName("btnAdd"+n).on(cc.Node.EventType.TOUCH_END,this.onTouchBuildingEnd,this),this.node.getChildByName("btnAdd"+n).on(cc.Node.EventType.TOUCH_MOVE,this.onTouchBuildingMove,this),this.node.getChildByName("btnAdd"+n).on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchBuildingCancel,this)}}this.checkPage(),clientEvent.dispatchEvent("updateRedPoint")},checkPage:function(){this.node.parent.parent.getComponent("nodeMenu").intSubPage!=this.page&&(this.node.active=!1)},onTouchCardStart:function(e){e&&e.stopPropagation(),this.opMoved=!1;var t=this.node.convertToNodeSpaceAR(e.getLocation());if(this.nodeDrag.position=t,null==this.nodeDrag.getComponent("nodeLoadSprite").spriteFrame){var n=parseInt(e.target.name.substr(-1)),i=jsonTables.getJsonTableArrObj("building","type",n+1)[0];this.nodeDrag.getComponent("nodeLoadSprite").loadSprite("packageMenu",1==i.type?"imgMenuBuilding/jianta":"imgMenuBuilding/toushiche")}},onTouchCardMove:function(e){e&&e.stopPropagation(),this.opMoved=!0;var t=this.node.convertToNodeSpaceAR(e.getLocation());this.nodeDrag.position=t},onTouchCardCancel:function(e){var t=this;e&&e.stopPropagation(),this.opMoved=!1,zzpout("onTouchCardCancel:"+e.target.name),this.node.convertToNodeSpaceAR(e.getLocation());var n=parseInt(e.target.name.substr(-1)),i=jsonTables.getJsonTableArrObj("building","type",n+1)[0];this.nodeDrag.getComponent(cc.Sprite).spriteFrame=null;var o=this.nodeDrag.getBoundingBox();zzpout("nodeDrag:"+JSON.stringify(o));for(var a=this,s=function(e){var n=t.node.getChildByName("btnAdd"+e).getBoundingBox();if(o.intersects(n)){if(user.getBuildingSlot(e)<=0)return{v:void 0};if(user.getBuilding(e)<0)if(user.getYu()>=i.price)t.buyBuilding(e,i.Tid),user.addYu(-i.price),clientEvent.dispatchEvent("updateRedPoint");else{var s=jsonTables.getJsonTableObj("ad",constants.ad.JianZhuBuy);2==i.type&&(s=jsonTables.getJsonTableObj("ad",constants.ad.TouShiTaBuy)),showAd(s.iconPackage,s.iconPath,s.btn,s.des,function(){1==i.type?sendCustomEvent(constants.event.building.putonJianTaAd):sendCustomEvent(constants.event.building.putonTouShiCheAd),a.buyBuilding(e,i.Tid),clientEvent.dispatchEvent("updateRedPoint")},null)}else clientEvent.dispatchEvent("showMsg","\u5efa\u7b51\u5df2\u5b58\u5728");return"break"}},r=0;r<user.getBuildingSlotList().length;r++){var c=s(r);if("break"===c)break;if("object"==typeof c)return c.v}},onTouchCardEnd:function(e){e&&e.stopPropagation(),this.nodeDrag.getComponent(cc.Sprite).spriteFrame=null,this.opMoved=!1},onTouchBuildingStart:function(e){zzpout("onTouchBuildingStart"),e&&e.stopPropagation();var t=this.node.convertToNodeSpaceAR(e.getLocation());this.nodeDrag.position=t,this.opMoved=!1,this.pressTime=this.runTime;var n=parseInt(e.target.name.substr(-1));this.pressItemId=parseInt(n)},onTouchBuildingMove:function(e){if(e&&e.stopPropagation(),!(this.runTime-this.pressTime<.3)){var t=this.node.convertToNodeSpaceAR(e.getLocation());this.nodeDrag.position=t}},createMoveSprite:function(){if(!(this.pressItemId<0)){var e=user.getBuilding(this.pressItemId);if(!(e<=0)){this.opMoved=!0;var t=jsonTables.getJsonTableObj("building",e);this.node.getChildByName("btnAdd"+this.pressItemId).getChildByName("icon").active=!1,this.nodeDrag.getComponent("nodeLoadSprite").loadSprite("packageMenu",1==t.type?"imgMenuBuilding/jianta":"imgMenuBuilding/toushiche")}}},onTouchBuildingCancel:function(e){if(e&&e.stopPropagation(),this.pressItemId=-1,this.nodeDrag.getComponent(cc.Sprite).spriteFrame=null,this.opMoved=!1,!(this.runTime-this.pressTime<.3)){var t=parseInt(e.target.name.substr(-1)),n=user.getBuilding(t),i=jsonTables.getJsonTableObj("building",n);if(null!=i){var o=this.nodeDrag.getBoundingBox();this.node.getChildByName("btnAdd"+t).getChildByName("icon").active=!0;for(var a=!1,s=0;s<user.getBuildingSlotList().length;s++){var r=this.node.getChildByName("btnAdd"+s).getBoundingBox();if(o.intersects(r)){if(user.getBuildingSlot(s)<=0)return;user.getBuilding(s)<0?(this.setBuilding(t,-1),this.setBuilding(s,n)):(this.setBuilding(t,user.getBuilding(s)),this.setBuilding(s,n)),a=!0,clientEvent.dispatchEvent("updateRedPoint");break}}if(!a){var c=this.btnRecycle.getBoundingBox();c.x+=this.btnRecycle.parent.position.x,c.y+=this.btnRecycle.parent.position.y,o.intersects(c)&&(user.addYu(i.recycle,this.btnRecycle.convertToWorldSpaceAR(cc.v2(0,0))),this.setBuilding(t,-1),this.nodeDrag.getComponent(cc.Sprite).spriteFrame=null,clientEvent.dispatchEvent("updateRedPoint"),1==i.type?sendCustomEvent(constants.event.building.recyleJianta):2==i.type&&sendCustomEvent(constants.event.building.recyleToushiche))}}}},onTouchBuildingEnd:function(e){e&&e.stopPropagation(),this.nodeDrag.destroyAllChildren(),this.nodeDrag.getComponent(cc.Sprite).spriteFrame=null,zzpout("onTouchBuildingEnd");var t=parseInt(e.target.name.substr(-1));this.node.getChildByName("btnAdd"+t).getChildByName("icon").active=!0,this.opMoved||(zzpout("showpane"),this.showPane(t)),this.opMoved=!1,this.pressItemId=-1,this.opMoved=!1},buyBuilding:function(e,t){user.getBuildingSlot(e)>0&&t>0&&(1==jsonTables.getJsonTableObj("building",t).type?(sendCustomEvent(constants.event.building.putonJianTaTotal),sendCustomEvent(constants.event.building.jianta1)):(sendCustomEvent(constants.event.building.putonTouShiCheTotal),sendCustomEvent(constants.event.building.toushiche1)),this.setBuilding(e,t),playSound(constants.sound.bg),clientEvent.dispatchEvent("updateRedPoint"))},onTouchBuildingUnlock:function(e){e&&e.stopPropagation();var t=parseInt(e.target.name.substr(-1));zzpout("\u89e3\u9501\u64cd:"+t),user.getBuildingSlot(t)<=0&&(zzpout("\u89e3\u9501\u64cd"),user.getAdsFree()>0?(user.addAdsFree(-1),user.setBuildingSlot(t,1),clientEvent.dispatchEvent("updateRedPoint")):wxMoudle.playVideoAd(this.onAdCallback.bind(this),t))},onAdCallback:function(e,t){e!=constants.VideoState.SKIP&&e!=constants.VideoState.PLAY_END||(2==t?sendCustomEvent(constants.event.building.unlockLeftCenter):3==t?sendCustomEvent(constants.event.building.unlockRightCenter):4==t?sendCustomEvent(constants.event.building.unlockLeftTop):5==t&&sendCustomEvent(constants.event.building.unlockRightTop),user.setBuildingSlot(t,1),this.node.getChildByName("btnAdd"+t).getChildByName("Background").active=!1,this.node.getChildByName("btnAdd"+t).off(cc.Node.EventType.TOUCH_START,this.onTouchBuildingUnlock,this),this.node.getChildByName("btnAdd"+t).off(cc.Node.EventType.TOUCH_START,this.onTouchBuildingStart,this),this.node.getChildByName("btnAdd"+t).off(cc.Node.EventType.TOUCH_END,this.onTouchBuildingEnd,this),this.node.getChildByName("btnAdd"+t).off(cc.Node.EventType.TOUCH_MOVE,this.onTouchBuildingMove,this),this.node.getChildByName("btnAdd"+t).off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchBuildingCancel,this),this.node.getChildByName("btnAdd"+t).on(cc.Node.EventType.TOUCH_START,this.onTouchBuildingStart,this),this.node.getChildByName("btnAdd"+t).on(cc.Node.EventType.TOUCH_END,this.onTouchBuildingEnd,this),this.node.getChildByName("btnAdd"+t).on(cc.Node.EventType.TOUCH_MOVE,this.onTouchBuildingMove,this),this.node.getChildByName("btnAdd"+t).on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchBuildingCancel,this),clientEvent.dispatchEvent("updateRedPoint"))},setBuilding:function(e,t){if(t<0)this.node.getChildByName("btnAdd"+e).getChildByName("icon").getComponent(sp.Skeleton).skeletonData=null,user.setBuilding(e,-1);else{var n=jsonTables.getJsonTableObj("building",t);this.node.getChildByName("btnAdd"+e).getChildByName("icon").getComponent("nodeLoadSpine").loadSpine(n.picPackage,n.picPath,"standBy"),user.setBuilding(e,n.Tid),playSound(constants.sound.buyBuilding)}clientEvent.dispatchEvent("updateRedPoint")},showPane:function(e){var t=user.getBuilding(e);t<=0||(showWxGridVertical(constants.switchWechat.switchGrid1,constants.switchWechat.switchGrid1),this.showBuildingIndex=e,this.updatePaneData(t),this.nodeFrame.parent.active=!0,this.nodeFrame.getChildByName("close").on(cc.Node.EventType.TOUCH_START,this.onTouchPaneClose,this),this.nodeFrame.getChildByName("btn").on(cc.Node.EventType.TOUCH_START,this.onTouchPaneUpgrade,this))},updatePaneData:function(e){for(var t=jsonTables.getJsonTableObj("building",e),n=null,i=jsonTables.getJsonTable("building"),o=0;o<i.length;o++)if(i[o].type==t.type&&i[o].level==t.level+1){n=i[o];break}this.nodeFrame.getChildByName("title").getComponent("nodeLoadSprite").loadSprite("packageMenu",1==t.type?"imgMenuBuilding/title1":"imgMenuBuilding/title2"),this.nodeFrame.getChildByName("icon").getComponent("nodeLoadSprite").loadSprite("packageMenu",1==t.type?"imgMenuBuilding/jianta":"imgMenuBuilding/toushiche"),this.nodeFrame.getChildByName("level").getComponent(cc.Label).string="\u7b49\u7ea7\uff1aLV "+t.level,this.nodeFrame.getChildByName("hp").getComponent(cc.RichText).string="<b><color=#FFFFFF>\u751f\u547d  "+t.hp+"</c><color=#00FF00>"+(n&&n.hp-t.hp!=0?"+"+(n.hp-t.hp):"")+"</color><b>",this.nodeFrame.getChildByName("atk").getComponent(cc.RichText).string="<b><color=#FFFFFF>\u653b\u51fb  "+t.attack+"</c><color=#00FF00>"+(n&&n.attack-t.attack!=0?"+"+(n.attack-t.attack):"")+"</color><b>",this.nodeFrame.getChildByName("speed").getComponent(cc.RichText).string="<b><color=#FFFFFF>\u653b\u901f  "+t.atkSpeed+"</c><color=#00FF00>"+(n&&n.atkSpeed-t.atkSpeed!=0?"+"+(n.atkSpeed-t.atkSpeed):"")+"</color><b>",this.nodeFrame.getChildByName("des").getComponent(cc.Label).string=t.des,this.nodeFrame.getChildByName("btn").getChildByName("Background").getChildByName("Label").getComponent(cc.RichText).string=n?"<b><color=#de4f0a>\u5347\u7ea7<img src='ui_by' />x"+t.price+"</color><b>":"\u5df2\u6ee1\u7ea7"},onTouchPaneClose:function(e){hideWxGrid(constants.switchWechat.switchGrid1),hideWxGrid(constants.switchWechat.switchGrid1+1),e&&e.stopPropagation(),this.nodeFrame.getChildByName("close").off(cc.Node.EventType.TOUCH_START,this.onTouchPaneClose,this),this.nodeFrame.getChildByName("btn").off(cc.Node.EventType.TOUCH_START,this.onTouchPaneUpgrade,this),this.nodeFrame.parent.active=!1},onTouchPaneUpgrade:function(e){e&&e.stopPropagation();for(var t=user.getBuilding(this.showBuildingIndex),n=jsonTables.getJsonTableObj("building",t),i=null,o=jsonTables.getJsonTable("building"),a=this,s=0;s<o.length;s++)if(o[s].type==n.type&&o[s].level==n.level+1){if(i=o[s],user.getYu()>=n.price)1==n.type?sendCustomEvent(constants.event.building.upgradeJianTaNormal):sendCustomEvent(constants.event.building.upgradeTouShiCheNormal),user.addYu(-n.price),this.setBuilding(this.showBuildingIndex,i.Tid),this.updatePaneData(i.Tid),clientEvent.dispatchEvent("updateRedPoint");else{var r=jsonTables.getJsonTableObj("ad",constants.ad.JianZhuUpgrade);showAd(r.iconPackage,r.iconPath,r.btn,r.des,function(){1==n.type?sendCustomEvent(constants.event.building.upgradeJianTaAd):sendCustomEvent(constants.event.building.upgradeTouShiCheAd),a.setBuilding(a.showBuildingIndex,i.Tid),a.updatePaneData(i.Tid),clientEvent.dispatchEvent("updateRedPoint")},null)}var c=1;o[s].level>=11&&o[s].level<=20&&(c=2),o[s].level>=21&&o[s].level<=30&&(c=3),o[s].level>=31&&o[s].level<=40&&(c=4),o[s].level>=41&&o[s].level<=50&&(c=5),1==n.type?sendCustomEvent(constants.event.building["jianta"+c]):sendCustomEvent(constants.event.building["toushiche"+c]);break}},onDisable:function(){for(var e=0;e<2;e++)this.nodePane.getChildByName("btnCard"+e).off(cc.Node.EventType.TOUCH_START,this.onTouchCardStasrt,this),this.nodePane.getChildByName("btnCard"+e).off(cc.Node.EventType.TOUCH_MOVE,this.onTouchCardMove,this),this.nodePane.getChildByName("btnCard"+e).off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCardCancel,this),this.nodePane.getChildByName("btnCard"+e).off(cc.Node.EventType.TOUCH_END,this.onTouchCardEnd,this);for(var t=0;t<user.getBuildingSlotList().length;t++)this.node.getChildByName("btnAdd"+t).off(cc.Node.EventType.TOUCH_START,this.onTouchBuildingStart,this),this.node.getChildByName("btnAdd"+t).off(cc.Node.EventType.TOUCH_END,this.onTouchBuildingEnd,this),this.node.getChildByName("btnAdd"+t).off(cc.Node.EventType.TOUCH_MOVE,this.onTouchBuildingMove,this),this.node.getChildByName("btnAdd"+t).off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchBuildingCancel,this);this.nodeFrame.getChildByName("close").off(cc.Node.EventType.TOUCH_START,this.onTouchPaneClose,this),this.nodeFrame.getChildByName("btn").off(cc.Node.EventType.TOUCH_START,this.onTouchPaneUpgrade,this),this.node.destroy()},update:function(e){0==this.intStatus&&(this.intStatus=1,clientEvent.dispatchEvent("updateRedPoint")),this.runTime-this.runTimeLast>=RUN_DT&&(this.runTime-this.pressTime>=.3&&this.pressItemId>=0&&this.createMoveSprite(),this.runTimeLast=this.runTime),this.runTime+=e}}),cc._RF.pop()},{panel:"panel"}],nodeMenu1Pane:[function(e,t){"use strict";var n;cc._RF.push(t,"06d3eiK70pE45afFfm1gMwf","nodeMenu1Pane");var i=e("panel");cc.Class(((n={extends:i,runTimeLast:0,runTime:0,intStatus:0,itemId:0,objItem:0,objArm:0,objArmType:0,objNext:0}).intStatus=0,n.callback=null,n.properties={nodeFrame:cc.Node,labelProgress:cc.Label,progress:cc.ProgressBar,nodeSkillList:cc.Node,nodeRedPoint:cc.Node,labelHp:cc.RichText,labelHp2:cc.RichText,labelAtk:cc.RichText,labelAtk2:cc.RichText,labelSpeed:cc.RichText,labelSpeed2:cc.RichText,nodeHp:cc.Node,nodeAtk:cc.Node,nodeSpeed:cc.Node,nodeHp2:cc.Node,nodeAtk2:cc.Node,nodeSpeed2:cc.Node,nodeSpine:cc.Node},n.onLoad=function(){this.runTime=0,this.runTimeLast=0,this.intStatus=0,this.callback=null,this.itemId=0,this.setBtnEnable(!0),showWxGridVertical(constants.switchWechat.switchGrid1,constants.switchWechat.switchGrid1)},n.init=function(e){if(this.nodeRedPoint.getComponent("nodeRedPoint").redPointName=constants.redPoint.buduiArm+e,this.intStatus=0,this.itemId=e,this.item=user.getItem(e),this.objItem=jsonTables.getJsonTableObj("item",this.itemId),this.objArm=getItemArm(this.itemId),null!=this.objArm){this.objArmType=jsonTables.getJsonTableObj("armType",this.objArm.type);var t=this;0==t.nodeSkillList.childrenCount&&resMgr.loadRes("packageMenu",["prefab/preSkillItem"],cc.Prefab,function(e){zzpout("\u6280\u80fd:"+JSON.stringify(t.objArmType));for(var n=changeSkillToArray(t.objArmType),i=0;i<4;i++){var o=cc.instantiate(globalAssets[e]);o.parent=t.nodeSkillList;var a=-1;i<n.length&&isIntNum(n[i])&&n[i]>0&&(a=n[i]),o.getComponent("nodeSkillItem").init(t.objArm.Tid,a)}for(var s=0;s<4;s++){var r=-1;s<n.length&&isIntNum(n[s])&&n[s]>0&&(r=n[s]),t.nodeSkillList.children[s].getComponent("nodeSkillItem").updateSize(t.objArm.Tid,r)}}),this.objNext=this.getNext(this.objArm),clientEvent.dispatchEvent("updateMenuArmItemInfo",this.objItem.Tid,this.objNext.level),clientEvent.dispatchEvent("updateRedPoint")}else zzpout("\u627e\u4e0d\u5230arm ItemId:"+JSON.stringify(this.itemId))},n.setBtnEnable=function(e){this.nodeFrame.getChildByName("close").off(cc.Node.EventType.TOUCH_START,this.onTouchPaneClose,this),this.nodeFrame.getChildByName("btnLeft").off(cc.Node.EventType.TOUCH_START,this.onTouchPaneLeft,this),this.nodeFrame.getChildByName("btnRight").off(cc.Node.EventType.TOUCH_START,this.onTouchPaneRight,this),e&&(this.nodeFrame.getChildByName("close").on(cc.Node.EventType.TOUCH_START,this.onTouchPaneClose,this),this.nodeFrame.getChildByName("btnLeft").on(cc.Node.EventType.TOUCH_START,this.onTouchPaneLeft,this),this.nodeFrame.getChildByName("btnRight").on(cc.Node.EventType.TOUCH_START,this.onTouchPaneRight,this))},n.getNext=function(e){for(var t=jsonTables.getJsonTable("arm"),n=0;n<t.length;n++)if(t[n].type==e.type&&t[n].quality==e.quality&&t[n].level==e.level+1)return t[n];return this.objNext},n.updatePaneData=function(){if(this.node){this.objArmType=jsonTables.getJsonTableObj("armType",this.objArm.type),this.nodeFrame.getChildByName("type").acitve=this.objArm.type!=constants.npcType.GongBing,this.nodeFrame.getChildByName("title").getComponent("nodeLoadSprite").loadSprite("packageMenu","imgMenuArm/arm"+this.objArm.type),this.nodeFrame.getChildByName("icon").getComponent("nodeLoadSprite").loadSprite("packageMenu",(1==this.objArm.type?"img/dunbing":2==this.objArm.type?"img/bubing":3==this.objArm.type?"img/gongbing":"img/qibing")+this.objArm.quality),this.nodeFrame.getChildByName("level").getComponent(cc.Label).string="LV "+this.objArm.level,this.labelHp.string="<b><color=#FFFFFF>\u751f\u547d  "+this.objArm.hp+"</c></b>",this.labelHp2.string="<b><color=#00FF00>"+(this.objNext&&this.objNext.hp-this.objArm.hp!=0?" + "+(this.objNext.hp-this.objArm.hp):"")+"</color></b>",this.labelAtk.string="<b><color=#FFFFFF>\u653b\u51fb  "+this.objArm.attack+"</c></b>",this.labelAtk2.string="<b><color=#00FF00>"+(this.objNext&&this.objNext.attack-this.objArm.attack!=0?" + "+(this.objNext.attack-this.objArm.attack):"")+"</color></b>",this.labelSpeed.string="<b><color=#FFFFFF>\u653b\u901f  "+this.objArm.atkSpeed+"</c></b>",this.labelSpeed2.string="<b><color=#00FF00>"+(this.objNext&&this.objNext.atkSpeed-this.objArm.atkSpeed!=0?" + "+(this.objNext.atkSpeed-this.objArm.atkSpeed):"")+"</color></b>",this.nodeFrame.getChildByName("des").getComponent(cc.Label).string=this.objItem.des,this.nodeFrame.getChildByName("btnRight").getChildByName("Background").getChildByName("Label").getComponent(cc.RichText).string=this.objNext?"<b><outline color=black width=2><color=#ffffff>\u5347\u7ea7<img src='ui_yb' />"+this.objNext.upgrade+"</color></outline><b>":"<b><outline color=black width=2><color=#ffffff>\u5df2\u6ee1\u7ea7</color></outline><b>";var e=this.item?this.item.num:0;this.labelProgress.string=e+"/"+this.objArm.exp,this.progress.totalLength=1,this.progress.progress=Math.min(1,e/this.objArm.exp);for(var t=changeSkillToArray(this.objArmType),n=0;n<this.nodeSkillList.childrenCount;n++){var i=-1;n<t.length&&isIntNum(t[n])&&t[n]>0&&(i=t[n]),this.nodeSkillList.children[n].getComponent("nodeSkillItem").updateSize(this.objArm.Tid,i)}}},n.setCallback=function(e){this.callback=e},n.setCloseCallback=function(e){this.callbackClose=e},n.onTouchPaneLeft=function(e){e&&e.stopPropagation(),this.callback&&this.callback(),this.setBtnEnable(!1);var t=this;cc.tween(this.node).to(.2,{scale:0},{easing:"backIn"}).call(function(){t.node.active=!1}).start(),clientEvent.dispatchEvent("updateRedPoint")},n.onTouchPaneRight=function(e){if(e&&e.stopPropagation(),playSound(constants.sound.upgrade),null!=this.objNext){var t=this;if(user.getYin()<this.objArm.upgrade||user.getItem(this.objItem.Tid).num<this.objArm.exp){var n=jsonTables.getJsonTableObj("ad",constants.ad.BuDuiUpgrade);showAd("packageMenu",(1==this.objArm.type?"img/dunbing":2==this.objArm.type?"img/bubing":3==this.objArm.type?"img/gongbing":"img/qibing")+3,n.btn,n.des,function(){t.objNext&&(sendCustomEvent(constants.event.arm.upgradeAd),user.addItemArm(parseInt(t.objItem.Tid),t.objNext.level,0),t.playUpgrade(),clientEvent.dispatchEvent("updateMenuArmItemInfo",t.objItem.Tid,t.objNext.level),clientEvent.dispatchEvent("updateRedPoint"))},null)}else t.objNext&&(user.addYin(-t.objArm.upgrade),user.addItemArm(parseInt(t.objItem.Tid),t.objNext.level,-t.objArm.exp),t.playUpgrade(),clientEvent.dispatchEvent("updateMenuArmItemInfo",t.objItem.Tid,t.objNext.level),clientEvent.dispatchEvent("updateRedPoint"))}},n.playUpgrade=function(){var e=this;if(null!=this.objArm)if(null!=this.objNext){1==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=10?sendCustomEvent(constants.event.arm.upgradeArmType0Quality1Lv1):1==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=20?sendCustomEvent(constants.event.arm.upgradeArmType0Quality1Lv2):1==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=30?sendCustomEvent(constants.event.arm.upgradeArmType0Quality1Lv3):1==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=40?sendCustomEvent(constants.event.arm.upgradeArmType0Quality1Lv4):1==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=50?sendCustomEvent(constants.event.arm.upgradeArmType0Quality1Lv5):1==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=10?sendCustomEvent(constants.event.arm.upgradeArmType0Quality2Lv1):1==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=20?sendCustomEvent(constants.event.arm.upgradeArmType0Quality2Lv2):1==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=30?sendCustomEvent(constants.event.arm.upgradeArmType0Quality2Lv3):1==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=40?sendCustomEvent(constants.event.arm.upgradeArmType0Quality2Lv4):1==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=50?sendCustomEvent(constants.event.arm.upgradeArmType0Quality2Lv5):1==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=10?sendCustomEvent(constants.event.arm.upgradeArmType0Quality3Lv1):1==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=20?sendCustomEvent(constants.event.arm.upgradeArmType0Quality3Lv2):1==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=30?sendCustomEvent(constants.event.arm.upgradeArmType0Quality3Lv3):1==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=40?sendCustomEvent(constants.event.arm.upgradeArmType0Quality3Lv4):1==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=50?sendCustomEvent(constants.event.arm.upgradeArmType0Quality3Lv5):2==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=10?sendCustomEvent(constants.event.arm.upgradeArmType1Quality1Lv1):2==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=20?sendCustomEvent(constants.event.arm.upgradeArmType1Quality1Lv2):2==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=30?sendCustomEvent(constants.event.arm.upgradeArmType1Quality1Lv3):2==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=40?sendCustomEvent(constants.event.arm.upgradeArmType1Quality1Lv4):2==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=50?sendCustomEvent(constants.event.arm.upgradeArmType1Quality1Lv5):2==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=10?sendCustomEvent(constants.event.arm.upgradeArmType1Quality2Lv1):2==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=20?sendCustomEvent(constants.event.arm.upgradeArmType1Quality2Lv2):2==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=30?sendCustomEvent(constants.event.arm.upgradeArmType1Quality2Lv3):2==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=40?sendCustomEvent(constants.event.arm.upgradeArmType1Quality2Lv4):2==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=50?sendCustomEvent(constants.event.arm.upgradeArmType1Quality2Lv5):2==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=10?sendCustomEvent(constants.event.arm.upgradeArmType1Quality3Lv1):2==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=20?sendCustomEvent(constants.event.arm.upgradeArmType1Quality3Lv2):2==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=30?sendCustomEvent(constants.event.arm.upgradeArmType1Quality3Lv3):2==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=40?sendCustomEvent(constants.event.arm.upgradeArmType1Quality3Lv4):2==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=50?sendCustomEvent(constants.event.arm.upgradeArmType1Quality3Lv5):3==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=10?sendCustomEvent(constants.event.arm.upgradeArmType2Quality1Lv1):3==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=20?sendCustomEvent(constants.event.arm.upgradeArmType2Quality1Lv2):3==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=30?sendCustomEvent(constants.event.arm.upgradeArmType2Quality1Lv3):3==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=40?sendCustomEvent(constants.event.arm.upgradeArmType2Quality1Lv4):3==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=50?sendCustomEvent(constants.event.arm.upgradeArmType2Quality1Lv5):3==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=10?sendCustomEvent(constants.event.arm.upgradeArmType2Quality2Lv1):3==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=20?sendCustomEvent(constants.event.arm.upgradeArmType2Quality2Lv2):3==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=30?sendCustomEvent(constants.event.arm.upgradeArmType2Quality2Lv3):3==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=40?sendCustomEvent(constants.event.arm.upgradeArmType2Quality2Lv4):3==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=50?sendCustomEvent(constants.event.arm.upgradeArmType2Quality2Lv5):3==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=10?sendCustomEvent(constants.event.arm.upgradeArmType2Quality3Lv1):3==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=20?sendCustomEvent(constants.event.arm.upgradeArmType2Quality3Lv2):3==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=30?sendCustomEvent(constants.event.arm.upgradeArmType2Quality3Lv3):3==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=40?sendCustomEvent(constants.event.arm.upgradeArmType2Quality3Lv4):3==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=50?sendCustomEvent(constants.event.arm.upgradeArmType2Quality3Lv5):4==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=10?sendCustomEvent(constants.event.arm.upgradeArmType3Quality1Lv1):4==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=20?sendCustomEvent(constants.event.arm.upgradeArmType3Quality1Lv2):4==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=30?sendCustomEvent(constants.event.arm.upgradeArmType3Quality1Lv3):4==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=40?sendCustomEvent(constants.event.arm.upgradeArmType3Quality1Lv4):4==this.objArm.type&&1==this.objArm.quality&&this.objArm.level<=50?sendCustomEvent(constants.event.arm.upgradeArmType3Quality1Lv5):4==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=10?sendCustomEvent(constants.event.arm.upgradeArmType3Quality2Lv1):4==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=20?sendCustomEvent(constants.event.arm.upgradeArmType3Quality2Lv2):4==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=30?sendCustomEvent(constants.event.arm.upgradeArmType3Quality2Lv3):4==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=40?sendCustomEvent(constants.event.arm.upgradeArmType3Quality2Lv4):4==this.objArm.type&&2==this.objArm.quality&&this.objArm.level<=50?sendCustomEvent(constants.event.arm.upgradeArmType3Quality2Lv5):4==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=10?sendCustomEvent(constants.event.arm.upgradeArmType3Quality3Lv1):4==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=20?sendCustomEvent(constants.event.arm.upgradeArmType3Quality3Lv2):4==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=30?sendCustomEvent(constants.event.arm.upgradeArmType3Quality3Lv3):4==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=40?sendCustomEvent(constants.event.arm.upgradeArmType3Quality3Lv4):4==this.objArm.type&&3==this.objArm.quality&&this.objArm.level<=50&&sendCustomEvent(constants.event.arm.upgradeArmType3Quality3Lv5);var t=[e.objArm.hp,e.objArm.attack,e.objArm.atkSpeed],n=[e.objNext.hp,e.objNext.attack,e.objNext.atkSpeed];e.objArm=e.objNext,e.objNext=e.getNext(e.objNext);var i=[e.objNext.hp,e.objNext.attack,e.objNext.atkSpeed];zzpout("nextData:"+i+",nextData2:"+i),n[0]-t[0]>0&&e.startEffect(e.nodeHp,e.nodeHp2,e.labelHp,e.labelHp2,t[0],n[0],i[0],"\u751f\u547d"),n[1]-t[1]>0&&e.startEffect(e.nodeAtk,e.nodeAtk2,e.labelAtk,e.labelAtk2,t[1],n[1],i[1],"\u653b\u51fb"),n[2]-t[2]>0&&e.startEffect(e.nodeSpeed,e.nodeSpeed2,e.labelSpeed,e.labelSpeed2,t[2],n[2],i[2],"\u653b\u901f"),e.nodeSpine.getComponent(sp.Skeleton).enabled=!0,e.nodeSpine.getComponent(sp.Skeleton).setAnimation(0,"ani1",!1),e.scheduleOnce(function(){e.updatePaneData()},1.1)}else zzpout("\u627e\u4e0d\u5230arm objNext:"+JSON.stringify(this.objNext));else zzpout("\u627e\u4e0d\u5230arm ItemId:"+JSON.stringify(this.itemId))},n.startEffect=function(e,t,n,i,o,a,s,r){new cc.Color(e.color),new cc.Color(t.color),this.tween1&&this.tween1.stop(),this.tween2&&this.tween2.stop();var c=a-o;this.tween1=cc.tween({a:0}).to(1,{a:100},{progress:function(t,i,a,s){n&&(n.string="<b><color=#FFFFFF>"+r+"  "+(o+Math.floor(c*s))+"</c></b>");var d=null;if(s<.25){var l=parseInt(255-340*s);d=new cc.Color(l,l,l)}else if(s<.5){var h=parseInt(170+340*(s-.25));d=new cc.Color(h,h,h)}else if(s<.75){var u=parseInt(255-340*(s-.5));d=new cc.Color(u,u,u)}else{var p=parseInt(170+340*(s-.75));d=new cc.Color(p,p,p)}e&&(e.color=d)}}),this.tween1.start(),this.tween2=cc.tween({a:0}).to(1,{a:100},{progress:function(e,n,o,a){i&&(i.string="<b><color=#00FF00>"+(c>0?" + ":"")+Math.floor(c*(1-a))+"</c></b>");var s=null;if(a<.25){var r=parseInt(255-1020*a);s=new cc.Color(r,255,r)}else if(a<.5){var d=parseInt(0+1020*(a-.25));s=new cc.Color(d,255,d)}else if(a<.75){var l=parseInt(255-1020*(a-.5));s=new cc.Color(l,255,l)}else{var h=parseInt(0+1020*(a-.75));s=new cc.Color(h,255,h)}t&&(t.color=s)}}).delay(.1).call(function(){i&&(i.string="<b><color=#00FF00>"+(s-a>0?" + ":"")+(s-a)+"</c></b>")}),this.tween2.start()},n.onTouchPaneClose=function(e){e&&e.stopPropagation(),this.setBtnEnable(!1),this.node.active=!1},n.onDisable=function(){hideWxGrid(constants.switchWechat.switchGrid1),hideWxGrid(constants.switchWechat.switchGrid1+1),this.tween1&&this.tween1.stop(),this.tween2&&this.tween2.stop(),this.callbackClose&&this.callbackClose(),this.node.destroy()},n.update=function(e){0==this.intStatus&&(this.intStatus=1,this.updatePaneData()),this.runTime-this.runTimeLast>=RUN_DT&&(this.runTimeLast=this.runTime),this.runTime+=e},n)),cc._RF.pop()},{panel:"panel"}],nodeMenu1:[function(e,t){"use strict";cc._RF.push(t,"65b05QqV15GpLCavb9su6uj","nodeMenu1");var n=e("panel");cc.Class({extends:n,page:0,runTimeLast:0,runTime:0,intStatus:0,intSort:0,showArmId:0,pressItemId:0,opMoved:!1,arr:null,pressTime:0,properties:{nodeBg:cc.Node,nodeContent:cc.Node,btnSort9:cc.Node,nodeSortPane:cc.Node,nodeDrag:cc.Node},onLoad:function(){this.page=1,this.pressTime=0,this.runTime=0,this.runTimeLast=0,this.intStatus=0,this.opMoved=!1,this.intSort=0,this.pressItemId=0,this.showArmId=0,this.arr=[],this.arrSortStr=["\u7a00\u6709\u5ea6","\u7a00\u6709\u5ea6","\u7b49\u7ea7","\u7b49\u7ea7"],clientEvent.on("updateMenuArmItemInfo",this.onUpdateCell.bind(this),"nodeMenu1_onUpdateCell"),this.checkPage(),clientEvent.dispatchEvent("updateRedPoint")},checkPage:function(){this.node.parent.parent.getComponent("nodeMenu").intSubPage!=this.page&&(this.node.active=!1)},setBtnEnable:function(e){this.btnSort9.off(cc.Node.EventType.TOUCH_START,this.onTouchSort,this),this.nodeSortPane.getChildByName("btnSort0").off(cc.Node.EventType.TOUCH_START,this.onTouchSort,this),this.nodeSortPane.getChildByName("btnSort1").off(cc.Node.EventType.TOUCH_START,this.onTouchSort,this),this.nodeSortPane.getChildByName("btnSort2").off(cc.Node.EventType.TOUCH_START,this.onTouchSort,this),this.nodeSortPane.getChildByName("btnSort3").off(cc.Node.EventType.TOUCH_START,this.onTouchSort,this);for(var t=0;t<4;t++)this.nodeBg.getChildByName("npc"+t).off(cc.Node.EventType.TOUCH_START,this.onTouchSpineStart,this);for(var n=this.arr.length,i=0;i<n;i++)this.nodeContent.getChildByName(""+this.arr[i].id).off(cc.Node.EventType.TOUCH_START,this.onTouchCardStart,this),this.nodeContent.getChildByName(""+this.arr[i].id).off(cc.Node.EventType.TOUCH_MOVE,this.onTouchCardMove,this),this.nodeContent.getChildByName(""+this.arr[i].id).off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCardCancel,this),this.nodeContent.getChildByName(""+this.arr[i].id).off(cc.Node.EventType.TOUCH_END,this.onTouchCardEnd,this);if(e){this.btnSort9.on(cc.Node.EventType.TOUCH_START,this.onTouchSort,this),this.nodeSortPane.getChildByName("btnSort0").on(cc.Node.EventType.TOUCH_START,this.onTouchSort,this),this.nodeSortPane.getChildByName("btnSort1").on(cc.Node.EventType.TOUCH_START,this.onTouchSort,this),this.nodeSortPane.getChildByName("btnSort2").on(cc.Node.EventType.TOUCH_START,this.onTouchSort,this),this.nodeSortPane.getChildByName("btnSort3").on(cc.Node.EventType.TOUCH_START,this.onTouchSort,this);for(var o=0;o<4;o++)this.nodeBg.getChildByName("npc"+o).on(cc.Node.EventType.TOUCH_START,this.onTouchSpineStart,this);var a=this.arr.length;zzpout("\u6240\u6709\u7684\u5361\u7247:"+a);for(var s=0;s<a;s++)this.nodeContent.getChildByName(""+this.arr[s].id).on(cc.Node.EventType.TOUCH_END,this.onTouchCardEnd,this),this.arr[s].get>=0&&(this.nodeContent.getChildByName(""+this.arr[s].id).on(cc.Node.EventType.TOUCH_START,this.onTouchCardStart,this),this.nodeContent.getChildByName(""+this.arr[s].id).on(cc.Node.EventType.TOUCH_MOVE,this.onTouchCardMove,this),this.nodeContent.getChildByName(""+this.arr[s].id).on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCardCancel,this),this.nodeContent.getChildByName(""+this.arr[s].id).on(cc.Node.EventType.TOUCH_END,this.onTouchCardEnd,this))}},showArm:function(){var e=this;resMgr.loadRes("packageMenu",["prefab/preMenuArmSpine"],cc.Prefab,function(t){if(e.nodeBg)for(var n=0;n<user.getBattleArmList().length;n++){var i=cc.instantiate(globalAssets[t]);i.parent=e.nodeBg.getChildByName("npc"+n),i.getComponent("nodeMenuArmSpine").init(n,user.getBattleArm(n))}})},showPane:function(e){var t=this,n=getItemArm(e);null!=n?(this.showArmId=n.Tid,resMgr.loadRes("packageMenu",["prefab/preMenu1Pane"],cc.Prefab,function(i){var o=cc.instantiate(globalAssets[i]);o.parent=t.node,o.getComponent("nodeMenu1Pane").init(e),o.getComponent("nodeMenu1Pane").setCallback(function(){for(var i=!1,o=0;t.nodeBg&&o<user.getBattleArmList().length;o++)if(user.getBattleArm(o)<=0){i=!0,user.setBattleArm(o,e),zzperr("\u4f4d\u7f6e\u4e3a\u7a7a:"+o),t.nodeBg.getChildByName("npc"+o).children[0].getComponent("nodeMenuArmSpine").init(o,user.getBattleArm(o)),1==n.type&&2==n.quality?sendCustomEvent(constants.event.arm.upArmType0Quality2):1==n.type&&3==n.quality?sendCustomEvent(constants.event.arm.upArmType0Quality3):2==n.type&&2==n.quality?sendCustomEvent(constants.event.arm.upArmType1Quality2):2==n.type&&3==n.quality?sendCustomEvent(constants.event.arm.upArmType1Quality3):3==n.type&&2==n.quality?sendCustomEvent(constants.event.arm.upArmType2Quality2):3==n.type&&3==n.quality?sendCustomEvent(constants.event.arm.upArmType2Quality3):4==n.type&&1==n.quality?sendCustomEvent(constants.event.arm.upArmType3Quality1):4==n.type&&2==n.quality?sendCustomEvent(constants.event.arm.upArmType3Quality2):4==n.type&&3==n.quality&&sendCustomEvent(constants.event.arm.upArmType3Quality3);break}i||clientEvent.dispatchEvent("showMsg","\u9635\u5bb9\u5df2\u6ee1\uff0c\u8bf7\u624b\u52a8\u66f4\u6362")}),o.getComponent("nodeMenu1Pane").setCloseCallback(function(){t.setBtnEnable(!0)})})):zzpout("\u627e\u4e0d\u5230arm ItemId:"+JSON.stringify(e))},showCardList:function(){var e=this;resMgr.loadRes("packageMenu",["prefab/preMenuArmCell"],cc.Prefab,function(t){if(e&&e.node&&e.arr){for(var n=jsonTables.getJsonTableArrObj("item","type",constants.item.arm),i=n.length,o=0;o<i;o++){var a=user.getItem(n[o].Tid),s=0;a&&0==a.lv&&a.num>0?s=1:a&&(1==a.lv&&a.num>0||a.lv>1)&&(s=2),e.arr.push({id:n[o].Tid,quality:n[o].quality,level:a?a.lv:1,num:a?a.num:0,get:s})}e.sortList(),i=e.arr.length;for(var r=0;r<i;r++)e.createCard(e.arr[r],globalAssets[t]);e.setBtnEnable(!0)}})},onUpdateCell:function(e,t){if(null!=this.arr)for(var n=this.arr.length,i=0;i<n;i++)if(this.arr[i].id==e){this.arr[i].level=t;break}},createCard:function(e,t){var n=cc.instantiate(t);n.name=""+e.id,n.parent=this.nodeContent,n.getComponent("nodeMenuArmCell").init(e.id),1==e.get&&this.shakeCard(n)},shakeCard:function(e,t){void 0===t&&(t=!0),e.stopAllActions(),e.angle=0,t&&cc.tween(e).delay(2*Math.random()+1).by(.05,{angle:10}).by(.1,{angle:-20}).by(.1,{angle:20}).by(.1,{angle:-20}).by(.1,{angle:20}).by(.1,{angle:-20}).by(.05,{angle:10}).union().repeatForever().start()},onTouchCardStart:function(e){e&&e.stopPropagation();var t=this,n=parseInt(e.target.name),i=user.getItem(n),o=0;if(i&&0==i.lv&&i.num>0?o=1:i&&(1==i.lv&&i.num>0||i.lv>1)&&(o=2),0==o){var a=getItemArm(n);if(null==a)return void clientEvent.dispatchEvent("jumpToMenu",4);var s=jsonTables.getJsonTableObj("ad",constants.ad.ShangDianArm);showAd("packageMenu",(1==a.type?"img/dunbing":2==a.type?"img/bubing":3==a.type?"img/gongbing":"img/qibing")+a.quality,s.btn,s.des,function(){user.addItem(i.id,1),clientEvent.dispatchEvent("updateMenuArmItemInfo",n,1),clientEvent.dispatchEvent("updateRedPoint"),sendCustomEvent(constants.event.arm.getArmAd),t.shakeCard(e.target)},null)}else if(1==o){var r=getItemArm(n);1==r.type&&2==r.quality?sendCustomEvent(constants.event.arm.unlockArmType0Quality2):1==r.type&&3==r.quality?sendCustomEvent(constants.event.arm.unlockArmType0Quality3):2==r.type&&2==r.quality?sendCustomEvent(constants.event.arm.unlockArmType1Quality2):2==r.type&&3==r.quality?sendCustomEvent(constants.event.arm.unlockArmType1Quality3):3==r.type&&2==r.quality?sendCustomEvent(constants.event.arm.unlockArmType2Quality2):3==r.type&&3==r.quality?sendCustomEvent(constants.event.arm.unlockArmType2Quality3):4==r.type&&1==r.quality?sendCustomEvent(constants.event.arm.unlockArmType3Quality1):4==r.type&&2==r.quality?sendCustomEvent(constants.event.arm.unlockArmType3Quality2):4==r.type&&3==r.quality&&sendCustomEvent(constants.event.arm.unlockArmType3Quality3),this.shakeCard(e.target,!1),user.addItemArm(n,1,0),showUnlockItem(n),clientEvent.dispatchEvent("updateMenuArmItemInfo",n,1),clientEvent.dispatchEvent("updateRedPoint")}else{var c=this.nodeBg.convertToNodeSpaceAR(e.getLocation());this.opMoved=!1,this.nodeDrag.position=c.add(cc.v2(0,-50)),this.pressTime=this.runTime,this.pressItemId=parseInt(e.target.name)}},onTouchCardMove:function(e){if(zzpout("onTouchCardMove"),e&&e.stopPropagation(),!(this.runTime-this.pressTime<.3)){var t=this.nodeBg.convertToNodeSpaceAR(e.getLocation());this.nodeDrag.position=t.add(cc.v2(0,-50)),this.opMoved=!0}},createMoveSprite:function(){if(!(this.pressItemId<=0||this.nodeDrag.childrenCount>0)){var e=this.pressItemId,t=getItemArm(e);if(null!=t){var n=jsonTables.getJsonTableObj("armType",t.type),i=this;this.nodeDrag.destroyAllChildren(),resMgr.loadRes("packageBase",["prefab/preSpine"],cc.Prefab,function(e){var o=cc.instantiate(globalAssets[e]);o.scale=1,o.parent=i.nodeDrag,o&&resMgr.loadRes(n.picPackage,["spine/"+n.picPath+"_down/"+n.picPath+"_down"],sp.SkeletonData,function(e){o.getComponent(sp.Skeleton).skeletonData=globalAssets[e],o.getComponent(sp.Skeleton).setSkin(t.quality+"blue"),o.getComponent(sp.Skeleton).setAnimation(0,constants.npcAnimation.StandBy,!0)})})}else zzpout("\u627e\u4e0d\u5230arm ItemId:"+JSON.stringify(e))}},onTouchCardCancel:function(e){if(zzpout("onTouchCardCancel"),e&&e.stopPropagation(),this.opMoved=!1,!(this.runTime-this.pressTime<.3)){var t=cc.rect(this.nodeDrag.position.x,this.nodeDrag.position.y,20,20);this.pressItemId=-1,this.nodeDrag.destroyAllChildren();var n=parseInt(e.target.name),i=getItemArm(n);if(null!=i)for(var o=0;o<4;o++){var a=this.nodeBg.getChildByName("npc"+o).getBoundingBox();if(t.intersects(a)){1==i.type&&2==i.quality?sendCustomEvent(constants.event.arm.upArmType0Quality2):1==i.type&&3==i.quality?sendCustomEvent(constants.event.arm.upArmType0Quality3):2==i.type&&2==i.quality?sendCustomEvent(constants.event.arm.upArmType1Quality2):2==i.type&&3==i.quality?sendCustomEvent(constants.event.arm.upArmType1Quality3):3==i.type&&2==i.quality?sendCustomEvent(constants.event.arm.upArmType2Quality2):3==i.type&&3==i.quality?sendCustomEvent(constants.event.arm.upArmType2Quality3):4==i.type&&1==i.quality?sendCustomEvent(constants.event.arm.upArmType3Quality1):4==i.type&&2==i.quality?sendCustomEvent(constants.event.arm.upArmType3Quality2):4==i.type&&3==i.quality&&sendCustomEvent(constants.event.arm.upArmType3Quality3),user.setBattleArm(o,n),this.nodeBg.getChildByName("npc"+o).children[0].getComponent("nodeMenuArmSpine").init(o,user.getBattleArm(o)),clientEvent.dispatchEvent("updateRedPoint");break}}else zzpout("\u627e\u4e0d\u5230arm ItemId:"+JSON.stringify(n))}},onTouchCardEnd:function(e){if(zzpout("onTouchCardEnd"),e&&e.stopPropagation(),this.nodeDrag.destroyAllChildren(),this.opMoved=!1,this.pressItemId=-1,this.runTime-this.pressTime<.3){var t=parseInt(e.target.name),n=user.getItem(t),i=0;n&&0==n.lv&&n.num>0?i=1:n&&(1==n.lv&&n.num>0||n.lv>1)&&(i=2),0==i||1==i||this.showPane(t)}},onTouchSpineStart:function(e){e&&e.stopPropagation();var t=parseInt(e.target.name.substr(-1)),n=user.getBattleArm(t);n>0?this.showPane(n):clientEvent.dispatchEvent("showMsg","\u8fd8\u6709\u58eb\u5175\u53ef\u4ee5\u62d6\u66f3\u4e0a\u9635")},sortList:function(){0==this.intSort?(this.arr.sort(this.compare("level",1)),this.arr.sort(this.compare("quality",1)),this.arr.sort(this.compare("num",1)),this.arr.sort(this.compare("get",1))):1==this.intSort?(this.arr.sort(this.compare("level",0)),this.arr.sort(this.compare("quality",0)),this.arr.sort(this.compare("num",1)),this.arr.sort(this.compare("get",1))):2==this.intSort?(this.arr.sort(this.compare("quality",1)),this.arr.sort(this.compare("level",1)),this.arr.sort(this.compare("num",1)),this.arr.sort(this.compare("get",1))):3==this.intSort&&(this.arr.sort(this.compare("quality",0)),this.arr.sort(this.compare("level",0)),this.arr.sort(this.compare("num",1)),this.arr.sort(this.compare("get",1)))},refreshList:function(){for(var e=this.arr.length,t=0;t<e;t++)this.nodeContent.getChildByName(this.arr[t].id+"").zIndex=t},compare:function(e,t){return function(n,i){var o=n[e],a=i[e];return isNaN(Number(o))||isNaN(Number(a))||(o=Number(o),a=Number(a)),o<a?0==t?-1:1:o>a?0==t?1:-1:0}},onTouchSort:function(e){e&&e.stopPropagation();var t=e.target.name.substr(-1);9!=t||this.nodeSortPane.active?(this.nodeSortPane.active=!1,9!=t&&(this.intSort=t,this.sortList(),this.refreshList(),this.btnSort9.getChildByName("text").getComponent(cc.Label).string=this.arrSortStr[t],this.btnSort9.getChildByName("arrow").scaleY=t%2==0?1:-1)):this.nodeSortPane.active=!0},resetSortStr:function(){this.nodeSortPane.getChildByName("btnSort0").getChildByName("text").getComponent(cc.Label).string=arrSortStr[0],this.nodeSortPane.getChildByName("btnSort0").getChildByName("arrow").scaleY=1,this.nodeSortPane.getChildByName("btnSort1").getChildByName("text").getComponent(cc.Label).string=arrSortStr[1],this.nodeSortPane.getChildByName("btnSort1").getChildByName("arrow").scaleY=-1,this.nodeSortPane.getChildByName("btnSort2").getChildByName("text").getComponent(cc.Label).string=arrSortStr[2],this.nodeSortPane.getChildByName("btnSort2").getChildByName("arrow").scaleY=1,this.nodeSortPane.getChildByName("btnSort3").getChildByName("text").getComponent(cc.Label).string=arrSortStr[3],this.nodeSortPane.getChildByName("btnSort3").getChildByName("arrow").scaleY=-1},onDisable:function(){this.setBtnEnable(!1),this.nodeContent.destroyAllChildren(),this.node.destroy()},update:function(e){this.runTime-this.runTimeLast>=RUN_DT&&(0==this.intStatus?(this.intStatus=1,this.showArm(),this.showCardList(),clientEvent.dispatchEvent("updateRedPoint")):1==this.intStatus?this.intStatus=2:this.runTime-this.pressTime>=.3&&this.pressItemId>0&&this.createMoveSprite(),this.runTimeLast=this.runTime),this.runTime+=e}}),cc._RF.pop()},{panel:"panel"}],nodeMenu2:[function(e,t){"use strict";cc._RF.push(t,"61c24fkNAlKHrkcgd/UvgMG","nodeMenu2");var n=function(e){return e&&e.__esModule?e:{default:e}}(e("../component/tyq/tyq-view-mgr")),i=e("../component/tyq/tyq-sdk"),o=e("panel");cc.Class({extends:o,page:0,runTimeLast:0,runTime:0,intStatus:0,properties:{},onLoad:function(){var e=this;this.page=2,this.intStatus=0,this.runTime=0,this.runTimeLast=0,this.adShow=!1,this.setBtnEnable(!0);var t=Math.max(1,user.getBattle()-2),n=t+5,i=this.node.getChildByName("dot"),o=0,a=["img/ui_gqxz","img/ui_gqtx","img/ui_gqmb","img/ui_s","img/ui_gqk1"];resMgr.loadRes("packageMenu",a,cc.SpriteFrame,function(){if(++o>=a.length)for(var s=t,r=0;s<n;s++,r++){var c=jsonTables.getJsonTableObj("battle",s),d=i.getChildByName("pane"+r);c?user.getBattle()==s?(e.node.getChildByName("img").getChildByName("title").getChildByName("text").getComponent(cc.Label).string=c.name,d.getChildByName("text").getComponent(cc.Label).string=c.Tid,d.getComponent(cc.Sprite).spriteFrame=globalAssets["packageMenu/img/ui_gqxz"],d.getChildByName("img").getComponent(cc.Sprite).spriteFrame=globalAssets["packageMenu/img/ui_gqtx"]):user.getBattle()<s?(d.getChildByName("text").getComponent(cc.Label).string="",d.getComponent(cc.Sprite).spriteFrame=globalAssets["packageMenu/img/ui_gqmb"],d.getChildByName("img").getComponent(cc.Sprite).spriteFrame=globalAssets["packageMenu/img/ui_s"]):(d.getChildByName("text").getComponent(cc.Label).string=c.Tid,d.getChildByName("img").getComponent(cc.Sprite).spriteFrame=null,d.getComponent(cc.Sprite).spriteFrame=globalAssets["packageMenu/img/ui_gqk1"]):(d.getComponent(cc.Sprite).spriteFrame=globalAssets["packageMenu/img/ui_gqmb"],d.getChildByName("img").getComponent(cc.Sprite).spriteFrame=null,d.getChildByName("text").getComponent(cc.Label).string="")}}),this.checkPage(),1==user.getFirstInGame()&&(user.setFirstInGame(0),user.setTeach(100,constants.teachEventValue.complete),this.onTouchFight(null)),this.showWxAd()},initAd:function(){(tyqAd||platform==PLATFORM_DEFAULT)&&(tyqAd&&TyqSdk.setReqAwardFun(function(){showReward(constants.switch.switchTyqReward3)}),n.default&&(TyqSdk.getSwitchValue(constants.switch.switchTyqGridAd)&&n.default.showDartAd(i.EDartsType.grid,this.node,cc.v2(this.node.getChildByName("btnChou").x,this.node.getChildByName("btnChou").y-120)),13==user.getBattle()&&(zzperr("show tyq"),n.default.showDartAd(i.EDartsType.infoFlow,uiManager.getRoot().parent.getChildByName("uiAni"),cc.v2(0,0)))))},checkPage:function(){this.node.parent.parent.getComponent("nodeMenu").intSubPage!=this.page&&(this.node.active=!1)},showWxAd:function(){showWxGridHorizontal(constants.switchWechat.switchGrid2_1,constants.switchWechat.switchGrid2_1,140),showWxGridSingle(constants.switchWechat.switchGrid2_2,constants.switchWechat.switchGrid2_2),isFirstShowMenu2||showWxRandomAd(),isFirstShowMenu2=!1},hideWxAd:function(){hideWxGrid(constants.switchWechat.switchGrid2_1),hideWxGrid(constants.switchWechat.switchGrid2_2),hideWxGrid(constants.switchWechat.switchGrid2_2+1),hideWxGrid(constants.switchWechat.switchRandomAd)},onDisable:function(){this.hideWxAd(),this.setBtnEnable(!1),this.node.destroy()},setBtnEnable:function(e){this.node&&(this.node.getChildByName("btnFight")&&this.node.getChildByName("btnFight").off(cc.Node.EventType.TOUCH_START,this.onTouchFight,this),this.node.getChildByName("btnSetting")&&this.node.getChildByName("btnSetting").off(cc.Node.EventType.TOUCH_START,this.onTouchSetting,this),this.node.getChildByName("btnQian")&&this.node.getChildByName("btnQian").off(cc.Node.EventType.TOUCH_START,this.onTouchQian,this),this.node.getChildByName("btnChou")&&this.node.getChildByName("btnChou").off(cc.Node.EventType.TOUCH_START,this.onTouchChou,this),clientEvent.off("jumpToMenu",this.onJumpToMenu.bind(this),"nodeMenu2_onJumpOnMenu"),e&&(this.node.getChildByName("btnFight").on(cc.Node.EventType.TOUCH_START,this.onTouchFight,this),this.node.getChildByName("btnSetting").on(cc.Node.EventType.TOUCH_START,this.onTouchSetting,this),this.node.getChildByName("btnQian").on(cc.Node.EventType.TOUCH_START,this.onTouchQian,this),this.node.getChildByName("btnChou").on(cc.Node.EventType.TOUCH_START,this.onTouchChou,this),clientEvent.on("jumpToMenu",this.onJumpToMenu.bind(this),"nodeMenu2_onJumpOnMenu")))},onJumpToMenu:function(e){2==e&&(this.adShow||(this.adShow=!0,this.showWxAd()))},onTouchFight:function(e,t){this.setBtnEnable(!1),sendCustomEvent(constants.event.load.clickFight);var n=this,i=null;if(e&&(i=e.target),e&&e.stopPropagation(),e&&graySprite(!0,e.target.getComponent(cc.Button).target.getComponent(cc.Sprite)),isLoadPackage0)n.startFight(i,t);else{showLoading(!0);var o=0,a=0;a+=constants.arr0Ani.length,a+=constants.arr0Spine.length,a+=constants.arr0Prefab.length,a+=constants.arr0Png.length,cc.assetManager.loadBundle("packageBase",null,function(){cc.assetManager.loadBundle("package0",null,function(){resMgr.loadRes("package0",constants.arr0Ani,cc.AnimationClip,function(){++o>=a&&n.startFight(i,t)}),resMgr.loadRes("package0",constants.arr0Spine,sp.SkeletonData,function(){++o>=a&&n.startFight(i,t)}),resMgr.loadRes("package0",constants.arr0Prefab,cc.Prefab,function(){++o>=a&&n.startFight(i,t)}),resMgr.loadRes("package0",constants.arr0Png,cc.SpriteFrame,function(){++o>=a&&n.startFight(i,t)})})})}},startFight:function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),intGameStatus=1,isLoadPackage0=!0,showLoading(!1),stopSound(constants.sound.bg);var n=uiManager.getRoot();n.destroyAllChildren();var i=cc.instantiate(globalAssets["package0/prefab/preScene"]);i.name="nodeScene",i.parent=n,t&&i.getComponent("nodeScene").setDaren(t),e&&graySprite(!1,e.getComponent(cc.Button).target.getComponent(cc.Sprite)),"undefined"!=typeof tt&&null!=tt&&tt.triggerGC&&tt.triggerGC()},onTouchSetting:function(e){this.hideWxAd(),this.setBtnEnable(!1),e&&e.stopPropagation();var t=this;sendCustomEvent(constants.event.load.clickSetting),DAREN?resMgr.loadRes("packageMenu",["prefab/preDaren"],cc.Prefab,function(e){var n=uiManager.getRoot().parent.getChildByName("uiCover"),i=cc.instantiate(globalAssets[e]);i.getComponent("nodeDaren").setCallback(function(e){t.onTouchFight(null,e),t.setBtnEnable(!0)},function(){t.setBtnEnable(!0)}),i.parent=n}):resMgr.loadRes("packageMenu",["prefab/preSetting"],cc.Prefab,function(e){var n=uiManager.getRoot().parent.getChildByName("uiCover"),i=cc.instantiate(globalAssets[e]);i.getComponent("nodeSetting").setCallback(function(){t.setBtnEnable(!0)}),i.parent=n})},onTouchQian:function(e){this.hideWxAd(),this.setBtnEnable(!1),e&&e.stopPropagation();var t=this;resMgr.loadRes("packageMenu",["prefab/preQian"],cc.Prefab,function(e){var n=uiManager.getRoot().parent.getChildByName("uiCover"),i=cc.instantiate(globalAssets[e]);i.getComponent("nodeQian").setCallback(function(){t.setBtnEnable(!0)}),i.parent=n})},onTouchChou:function(e){this.hideWxAd(),this.setBtnEnable(!1),e&&e.stopPropagation();var t=this;resMgr.loadRes("packageMenu",["prefab/preChou"],cc.Prefab,function(e){var n=uiManager.getRoot().parent.getChildByName("uiCover"),i=cc.instantiate(globalAssets[e]);i.getComponent("nodeChou").setCallback(function(){t.setBtnEnable(!0)}),i.parent=n})},update:function(e){this.runTime-this.runTimeLast>=RUN_DT&&(this.runTimeLast=this.runTime),0==this.intStatus&&(this.initAd(),this.intStatus=1),this.runTime+=e}}),cc._RF.pop()},{"../component/tyq/tyq-sdk":"tyq-sdk","../component/tyq/tyq-view-mgr":"tyq-view-mgr",panel:"panel"}],nodeMenu3:[function(e,t){"use strict";cc._RF.push(t,"4730bODtltP5rGn/IqjFlnX","nodeMenu3");var n=e("panel");cc.Class({extends:n,page:0,runTimeLast:0,runTime:0,intStatus:0,properties:{nodeUpgrade:cc.Node,text0:cc.Label,text1:cc.Label,text2:cc.Label,text3:cc.Label,text4:cc.Label,labelUpgrade:cc.RichText,nodeContent:cc.Node,nodeRedPoint:cc.Node,nodePigBgEffect:cc.Node},onLoad:function(){this.page=3,this.runTime=0,this.runTimeLast=0,this.intStatus=0,this.nodeRedPoint.getComponent("nodeRedPoint").redPointName=constants.redPoint.bingshuPig,this.checkPage()},checkPage:function(){this.node.parent.parent.getComponent("nodeMenu").intSubPage!=this.page&&(this.node.active=!1)},setBtnEnable:function(e){zzpout("setBtnEnable:"),e?this.nodeUpgrade.on(cc.Node.EventType.TOUCH_START,this.onTouchUpgrade,this):this.nodeUpgrade.off(cc.Node.EventType.TOUCH_START,this.onTouchUpgrade,this)},showSkill:function(){var e=this;resMgr.loadRes("packageMenu",["prefab/preMenuBingCell"],cc.Prefab,function(t){for(var n=jsonTables.getJsonTable("jiceType"),i=0;i<n.length;i++){var o=cc.instantiate(globalAssets[t]);o.parent=e.nodeContent,o.getComponent("nodeMenuBingCell").init(n[i])}})},onTouchUpgrade:function(e){e&&e.stopPropagation();var t=jsonTables.getJsonTableObj("pig",user.getPigLevel()),n=jsonTables.getJsonTableObj("pig",user.getPigLevel()+1);if(t&&n)if(1==t.ad)user.getAdsFree()>0?(user.addAdsFree(-1),this.callback(),clientEvent.dispatchEvent("updateRedPoint")):wxMoudle.playVideoAd(this.callbackAd.bind(this),-1);else if(user.getYu()>=t.price)user.addYu(-t.price),this.callback(),clientEvent.dispatchEvent("updateRedPoint");else{var i=this,o=jsonTables.getJsonTableObj("ad",constants.ad.BingShuPig);showAd(o.iconPackage,o.iconPath,o.btn,o.des,function(){i.callback(),clientEvent.dispatchEvent("updateRedPoint")},null)}},callbackAd:function(e){e!=constants.VideoState.SKIP&&e!=constants.VideoState.PLAY_END||(sendCustomEvent(constants.event.bing.upgradePigAd),this.callback(),clientEvent.dispatchEvent("updateRedPoint"))},callback:function(){sendCustomEvent(constants.event.bing.upgradePig),playSound(constants.sound.bonus);var e=jsonTables.getJsonTableObj("spine",constants.spine.light1);showSpine(this.nodePigBgEffect,cc.v2(0,0),e,null,null,function(e){e.stopAllActions()},function(e){e.stopAllActions(),cc.tween(e).to(1.6,{angle:360}).to(.4,{opacity:0}).repeatForever().start()}),user.addPigLevel(1),sendCustomEvent(constants.event.bing["upgradePig"+user.getPigLevel()]),this.updatePig(),jsonTables.getJsonTableObj("pig",user.getPigLevel())||(this.labelUpgrade.string="<b><outline color=black width=2><color=#ffffff>\u5df2\u6ee1\u7ea7</color></outline><b></b>",this.setBtnEnable(!1)),clientEvent.dispatchEvent("updateRedPoint")},updatePig:function(){this.text0.string="\u5f53\u524d\u7b49\u7ea7\uff1a"+user.getPigLevel();var e=jsonTables.getJsonTableObj("pig",user.getPigLevel()),t=jsonTables.getJsonTableObj("pig",user.getPigLevel()+1);this.text1.string="\u6bcf\u9694"+e.time+"\u79d2\uff0c\u732e\u7b56\u4e00\u6b21",t?(this.text2.node.active=!0,this.text3.node.active=!0,this.text2.string="\u4e0b\u4e00\u7b49\u7ea7\uff1a"+(user.getPigLevel()+1),this.text3.string="\u6bcf\u9694"+t.time+"\u79d2\uff0c\u732e\u7b56\u4e00\u6b21",1==e.ad?(this.nodeUpgrade.getChildByName("Background").getChildByName("text").active=!1,this.nodeUpgrade.getChildByName("Background").getChildByName("ad").active=!0):(this.nodeUpgrade.getChildByName("Background").getChildByName("text").active=!0,this.nodeUpgrade.getChildByName("Background").getChildByName("ad").active=!1,this.labelUpgrade.string="<b><outline color=black width=2><color=#ffffff>\u5347\u7ea7<img src='ui_by' />x"+e.price+"</color></outline><b>")):(this.text2.node.active=!1,this.text3.node.active=!1,this.nodeUpgrade.getChildByName("Background").getChildByName("text").active=!0,this.nodeUpgrade.getChildByName("Background").getChildByName("ad").active=!1,this.text4.node.active=!1,this.labelUpgrade.string="<b><outline color=black width=2><color=#ffffff>\u5df2\u6ee1\u7ea7</color></outline><b></b>")},onDisable:function(){this.setBtnEnable(!1),this.nodeContent.destroyAllChildren(),this.node.destroy()},update:function(e){0==this.intStatus&&(this.intStatus=1,this.updatePig(),this.showSkill(),this.setBtnEnable(!0),clientEvent.dispatchEvent("updateRedPoint")),this.runTime-this.runTimeLast>=RUN_DT&&(this.runTimeLast=this.runTime),this.runTime+=e}}),cc._RF.pop()},{panel:"panel"}],nodeMenu4:[function(e,t){"use strict";cc._RF.push(t,"d6c5fwZnvtJHLkpPdsOy02I","nodeMenu4"),function(e){e&&e.__esModule}(e("../component/tyq/tyq-view-mgr")),e("../component/tyq/tyq-sdk");var n=e("panel");cc.Class({extends:n,page:0,runTimeLast:0,runTime:0,status:0,properties:{labelShop0DesLeft:cc.Label,labelShop0DesRight:cc.Label,nodeShop0BtnLeft:cc.Node,nodeShop0BtnRight:cc.Node,nodeShop1Des:cc.Label,nodeShop1Container:cc.Node,nodeShop1BtnRefresh:cc.Node,nodeShop1BtnRefreshText:cc.RichText,nodeShop2:cc.Node,scrollView:cc.ScrollView},onLoad:function(){this.page=4,this.status=0,this.runTime=0,this.runTimeLast=0},init:function(){var e=this;this.labelShop0DesLeft.string=jsonTables.getJsonTableObj("shop0",1).des,this.labelShop0DesRight.string=jsonTables.getJsonTableObj("shop0",2).des,this.nodeShop0BtnLeft.on(cc.Node.EventType.TOUCH_START,this.onTouchShop0Left,this),this.nodeShop0BtnRight.on(cc.Node.EventType.TOUCH_START,this.onTouchShop0Right,this),this.nodeShop1Des.string="",this.nodeShop1BtnRefreshText.string="<b><outline color=black width=2><color=#ffffff>\u5237\u65b0<img src='ui_yb' />x"+getShop1RefreshCost()+"</color></outline><b>",this.nodeShop1BtnRefresh.on(cc.Node.EventType.TOUCH_START,this.onTouchShop1Refresh,this),resMgr.loadRes("packageMenu",["prefab/preShop1Item"],cc.Prefab,function(t){for(var n=0;n<4;n++){var i=cc.instantiate(globalAssets[t]);i.name="btn"+n,i.parent=e.nodeShop1Container,i.on(cc.Node.EventType.TOUCH_START,e.buyShop1,e)}e.showShop1()}),resMgr.loadRes("packageMenu",["prefab/preShop2Item"],cc.Prefab,function(t){for(var n=0;n<4;n++){var i=cc.instantiate(globalAssets[t]);i.parent=e.nodeShop2;var o=jsonTables.getJsonTableObj("shop2",3*(n+1));i.getComponent("nodeShop2Item").init(n+1,o.percent),i.getChildByName("line").active=3!=n}}),this.checkPage()},checkPage:function(){this.node.parent.parent.getComponent("nodeMenu").intSubPage!=this.page&&(this.node.active=!1)},onTouchShop0Left:function(e){e&&e.stopPropagation(),user.getAdsFree()>0?(user.addAdsFree(-1),this.callShop0Left()):wxMoudle.playVideoAd(this.callbackAdShop0Left.bind(this),-1)},callbackAdShop0Left:function(e){zzperr("state:"+e),e!=constants.VideoState.SKIP&&e!=constants.VideoState.PLAY_END||(this.callShop0Left(),clientEvent.dispatchEvent("updateRedPoint"))},callShop0Left:function(){zzperr("callShop0Left"),zzperr(jsonTables.getJsonTableObj("shop0",1)),zzperr("addYu:"+parseInt(jsonTables.getJsonTableObj("shop0",1).num)),user.addYu(parseInt(jsonTables.getJsonTableObj("shop0",1).num),this.nodeShop0BtnLeft.convertToWorldSpaceAR(cc.v2(0,0))),clientEvent.dispatchEvent("updateRedPoint")},onTouchShop0Right:function(e){e&&e.stopPropagation(),user.getAdsFree()>0?(user.addAdsFree(-1),this.callShop0Right()):wxMoudle.playVideoAd(this.callbackAdShop0Right.bind(this),-1)},callbackAdShop0Right:function(e){e!=constants.VideoState.SKIP&&e!=constants.VideoState.PLAY_END||(sendCustomEvent(constants.event.shop.adYin),this.callShop0Right())},callShop0Right:function(){user.addYin(parseInt(jsonTables.getJsonTableObj("shop0",2).num),this.nodeShop0BtnRight.convertToWorldSpaceAR(cc.v2(0,0))),clientEvent.dispatchEvent("updateRedPoint")},onTouchShop1Refresh:function(e){e&&e.stopPropagation();var t=getShop1RefreshCost();if(user.getYin()>=t)user.addYin(-t),this.refreshShop1();else{var n=jsonTables.getJsonTableObj("ad",constants.ad.ShangDianRefresh),i=this;showAd(n.iconPackage,n.iconPath,n.btn,n.des,function(){sendCustomEvent(constants.event.shop.adRefreshShop1),i.refreshShop1()},null)}},showShop1:function(){for(var e=0;user.getShop1List()&&e<user.getShop1List().length;e++){var t=this.nodeShop1Container.children[e].getChildByName("content"),n=user.getShop1(e);if(n<=0)t.active=!1;else{t.active=!0;var i=jsonTables.getJsonTableObj("shop1",n);if(null!=i){var o=jsonTables.getJsonTableObj("item",i.item);if(t.getChildByName("bg0").active=!0,o.type==constants.item.arm)t.getChildByName("jice").active=!1,t.getChildByName("bg").active=!0,t.getChildByName("icon").active=!0,t.getChildByName("top").active=!0,t.getChildByName("bg").getComponent("nodeLoadSprite").loadSprite("packageMenu","imgMenuShop/pinzhi"+o.quality),t.getChildByName("icon").getComponent("nodeLoadSprite").loadSprite("packageMenu",(1==o.armType?"img/dunbing":2==o.armType?"img/bubing":3==o.armType?"img/gongbing":"img/qibing")+o.quality),t.getChildByName("top").getChildByName("topName").getComponent("nodeLoadSprite").loadSprite("packageMenu","imgMenuShop/name"+o.armType),t.getChildByName("top").getChildByName("topIcon").getComponent("nodeLoadSprite").loadSprite("packageMenu","imgMenuShop/tubiao"+o.armType);else if(o.type==constants.item.jice){var a=jsonTables.getJsonTableObj("jiceType",o.jiceType);t.getChildByName("icon").getComponent("nodeLoadSprite").loadSprite(a.picPackage,a.picPath),t.getChildByName("jice").active=!0,t.getChildByName("bg").active=!1,t.getChildByName("icon").active=!0,t.getChildByName("top").active=!1}1==i.way?(t.getChildByName("ad").active=!0,t.getChildByName("yu").active=!1):2==i.way&&(t.getChildByName("ad").active=!1,t.getChildByName("yu").active=!0,t.getChildByName("yu").getChildByName("text").getComponent(cc.Label).string=i.price),t.getChildByName("preRedPoint").getComponent("nodeRedPoint").redPointName=constants.redPoint.shangdianArm+n,zzpout("\u7ea2\u70b9:"+(constants.redPoint.shangdianArm+n))}}}},refreshShop1:function(){var e=jsonTables.getJsonTable("shop1"),t=e.length;user.clearShop1();for(var n=0,i=0;i<4;i++)for(var o=1e4*Math.random(),a=0;a<t&&n<4;a++){if(o<e[a].percent||a==t-1){user.setShop1(n,e[a].Tid),n++;break}o-=e[a].percent}this.showShop1(),clientEvent.dispatchEvent("updateRedPoint")},buyShop1:function(e){e&&e.stopPropagation();var t=parseInt(e.target.name.substr(-1)),n=user.getShop1(t);if(!(n<=0)){var i=jsonTables.getJsonTableObj("shop1",n);if(null!=i){var o=jsonTables.getJsonTableObj("item",i.item),a=user.getItem(i.item);zzperr("i:"+t),zzperr("shopItemId:"+JSON.stringify(n)),zzperr("obj:"+JSON.stringify(i)),zzperr("objItem:"+JSON.stringify(o)),zzperr("item:"+JSON.stringify(a));var s=this;if(2==i.way){if(user.getYu()>=i.price)user.addYu(-i.price),user.addItem(a.id,1),this.nodeShop1Container.getChildByName("btn"+t).getChildByName("content").active=!1,user.setShop1(t,-1),showUnlockItem(a.id),showInfomationAdCenter(constants.switch.switchInfomationAd);else{var r=jsonTables.getJsonTableObj("ad",constants.ad.BuyShop1);showAd(r.iconPackage,r.iconPath,r.btn,r.des,function(){sendCustomEvent(constants.event.shop.buyShop1Ad),user.addItem(a.id,1),s.nodeShop1Container.getChildByName("btn"+t).getChildByName("content").active=!1,user.setShop1(t,-1),showUnlockItem(a.id)},null)}clientEvent.dispatchEvent("updateRedPoint")}else wxMoudle.playVideoAd(function(e){e!=constants.VideoState.SKIP&&e!=constants.VideoState.PLAY_END||(sendCustomEvent(constants.event.shop.buyShop1Ad),user.addItem(a.id,1),s.nodeShop1Container.getChildByName("btn"+t).getChildByName("content").active=!1,user.setShop1(t,-1),showUnlockItem(a.id),clientEvent.dispatchEvent("updateRedPoint"))},-1)}}},onDisable:function(){if(SdkMgr.hideBanner(),this.status=3,this.node){this.nodeShop0BtnLeft.off(cc.Node.EventType.TOUCH_START,this.onTouchShop0Left,this),this.nodeShop0BtnRight.off(cc.Node.EventType.TOUCH_START,this.onTouchShop0Right,this),this.nodeShop1BtnRefresh.off(cc.Node.EventType.TOUCH_START,this.onTouchShop1Refresh,this);for(var e=0;e<this.nodeShop1Container.childrenCount;e++)this.nodeShop1Container.children[e].off(cc.Node.EventType.TOUCH_START,this.buyShop1,this);this.nodeShop1Container.destroyAllChildren();for(var t=0;t<4;t++)this.nodeShop1Container.children[t].off(cc.Node.EventType.TOUCH_START,this.buyShop1,this);this.nodeShop2.destroyAllChildren(),this.node.destroy()}},update:function(e){if(!(this.status>2)){if(0===this.status)this.init(),this.status=1,clientEvent.dispatchEvent("updateRedPoint");else if(1===this.status){var t=(new Date).getTime();t-user.getShop1Time()>=72e5&&this.nodeShop1Container.childrenCount>=4&&(this.refreshShop1(),user.setShop1Time(t),user.setShop1RefreshCount(0)),this.nodeShop1Des.string="\u4e0b\u6b21\u5237\u65b0\uff1a"+formatTime(Math.max(0,7200-Math.floor((t-user.getShop1Time())/1e3)))}this.runTime-this.runTimeLast>=RUN_DT&&(this.runTimeLast=this.runTime),this.runTime+=e}}}),cc._RF.pop()},{"../component/tyq/tyq-sdk":"tyq-sdk","../component/tyq/tyq-view-mgr":"tyq-view-mgr",panel:"panel"}],nodeMenuArmCell:[function(e,t){"use strict";cc._RF.push(t,"55862kkIqRCupV69i/WdvlN","nodeMenuArmCell");var n=e("panel");cc.Class({extends:n,runTimeLast:0,runTime:0,itemId:0,intStatus:0,properties:{sprQuality:cc.Sprite,sprIcon:cc.Sprite,nodeLock:cc.Node,nodeUnlock:cc.Node,progress:cc.ProgressBar,labelText:cc.Label,nodeRedPoint:cc.Node,nodeQuanlity:cc.Node,nodeType:cc.Node},onLoad:function(){this.runTime=0,this.runTimeLast=0,this.intStatus=0,clientEvent.on("updateMenuArmItemInfo",this.onUpdateInfo.bind(this),"nodeMenuArmCell_onUpdateInfo")},init:function(e){this.intStatus=0,this.itemId=e,this.nodeRedPoint&&(this.nodeRedPoint.getComponent("nodeRedPoint").redPointName=constants.redPoint.buduiArm+e)},updateUI:function(){var e=this;this.objItem=jsonTables.getJsonTableObj("item",this.itemId);var t=user.getItem(this.objItem.Tid);if(zzpout("updateUI:"+JSON.stringify(t)),this.objArm=getItemArm(this.itemId),null!=this.objArm){this.nodeQuanlity.getComponent("nodeLoadSprite").loadSprite("packageMenu","imgMenuShop/quanlity"+this.objArm.quality),this.nodeType.getComponent("nodeLoadSprite").loadSprite("packageMenu","imgMenuShop/tubiao"+this.objArm.type),resMgr.loadRes("packageMenu",["imgMenuShop/pinzhi"+this.objArm.quality],cc.SpriteFrame,function(t){e.sprQuality&&(e.sprQuality.spriteFrame=globalAssets[t])}),resMgr.loadRes("packageMenu",[(1==this.objArm.type?"img/dunbing":2==this.objArm.type?"img/bubing":3==this.objArm.type?"img/gongbing":"img/qibing")+this.objArm.quality],cc.SpriteFrame,function(t){e.sprIcon&&(e.sprIcon.spriteFrame=globalAssets[t])});var n=t?t.num:0;0==n&&t.lv<=1?(this.nodeLock.active=!0,this.nodeUnlock.active=!1,this.node.color=(new cc.Color).fromHEX("#33000000")):n>0&&0==t.lv?(this.nodeLock.active=!1,this.nodeUnlock.active=!0,this.node.color=(new cc.Color).fromHEX("#33000000"),this.labelText.string=t.num+"/"+this.objArm.exp,this.progress.totalLength=1,this.progress.progress=Math.min(1,t.num/+this.objArm.exp)):(this.nodeLock.active=!1,this.nodeUnlock.active=!1,this.node.color=(new cc.Color).fromHEX("#FFFFFF"),this.labelText.string=t.num+"/"+this.objArm.exp,this.progress.totalLength=1,this.progress.progress=Math.min(1,t.num/+this.objArm.exp))}else zzpout("updateUI:objArm==null")},onUpdateInfo:function(e){zzpout("onUpdateInfo:"+e),zzpout("this.itemId:"+this.itemId),this.itemId===e&&this.init(e)},onTouchCardCancel:function(e){e&&e.stopPropagation(),this.node.active=!1},onDisable:function(){this.node.destroy()},update:function(e){0==this.intStatus&&(this.intStatus=1,this.updateUI()),this.runTime-this.runTimeLast>=RUN_DT&&(this.runTimeLast=this.runTime),this.runTime+=e}}),cc._RF.pop()},{panel:"panel"}],nodeMenuArmSpine:[function(e,t){"use strict";cc._RF.push(t,"73771X/dvJPaYU3IRX9xjXj","nodeMenuArmSpine");var n=e("panel");cc.Class({extends:n,runTimeLast:0,runTime:0,objArm:null,index:0,itemId:0,intStatus:0,properties:{nodeAdd:cc.Node,nodeNpc:cc.Node,nodeSpine:cc.Node,nodeRedPoint:cc.Node,labelLv:cc.Label,labelPrice:cc.Label},onLoad:function(){this.runTime=0,this.runTimeLast=0,this.intStatus=0,clientEvent.on("updateMenuArmItemInfo",this.onUpdateInfo.bind(this),"nodeMenuArmSpine_onUpdateInfo")},init:function(e,t){console.error("index,id:"+e+","+t),this.index=e,this.nodeRedPoint&&(this.nodeRedPoint.getComponent(cc.Sprite).enabled=!1,this.nodeRedPoint.getComponent("nodeRedPoint").redPointName=constants.redPoint.buduiSpine+e,this.itemId=t,this.intStatus=0,this.objArm=getItemArm(t),null==this.objArm)&&zzpout("\u627e\u4e0d\u5230arm ItemId:"+JSON.stringify(t))},updateUI:function(){var e=this;null==this.objArm?(this.nodeAdd.active=!0,this.nodeNpc.active=!1):(this.nodeAdd.active=!1,this.nodeNpc.active=!0,this.objArmType=jsonTables.getJsonTableObj("armType",this.objArm.type),this.nodeSpine.scale=this.objArmType.scale/3,e.comSp=e.nodeSpine.getComponent(sp.Skeleton),e.comSp.timeScale=1,zzpout("updateUI:"+JSON.stringify(this.objArmType)),resMgr.loadRes(this.objArmType.picPackage,["spine/"+this.objArmType.picPath+"_down/"+this.objArmType.picPath+"_down"],sp.SkeletonData,function(t){e.comSp&&(e.comSp.skeletonData=globalAssets[t],e.comSp.setSkin(e.objArm.quality+"blue"),e.comSp.setAnimation(0,constants.npcAnimation.StandBy,!0))}),e.labelLv.string="Lv "+e.objArm.level,e.labelPrice.string=e.objArm.upgrade)},onUpdateInfo:function(e){this.index>=0&&this.index<4&&this.itemId===e&&this.init(this.index,e)},onTouch:function(e){e&&e.stopPropagation()},onDisable:function(){this.node.destroy()},update:function(e){this.runTime-this.runTimeLast>=RUN_DT&&(0==this.intStatus&&(this.intStatus=1,this.updateUI()),this.runTimeLast=this.runTime),this.runTime+=e}}),cc._RF.pop()},{panel:"panel"}],nodeMenuBingCell:[function(e,t){"use strict";cc._RF.push(t,"66c43N3ItJOQp5hCuRknoPW","nodeMenuBingCell");var n=e("panel");cc.Class({extends:n,objType:null,objDetail:null,objNext:null,intStatus:0,properties:{nodeIcon:cc.Node,nodeBtn:cc.Node,labelTitle:cc.Label,label0:cc.Label,label1:cc.Label,label2:cc.Label,label3:cc.Label,labelTip:cc.Label,textBtn:cc.RichText,labelProgress:cc.Label,nodeProgress:cc.Node,nodeRedPoint:cc.Node},onLoad:function(){},init:function(e){this.intStatus=0,this.objType=e,this.nodeRedPoint.getComponent("nodeRedPoint").redPointName=constants.redPoint.bingshuJice+e.Tid},updateUI:function(){var e=this,t=jsonTables.getJsonTableArrObj("jiceDetail","jiceType",this.objType.Tid),n=t.length;this.objDetail=null,this.objNext=null;for(var i=0;i<n;i++)t[i].level==user.getPigSkill(this.objType.Tid-1)&&(this.objDetail=t[i]),t[i].level==user.getPigSkill(this.objType.Tid-1)+1&&(this.objNext=t[i]);if(null!=this.objDetail){resMgr.loadRes(this.objType.picPackage,[this.objType.picPath],cc.SpriteFrame,function(t){e.nodeIcon&&(e.nodeIcon.getComponent(cc.Sprite).spriteFrame=globalAssets[t])}),this.textBtn.string="<b><outline color=black width=2><color=#ffffff>\u5347\u7ea7<img src='ui_by' height=30 />x"+this.objDetail.price+"</color></outline><b>",this.labelTitle.string=this.objType.name,this.label0.string="\u5f53\u524d\u7b49\u7ea7\uff1a"+user.getPigSkill(this.objType.Tid-1),this.label1.string=replace(this.objType.des,"N",this.objDetail.num),this.objNext?(this.label2.node.active=!0,this.label3.node.active=!0,this.label2.string="\u4e0b\u4e00\u7b49\u7ea7\uff1a"+this.objNext.level,this.label3.string=replace(this.objType.des,"N",this.objNext.num)):(this.label2.node.active=!1,this.label3.node.active=!1,this.textBtn.string="<b><outline color=black width=2><color=#ffffff>\u5df2 \u6ee1 \u7ea7</color></outline><b>",this.nodeBtn.off(cc.Node.EventType.TOUCH_START,this.onTouch,this));var o=user.getItemByJiceType(this.objType.Tid);this.labelProgress.string=o.num+"/5",this.nodeProgress.getComponent(cc.ProgressBar).totalLength=1,this.nodeProgress.getComponent(cc.ProgressBar).progress=Math.min(1,o.num/5),user.getYu()>=this.objDetail.price&&o.num>=5?(this.labelTip.string="\u70b9\u51fb\u5347\u7ea7",this.labelTip.node.color=(new cc.Color).fromHEX("#29e644")):(this.labelTip.string="\u6750\u6599\u4e0d\u8db3",this.labelTip.node.color=(new cc.Color).fromHEX("#f3563c"))}},onTouch:function(e){var t=this;e&&e.stopPropagation();var n=user.getItemByJiceType(this.objType.Tid);if(user.getYu()<this.objDetail.price||n.num<5){var i=jsonTables.getJsonTableObj("ad",constants.ad.BingShuJice);t=this,showAd(i.iconPackage,i.iconPath,i.btn,i.des,function(){sendCustomEvent(constants.event.bing.upgradeJiceAd),sendCustomEvent(constants.event.bing["upgradeJice"+t.objType.Tid]);var e=t.objDetail.jiceType-1;user.setPigSkill(e,user.getPigSkill(e)+1),sendCustomEvent(constants.event.bing["upgradeJice"+t.objType.Tid+"Lv"+user.getPigSkill(e)]),t.init(t.objType)},null)}else{sendCustomEvent(constants.event.bing["upgradeJice"+t.objType.Tid]),user.addYu(-this.objDetail.price),user.addItem(n.id,-5);var o=this.objDetail.jiceType-1;user.setPigSkill(o,user.getPigSkill(o)+1),sendCustomEvent(constants.event.bing["upgradeJice"+t.objType.Tid+"Lv"+user.getPigSkill(o)]),this.init(this.objType)}},onDisable:function(){this.nodeBtn.off(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.node.destroy()},update:function(){0==this.intStatus&&(this.intStatus=1,this.nodeBtn.on(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.updateUI())}}),cc._RF.pop()},{panel:"panel"}],nodeMenuGet3Item:[function(e,t){"use strict";cc._RF.push(t,"c8c8bjIYjhKUbvUYiu3vGMm","nodeMenuGet3Item");var n=e("panel");cc.Class({extends:n,type:0,quality:0,intStatus:0,properties:{nodeBg:cc.Node,nodeBg2:cc.Node,nodeIcon:cc.Node,nodeTopIcon:cc.Node,nodeTopName:cc.Node,nodeRed:cc.Node},onLoad:function(){this.intStatus=0},init:function(e,t,n){void 0===n&&(n=null);var i=this;this.type=e,this.quality=t,this.nodeBg.active=!1,this.nodeBg2.active=!1,this.nodeIcon.active=!1,this.nodeTopIcon.parent.active=!1,this.nodeRed.active=!1;var o=jsonTables.getJsonTableObj("spine",constants.spine.ChouKaBao0+t-1);zzpout(o),showSpine(this.node,cc.v2(0,0),o,null,null,function(){i.nodeBg.active=!0,i.nodeBg2.active=!0,i.nodeIcon.active=!0,i.nodeTopIcon.parent.active=!0,i.nodeRed.active=!0,resMgr.loadRes("packageMenu",["imgMenuShop/pinzhi"+t],cc.SpriteFrame,function(e){i.nodeBg2&&(i.nodeBg2.getComponent(cc.Sprite).spriteFrame=globalAssets[e])}),resMgr.loadRes("packageMenu",[(1==e?"img/dunbing":2==e?"img/bubing":3==e?"img/gongbing":"img/qibing")+t],cc.SpriteFrame,function(e){i.nodeIcon&&(i.nodeIcon.getComponent(cc.Sprite).spriteFrame=globalAssets[e])}),resMgr.loadRes("packageMenu",["imgMenuShop/tubiao"+e],cc.SpriteFrame,function(e){i.nodeTopIcon&&(i.nodeTopIcon.getComponent(cc.Sprite).spriteFrame=globalAssets[e])}),resMgr.loadRes("packageMenu",["imgMenuShop/name"+e],cc.SpriteFrame,function(e){i.nodeTopName&&(i.nodeTopName.getComponent(cc.Sprite).spriteFrame=globalAssets[e])}),i.nodeRed.active=t>=3,n&&n()})},willClose:function(){var e=this;cc.tween(this.node).to(.2,{scale:0},{easing:"backIn"}).call(function(){e.node.active=!1}).start()},onDisable:function(){this.node.destroy()}}),cc._RF.pop()},{panel:"panel"}],nodeMenuGet3:[function(e,t){"use strict";cc._RF.push(t,"d3120aQn9xF9LAgJn8u2h0/","nodeMenuGet3");var n=e("panel");cc.Class({extends:n,runTimeLast:0,runTime:0,type:0,times:0,properties:{nodeTop:cc.Node,nodeCenter:cc.Node,nodeBottom:cc.Node},onLoad:function(){this.runTime=0,this.runTimeLast=0,showByteBanner(this.node,constants.switch.switchShopBanner),showWxGridHorizontal(constants.switchWechat.switchGrid4,constants.switchWechat.switchGrid4,0)},init:function(e,t){var n=this;this.type=e,this.times=t,playSound(constants.sound.bonus),resMgr.loadRes("packageMenu",["prefab/preMenuGet3Item"],cc.Prefab,function(i){for(var o=0;o<3;o++){var a=cc.instantiate(globalAssets[i]),s=1e4*Math.random(),r=1,c=jsonTables.getJsonTableArrObj("shop2","type",e),d=c.length,l=[],h=null;t>0&&0==o&&(r=3);for(var u=0;u<d;u++)c[u].quality>=r&&l.push(c[u]);for(var p=l.length,g=0;g<p;g++){var f=l[g].percent;if(h=l[g],s<f)break;s-=f}2==o?a.getComponent("nodeMenuGet3Item").init(e,h.quality,function(){n.setBtnEnable(!0)}):a.getComponent("nodeMenuGet3Item").init(e,h.quality),a.parent=0==o?n.nodeTop:n.nodeBottom;for(var m=jsonTables.getJsonTableArrObj("item","type",constants.item.arm),v=m.length,b=0;b<v;b++)if(m[b].armType==e&&m[b].quality==h.quality){user.addItem(m[b].Tid,1);break}}})},clear:function(){this.nodeTop.destroyAllChildren(),this.nodeBottom.destroyAllChildren()},onTouchLeft:function(e){e.stopPropagation(),this.setBtnEnable(!1),user.getAdsFree()>0?(user.addAdsFree(-1),this.callback()):wxMoudle.playVideoAd(this.onTouchAdCallback.bind(this),-1)},onTouchRight:function(e){e.stopPropagation(),this.setBtnEnable(!1),this.node.active=!1},onTouchAdCallback:function(e){e==constants.VideoState.SKIP||e==constants.VideoState.PLAY_END?(1==this.type?sendCustomEvent(constants.event.shop.buyShop2Item0Twice):2==this.type?sendCustomEvent(constants.event.shop.buyShop2Item1Twice):3==this.type?sendCustomEvent(constants.event.shop.buyShop2Item2Twice):4==this.type&&sendCustomEvent(constants.event.shop.buyShop2Item3Twice),this.callback()):this.setBtnEnable(!0)},callback:function(){this.clear(),this.init(this.type,this.times+1)},setBtnEnable:function(e){this.node.getChildByName("btnDouble").off(cc.Node.EventType.TOUCH_START,this.onTouchLeft,this),this.node.getChildByName("btnClose").off(cc.Node.EventType.TOUCH_START,this.onTouchRight,this),e&&(this.node.getChildByName("btnDouble").on(cc.Node.EventType.TOUCH_START,this.onTouchLeft,this),this.node.getChildByName("btnClose").on(cc.Node.EventType.TOUCH_START,this.onTouchRight,this))},onDisable:function(){hideWxGrid(constants.switchWechat.switchGrid4),SdkMgr.hideBanner(),this.setBtnEnable(!1),this.node.destroy()},update:function(e){this.runTime-this.runTimeLast>=RUN_DT&&(this.runTimeLast=this.runTime),this.runTime+=e}}),cc._RF.pop()},{panel:"panel"}],nodeMenuGet:[function(e,t){"use strict";cc._RF.push(t,"45f17+IrFBBbbBCgnkGF8fF","nodeMenuGet");var n=e("panel");cc.Class({extends:n,runTimeLast:0,runTime:0,callLeft:null,callRight:null,poolCellNpc:null,poolCellObj:null,properties:{},onLoad:function(){this.runTime=0,this.runTimeLast=0,this.poolCellNpc=new cc.NodePool,this.poolCellObj=new cc.NodePool,this.node.getChildByName("btnDouble").on(cc.Node.EventType.TOUCH_START,this.onTouchLeft,this),this.node.getChildByName("btnClose").on(cc.Node.EventType.TOUCH_START,this.onTouchRight,this),showByteBanner(this.node,constants.switch.switchShopBanner),showWechatBanner(this.node,constants.switchWechat.switchBanner)},init:function(e,t){var n=this;playSound(constants.sound.bonus);for(var i=function(i){var o=e[i];zzpout("objItem:"+JSON.stringify(o));var a=t[i];resMgr.loadRes("packageMenu",[1==e.length?"prefab/preMenuGetCellNpc":"prefab/preMenuGetCellObj"],cc.Prefab,function(t){var i=null;i=e.length>1?n.poolCellNpc.size()>0?n.poolCellObj.get():cc.instantiate(globalAssets[t]):n.poolCellNpc.size()>0?n.poolCellNpc.get():cc.instantiate(globalAssets[t]),e.length>1?n.node.getChildByName("bg0").childrenCount<5?i.parent=n.node.getChildByName("bg0"):i.parent=n.node.getChildByName("bg1"):i.parent=n.node.getChildByName("bgNpc"),i.getChildByName("icon").getComponent("nodeLoadSprite").loadSprite(o.picPackage,o.picPath),i.getChildByName("num").getComponent(cc.Label).string="x"+a})},o=0;o<e.length;o++)i(o)},setCallback:function(e,t){void 0===t&&(t=null),this.callLeft=e,this.callRight=t},onTouchLeft:function(e){e.stopPropagation(),this.setBtnEnable(!1),user.getAdsFree()>0?(this.callLeft&&this.callLeft(),user.addAdsFree(-1),this.willClose()):wxMoudle.playVideoAd(this.onTouchAdCallback.bind(this),-1)},onTouchRight:function(e){e.stopPropagation(),this.callRight&&this.callRight(),this.willClose()},onTouchAdCallback:function(e){e==constants.VideoState.SKIP||e==constants.VideoState.PLAY_END?(this.callLeft&&this.callLeft(),this.willClose()):this.setBtnEnable(!0)},setBtnEnable:function(e){this.node.getChildByName("btnDouble").off(cc.Node.EventType.TOUCH_START,this.onTouchLeft,this),this.node.getChildByName("btnClose").off(cc.Node.EventType.TOUCH_START,this.onTouchRight,this),e&&(this.node.getChildByName("btnDouble").on(cc.Node.EventType.TOUCH_START,this.onTouchLeft,this),this.node.getChildByName("btnClose").on(cc.Node.EventType.TOUCH_START,this.onTouchRight,this))},willClose:function(){SdkMgr.hideBanner();var e=this;cc.tween(this.node).to(.2,{scale:0},{easing:"backIn"}).call(function(){e.node.active=!1}).start()},onDisable:function(){this.node.getChildByName("bg0").destroyAllChildren(),this.node.getChildByName("bg1").destroyAllChildren(),this.node.getChildByName("bgNpc").destroyAllChildren(),this.node.destroy()},update:function(e){this.runTime-this.runTimeLast>=RUN_DT&&(this.runTimeLast=this.runTime),this.runTime+=e}}),cc._RF.pop()},{panel:"panel"}],nodeMenuUnlockArm:[function(e,t){"use strict";cc._RF.push(t,"6db637r7iFAHJKHoFo+yJPQ","nodeMenuUnlockArm");var n=e("panel");cc.Class({extends:n,runTimeLast:0,runTime:0,callback:null,properties:{nodeIcon:cc.Node,nodeSpine:cc.Node,labelMsg:cc.Label,btnClose:cc.Node,btnDouble:cc.Node,nodeBg:cc.Node},onLoad:function(){this.runTime=0,this.runTimeLast=0,this.callback=null,showByteBanner(this.node,constants.switch.switchShopBanner)},init:function(e,t,n){void 0===n&&(n=null);var i=this;if(playSound(constants.sound.bonus),this.callback=n,this.type=e,0==e?this.obj=jsonTables.getJsonTableObj("item",t):1==e?this.obj=jsonTables.getJsonTableObj("skill",t):2==e?this.obj=jsonTables.getJsonTableObj("guanzhi",t):3==e&&(this.obj=jsonTables.getJsonTableObj("jice",t)),0==e&&5==this.obj.type){if(this.objArm=getItemArm(t),null==this.objArm)return void zzpout("\u627e\u4e0d\u5230arm ItemId:"+JSON.stringify(t));this.objArmType=jsonTables.getJsonTableObj("armType",this.objArm.type),this.comSp=this.nodeSpine.getComponent(sp.Skeleton),this.comSp.timeScale=1,resMgr.loadRes(this.objArmType.picPackage,["spine/"+this.objArmType.picPath+"_down/"+this.objArmType.picPath+"_down"],sp.SkeletonData,function(e){i.comSp&&(i.comSp.skeletonData=globalAssets[e],i.comSp.setSkin(i.objArm.quality+"blue"),i.comSp.setAnimation(0,constants.npcAnimation.StandBy,!0))})}else this.nodeIcon.getComponent("nodeLoadSprite").loadSprite(this.obj.picPackage,this.obj.picPath);this.labelMsg.string=this.obj.des,this.setBtnEnable(!0)},onTouchDouble:function(e){e.stopPropagation(),this.setBtnEnable(!1),user.getAdsFree()>0?(this.callLeft&&this.callLeft(),user.addAdsFree(-1),this.setBtnEnable(!0),this.callDouble()):wxMoudle.playVideoAd(this.onTouchAdCallback.bind(this),-1)},onTouchAdCallback:function(e){e!=constants.VideoState.SKIP&&e!=constants.VideoState.PLAY_END||this.callDouble(),this.setBtnEnable(!0)},callDouble:function(){sendCustomEvent(constants.event.ad.extraReward),user.addYu(200),clientEvent.dispatchEvent("updateRedPoint"),this.willClose()},onTouchRight:function(e){e.stopPropagation(),this.willClose()},setBtnEnable:function(e){this.btnDouble.off(cc.Node.EventType.TOUCH_START,this.onTouchDouble,this),this.btnClose.off(cc.Node.EventType.TOUCH_START,this.onTouchRight,this),e&&(this.btnDouble.on(cc.Node.EventType.TOUCH_START,this.onTouchDouble,this),this.btnClose.on(cc.Node.EventType.TOUCH_START,this.onTouchRight,this))},willClose:function(){SdkMgr.hideBanner();var e=this;cc.tween(this.nodeBg).to(.2,{scale:0},{easing:"backIn"}).call(function(){e.callback&&e.callback(e),e.node.active=!1}).start(),cc.tween(this.node.getChildByName("cover")).to(.2,{opacity:0}).call(function(){}).start()},onDisable:function(){this.node.destroy()},update:function(e){this.runTime-this.runTimeLast>=RUN_DT&&(this.runTimeLast=this.runTime),this.runTime+=e}}),cc._RF.pop()},{panel:"panel"}],nodeMenu:[function(e,t){"use strict";cc._RF.push(t,"f134dTRXGxBfLmWOjzVw4hm","nodeMenu");var n=e("panel");cc.Class({extends:n,runTimeLast:0,runTime:0,intSubPage:0,intStatus:0,properties:{nodeSubBtn:cc.Node,nodeSubPagePane:cc.Node,nodeGuanzhi:cc.Node,spGuanzhiImg:cc.Sprite,progressGuanzhi:cc.ProgressBar,textGuanzhi:cc.Label,nodeYu:cc.Node,nodeYin:cc.Node,btn0:cc.Node,btn1:cc.Node,btn2:cc.Node,btn3:cc.Node,btn4:cc.Node},onLoad:function(){this.runTime=0,this.runTimeLast=0,this.intSubPage=0,this.intStatus=0,this.setBtnEnable(!0),stopSound(constants.sound.battleBg),playSound(constants.sound.bg),null==menuClickEffectPool&&(menuClickEffectPool=new cc.NodePool),uiManager.getRoot().parent.on(cc.Node.EventType.TOUCH_START,this.onTouchEffect,this)},setBtnEnable:function(e){this.nodeGuanzhi&&this.nodeGuanzhi.off(cc.Node.EventType.TOUCH_START,this.onTouchGuanzhi,this),e&&(this.nodeGuanzhi&&this.nodeGuanzhi.on(cc.Node.EventType.TOUCH_START,this.onTouchGuanzhi,this),clientEvent.on("jumpToMenu",this.onJumpToMenu.bind(this),"nodeMenu_onJumpOnMenu"))},onTouchEffect:function(e){var t=null;menuClickEffectPool.size()>0?t=menuClickEffectPool.get():(t=new cc.Node).addComponent(cc.Sprite);var n=t.getComponent(cc.Sprite);resMgr.loadRes("packageMenu",["img/ui_dj"],cc.SpriteFrame,function(i){n.spriteFrame=globalAssets[i],t.parent=uiManager.getRoot().parent.getChildByName("uiAni"),t.position=t.parent.convertToNodeSpaceAR(e.getLocation()),cc.tween(t).set({opacity:255}).set({scale:0}).parallel(cc.tween().to(.2,{opacity:0}),cc.tween().to(.2,{scale:1.5})).call(function(){menuClickEffectPool.put(t)}).start()})},onClickSubBtn:function(e){var t=parseInt(e.node.name.substr(-1));tyqAd&&intStartCalcBattle0&&2!=t&&2==user.getBattle()&&(intStartCalcBattle0=!1,TyqSdk.endGame(!0)),0==t?sendCustomEvent(constants.event.building.clickBuilding):1==t?sendCustomEvent(constants.event.arm.clickArm):3==t?sendCustomEvent(constants.event.bing.clickBing):4==t&&sendCustomEvent(constants.event.shop.clickShop),this.loadSubPage(t)},onJumpToMenu:function(e){this.loadSubPage(e)},onTouchGuanzhi:function(e){e&&e.stopPropagation();var t=this;this.setBtnEnable(!1),resMgr.loadRes("packageMenu",["prefab/preGuanzhi"],cc.Prefab,function(e){var n=t.nodeSubPagePane.getChildByName("nodeMenu2");n&&n.getComponent("nodeMenu2").hideWxAd();var i=cc.instantiate(globalAssets[e]);i.getComponent("nodeGuanzhi").setCloseCallback(function(){t.setBtnEnable(!0)}),i.parent=uiManager.getRoot().parent.getChildByName("uiCover")})},loadSubPage:function(e){if(!(e<0||e>=5||null==this.nodeSubPagePane)){var t=this;if(this.nodeSubPagePane.childrenCount>0)for(var n=0;n<this.nodeSubPagePane.childrenCount;n++)this.nodeSubPagePane.children[n].active=!1;this.intSubPage=e,this.setSubBtnScale(),resMgr.loadRes("packageMenu",["prefab/preMenu"+e],cc.Prefab,function(n){var i=cc.instantiate(globalAssets[n]);i.parent=t.nodeSubPagePane,i.name="nodeMenu"+e})}},setSubBtnScale:function(){for(var e=this,t=function(t){var n=e.nodeSubBtn.getChildByName("btn"+t),i=n.getChildByName("bg");parseInt(n.name.substr(-1))==e.intSubPage?(n.zIndex=999,resMgr.loadRes("packageMenu",["img/ui_xzd"],cc.SpriteFrame,function(e){i.getComponent(cc.Sprite).spriteFrame=globalAssets[e]}),i.getChildByName("light").active=!0,i.getChildByName("star").active=!0,n.getChildByName("Background2").active=!0):(n.zIndex=0,resMgr.loadRes("packageMenu",["img/ui_ptd"],cc.SpriteFrame,function(e){i.getComponent(cc.Sprite).spriteFrame=globalAssets[e]}),i.getChildByName("light").active=!1,i.getChildByName("star").active=!1,n.getChildByName("Background2").active=!1)},n=0;n<this.nodeSubBtn.childrenCount;n++)t(n)},updateInfo:function(){var e=this;null!=this.spGuanzhiImg&&null!=this.spGuanzhiImg.node&&(this.spGuanzhiImg.node.color=(new cc.Color).fromHEX("#EEEEEE"),resMgr.loadRes("packageMenu",["imgMenuGuanzhi/ui_lp_"+user.getGuanzhi()],cc.SpriteFrame,function(t){e.spGuanzhiImg.spriteFrame=globalAssets[t],e.scheduleOnce(function(){e.spGuanzhiImg.node.color=(new cc.Color).fromHEX("#FFFFFF")},1)}),this.progressGuanzhi.progress=Math.max(0,Math.min(100,user.getExp()/user.getExpMax())),this.textGuanzhi.string=user.getExp()+"/"+user.getExpMax())},showGuanzhiUpgrade:function(){var e=this,t=jsonTables.getJsonTableObj("guanzhi",user.getGuanzhi());if(user.getExp()>=t.count){var n=jsonTables.getJsonTable("guanzhi");user.getGuanzhi()>=n.length?user.addExp(-(user.getExp()-t.count)):(showUnlockGuanzhi(user.getGuanzhi()+1,function(t){showInfomationAdCenter(constants.switch.switchInfomationAd);var n=t.nodeIcon.convertToWorldSpaceAR(cc.v2(0,0));showImgFly(t.nodeIcon.getComponent(cc.Sprite).spriteFrame,n,POS_GONGXUN,1,function(){e.updateInfo(),e.showGuanzhiUpgrade()})}),user.addExp(-t.count),user.setGuanzhi(user.getGuanzhi()+1))}},doLogic:function(){switch(this.intStatus){case 0:this.intStatus=1;break;case 1:POS_YU=this.nodeYu.convertToWorldSpaceAR(cc.v2(0,0)),POS_YIN=this.nodeYin.convertToWorldSpaceAR(cc.v2(0,0)),POS_GONGXUN=this.nodeGuanzhi.convertToWorldSpaceAR(cc.v2(0,0)),this.loadSubPage(2),this.updateInfo();for(var e=0;e<this.nodeSubBtn.childrenCount;e++)this.nodeSubBtn.children[e].on("toggle",this.onClickSubBtn,this);this.showGuanzhiUpgrade(),clientEvent.dispatchEvent("updateRedPoint"),this.intStatus=2;break;case 2:this.intStatus=3}},onDisable:function(){this.setBtnEnable(!1),uiManager.getRoot().parent.off(cc.Node.EventType.TOUCH_START,this.onTouchEffect,this),this.node.destroy()},update:function(e){this.runTime-this.runTimeLast>=RUN_DT&&(this.runTimeLast=this.runTime,this.doLogic()),this.runTime+=e}}),cc._RF.pop()},{panel:"panel"}],nodeNpc:[function(e,t){"use strict";cc._RF.push(t,"179d9D30sRMV7nF8EpIrmUz","nodeNpc");var n=e("panel");cc.Class({extends:n,properties:{nodeNpc:cc.Node,nodeHp:cc.Node,nodeHpBar:cc.Node,nodeCell:cc.Node,nodeArrowPane:cc.Node,nodeFootPane:cc.Node,nodeSpine0:cc.Node,nodeShadow:cc.Node,nodeTop:cc.Node,nodeEffect:cc.Node},uid:null,armId:0,paused:null,runTimeLast:0,runTime:0,objArm:null,objArms:null,objArmType:null,cellLastPos:null,cellPos:null,cellWidth:0,cellHeight:0,comSp:null,spTrackEntry:null,tweenMove:null,tweenPath:null,tweenPathIndex:0,npcSide:0,npcFace:0,intStatus:0,buff:null,posAttackTarget:null,nodeAttackTarget:null,nodeAttackTargetUID:null,attAtk:0,attHp:0,attHpMax:0,attAtkSpeed:0,attMoveSpeed:0,attTargetRange:0,attAtkRange:0,attIntelligence:0,attTempAtk:0,attTempHpTime:0,attTempHp:0,arrSkill:null,onLoad:function(){},initNpc:function(e,t,n,i,o,a,s){this.uid=getUid(),this.onUpdateMap(o,a,0),clientEvent.on("attacked",this.onAttacked.bind(this),"nodeNpc_onAttacked"+this.uid),clientEvent.on("skillAttacked",this.onSkillAttacked.bind(this),"nodeNpc_onSkillAttacked"+this.uid),clientEvent.on("jiceAttacked",this.onJiceAttacked.bind(this),"nodeNpc_onJiceAttacked"+this.uid),clientEvent.on("npcDie",this.onNpcDie.bind(this),"nodeNpc_onNpcDie"+this.uid);var r=this;this.armId=e,this.level=0,this.paused=!1,this.runTime=0,this.runTimeLast=0,this.node.parent=t,this.intStatus=constants.npcState.None,this.npcSide=o,this.npcFace=constants.npcFace.Down,this.skeletonData=[],this.cellWidth=n,this.cellHeight=i,this.tweenMove=null,this.tweenPath=null,this.tweenPathIndex=0,this.posAttackTarget=null,this.nodeAttackTarget=null,this.nodeAttackTargetUID=null,this.objArm=jsonTables.getJsonTableObj(o<constants.battleNpcSide.Side?"arm":"enemy",e),this.objArmType=jsonTables.getJsonTableObj("armType",this.objArm.type),this.objArms=s,this.attAtk=this.objArm.attack,this.attHp=this.objArm.hp,this.attHpMax=this.objArm.hp,this.attAtkSpeed=this.objArm.atkSpeed,this.attMoveSpeed=this.objArm.moveSpeed,this.attTargetRange=this.objArm.targetRange,this.attAtkRange=this.objArm.atkRange,this.attIntelligence=this.objArm.intelligence,this.attTempAtk=0,this.attTempHpTime=0,this.attTempHp=0,this.buff=[],this.arrSkill=[],this.setLevel(this.objArm.level),this.cellLastPos=a,this.cellPos=a,this.node.position=cc.v2(this.cellWidth*a.x,-this.cellHeight*a.y),this.nodeSpine0.destroyAllChildren(),this.nodeNpc.active=!0,this.nodeHp.active=!1,this.nodeShadow.active=!0,this.nodeNpc.scale=this.objArmType.scale/10,o<constants.battleNpcSide.Side?this.nodeCell.active=!0:this.nodeCell.active=!1,this.modifyHp(null,this.objArm.hp),r.comSp=r.nodeNpc.getComponent(sp.Skeleton),r.comSp.timeScale=1,resMgr.loadRes(this.objArmType.picPackage,["spine/"+this.objArmType.picPath+"_up/"+this.objArmType.picPath+"_up","spine/"+this.objArmType.picPath+"_down/"+this.objArmType.picPath+"_down"],sp.SkeletonData,function(e){if("down"==e.slice(-4)?(r.skeletonData[constants.npcFace.Down]=globalAssets[e],r.npcFace==constants.npcFace.Down&&(r.comSp.skeletonData=globalAssets[e])):"_up"==e.slice(-3)&&(r.skeletonData[constants.npcFace.Up]=globalAssets[e],r.npcFace==constants.npcFace.Up&&(r.comSp.skeletonData=globalAssets[e])),r.npcFace==constants.npcFace.Down&&"down"==e.slice(-4)||r.npcFace==constants.npcFace.Up&&"_up"==e.slice(-3)){if(r.comSp.setSkin(r.npcSide<constants.battleNpcSide.Side?r.objArm.quality+"blue":r.objArm.quality+"red"),r.setNpcAni(r.npcFace,constants.npcAnimation.StandBy,!0),r.npcSide<constants.battleNpcSide.Side&&intBattleBuff==constants.scenePane.KaiJu3){var t=jsonTables.getJsonTableObj("buff",intBattleBuff);t&&(r.attAtk=r.attAtk+t.num)}r.intStatus=constants.npcState.Live}}),this.objArmType.Tid==constants.npcType.QiBing&&isIdInArray(this.arrSkill,constants.skill.ChongFengJiNeng)&&this.addBuf(constants.npcBuff.ChongFeng,0)},setLevel:function(e){this.arrSkill=[];for(var t=changeSkillToArray(this.objArmType),n=0;n<t.length;n++)if(isIntNum(t[n])&&!(t[n]<=0)){var i=jsonTables.getJsonTableObj("skill",t[n]);if(null!=i&&e>=i.npcLevel)switch(this.arrSkill.push(parseInt(t[n])),i.Tid){case constants.skill.ZengJiaShengMingZhi:this.modifyMaxHp(i.num);break;case constants.skill.ZengJiaGongSu:this.attAtkSpeed+=i.num;break;case constants.skill.ZengJiaGongJiLi:this.attAtk+=i.num;break;case constants.skill.ZengJiaGongJiJuLi:this.attAtkRange+=i.num}}},onAttacked:function(e){if(e.getComponent("nodeNpc")){var t=e.getComponent("nodeNpc").intStatus,n=(e.getComponent("nodeNpc").nodeAttackTarget,e.getComponent("nodeNpc").nodeAttackTargetUID),i=(e.getComponent("nodeNpc").posAttackTarget,e.getComponent("nodeNpc").cellPos,e.getComponent("nodeNpc").attAtkRange,e.getComponent("nodeNpc").attAtk);if(this.intStatus==constants.npcState.Live&&t==constants.npcState.Live&&n&&n==this.uid){if((e.getComponent("nodeNpc").objArmType.Tid==constants.npcType.DunBing||e.getComponent("nodeNpc").objArmType.Tid==constants.npcType.BuBing||e.getComponent("nodeNpc").objArmType.Tid==constants.npcType.QiBing)&&isIdInArray(this.arrSkill,constants.skill.JinZhanJianShang)){var o=jsonTables.getJsonTableObj("skill",constants.skill.JinZhanJianShang);i=Math.floor(i*(1-o.num/100))}if(e.getComponent("nodeNpc").objArmType.Tid==constants.npcType.GongBing&&isIdInArray(this.arrSkill,constants.skill.YuanChengJianShang)){var a=jsonTables.getJsonTableObj("skill",constants.skill.YuanChengJianShang);i=Math.floor(i*(1-a.num/100))}this.modifyHp(e,-i)}}else if(e.getComponent("nodeArrow")){var s=e.getComponent("nodeArrow").attAtk,r=(e.getComponent("nodeArrow").nodeTarget,e.getComponent("nodeArrow").nodeTargetUID);this.intStatus==constants.npcState.Live&&r&&r==this.uid&&this.modifyHp(e,-s)}else if(e.getComponent("nodeBuildingArrow")){var c=e.getComponent("nodeBuildingArrow").obj.attack,d=(e.getComponent("nodeBuildingArrow").nodeTarget,e.getComponent("nodeBuildingArrow").nodeTargetUID);if(d)for(var l=0;l<d.length;l++)if(d&&d[l]==this.uid&&this.intStatus==constants.npcState.Live){this.modifyHp(e,-c);break}}},onSkillAttacked:function(e,t,n){t.getComponent("nodeNpc").uid==this.uid&&this.intStatus==constants.npcState.Live&&this.modifyHp(null,-n)},onJiceAttacked:function(e,t,n){null!=t&&t.getComponent("nodeNpc").uid==this.uid&&this.intStatus==constants.npcState.Live&&this.modifyHp(null,-n)},onNpcDie:function(e){this.nodeAttackTargetUID==e.getComponent("nodeNpc").uid&&(this.getNpcAni()==constants.npcAnimation.Attack&&this.setNpcAni(this.npcFace,constants.npcAnimation.StandBy,!0),this.nodeAttackTarget=null,this.nodeAttackTargetUID=null,this.posAttackTarget=null)},modifyMaxHp:function(e){this.attHpMax+=e,this.attHp+=e},modifyHp:function(e,t){var n=this;if(t<0){this.isBuff(constants.npcBuff.Wudi)&&(t=0);var i=jsonTables.getJsonTableObj("spine",constants.spine.BeiJi);showSpine(n.node,this.objArmType.Tid==constants.npcType.QiBing?cc.v2(-5,15):cc.v2(0,8),i,null,null,null)}if(t<0){var o=t+this.attTempHp;t=Math.min(0,o),this.attTempHp=Math.max(0,o)}if(this.attHp=Math.min(this.attHpMax,Math.max(0,this.attHp+t)),this.nodeHpBar&&(this.nodeHpBar.getComponent(cc.ProgressBar).progress=this.attHpMax>0?this.attHp/this.attHpMax:0),this.attHp<=0&&this.intStatus==constants.npcState.Live){if(this.intStatus=constants.npcState.Die,this.stopAction(),this.nodeNpc.active=!1,this.nodeHp.active=!1,this.nodeShadow.active=!1,e&&e.getComponent("nodeNpc")?(e.getComponent("nodeNpc").nodeAttackTarget=null,e.getComponent("nodeNpc").nodeAttackTargetUID=null,e.getComponent("nodeNpc").posAttackTarget=null):e&&e.getComponent("nodeArrow")?(e.getComponent("nodeArrow").nodeTarget=null,e.getComponent("nodeArrow").nodeTargetUID=null,e.getComponent("nodeArrow").posTarget=null):e&&e.getComponent("nodeBuildingArrow")&&(e.getComponent("nodeBuildingArrow").nodeTarget=null,e.getComponent("nodeBuildingArrow").nodeTargetUID=null,e.getComponent("nodeBuildingArrow").posTarget=null),showAnimation(n.nodeArrowPane,cc.v2(n.node.position.x+5,this.objArmType.Tid==constants.npcType.QiBing?n.node.position.y+25:n.node.position.y+15),"animation/siwang/siwang",.5),isIdInArray(n.arrSkill,constants.skill.ZiBao)){var a=jsonTables.getJsonTableObj("skill",constants.skill.ZiBao);if(Math.random()<a.num/100){zzpout("\u89e6\u53d1\u7206\u70b8"),showAnimation(n.nodeArrowPane,n.node.position,"animation/zibao/zibao");var s=getRangeTarget(n.cellPos,n.npcSide,2,0);if(s.npc.length>0)for(var r=0;r<s.npc.length;r++)clientEvent.dispatchEvent("skillAttacked",a,s.npc[r],Math.floor(a.num*n.attAtk/100))}}if(n.npcSide>constants.battleNpcSide.Side){intTotalEnemy--;var c=n.objArms.drop,d=parseInt(n.objArms.dropNum);if(intBattleBuff==constants.scenePane.KaiJu2&&c==constants.item.tongqian){var l=jsonTables.getJsonTableObj("buff",intBattleBuff);l&&(d*=l.num)}c==constants.item.tongqian&&user.addCoin(parseInt(d))}n.spTrackEntry&&n.comSp.setTrackEventListener(n.spTrackEntry,null),zzpout("is die:"+n.uid),clientEvent.dispatchEvent("npcDie",n.node),n.onUpdateMap(n.npcSide,n.cellPos,1),n.nodeShadow.destroyAllChildren(),n.nodeEffect.destroyAllChildren(),cc.tween(n.node).delay(2).call(function(){n.nodeSpine0.destroyAllChildren(),n.npcSide<constants.battleNpcSide.Side?removeNode(heroList,n.uid,"nodeNpc"):removeNode(enemyList,n.uid,"nodeNpc"),getPool(n.npcSide).put(n.node)}).start()}},addBuf:function(e,t){var n=this;switch(t>0&&this.buff.push({id:e,time:(new Date).getTime()+1e3*t}),e){case constants.npcBuff.Wudi:this.nodeHp.active=!1,cc.tween(this.node).call(function(){n.nodeTop.active=!0,n.node.scale=2,showAnimation(n.nodeEffect,cc.v2(0,n.objArmType.Tid==constants.npcType.QiBing?40:30),"animation/hudun/hudunLoop",.6)}).to(.3,{scale:2}).delay(1).call(function(){n.nodeTop.active=!1}).start();break;case constants.npcBuff.XuanYun:this.stopAllBehavior();var i=jsonTables.getJsonTableObj("spine",constants.spine.XuanYun);showSpine(this.nodeEffect,cc.v2(0,this.objArmType.Tid==constants.npcType.QiBing?20:10),i,null,null,null,function(e){e.scale=.5});break;case constants.npcBuff.ChongFeng:var o=jsonTables.getJsonTableObj("skill",constants.skill.ChongFengJiNeng);this.attTempAtk=o.num,this.castSkill(constants.skill.ChongFengJiNeng)}},doBufLogic:function(){if(null!=this.buff)for(var e=this.buff.length-1;e>=0;e--)switch(this.buff[e].id){case constants.npcBuff.Wudi:if(this.buff[e].time<=(new Date).getTime()){this.buff.splice(e,1),this.nodeTop.active=!1,this.node.scale=1;for(var t=0;t<this.nodeEffect.childrenCount;t++){var n=this.nodeEffect.children[e];n.getComponent("nodeAnimation")&&n.getComponent("nodeAnimation").clear()}this.nodeEffect.destroyAllChildren()}break;case constants.npcBuff.XuanYun:if(this.buff[e].time<=(new Date).getTime()){this.buff.splice(e,1),this.pause(!1);var i=this.nodeEffect.getChildByName(constants.spine.XuanYun+"");i&&i.destroy()}}},isBuff:function(e){if(null==this.buff)return!1;for(var t=this.buff.length-1;t>=0;t--)if(this.buff[t].id==e&&this.buff[t].time>(new Date).getTime())return!0;return!1},setNpcPos:function(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=0),this.intStatus==constants.npcState.Live){this.stopAllBehavior();var i=cc.v2(this.cellPos.x,this.cellPos.y);this.onUpdateMap(this.npcSide,i,1),this.cellLastPos=this.cellPos,this.cellPos=e,this.onUpdateMap(this.npcSide,e,0);var o=Math.max(Math.abs(this.cellWidth*e.x-this.node.position.x),Math.abs(-this.cellHeight*e.y-this.node.position.y)),a=this;zzperr("this.cellHeight:"+this.cellHeight),zzperr("pos.y:"+e.y),zzperr("this.node.position.y:"+this.node.position.y);var s=o/this.cellWidth;cc.tween(this.node).by(.05*s+.15,{position:cc.v2(this.cellWidth*e.x-this.node.position.x,-this.cellHeight*e.y-this.node.position.y)},{easing:"quadOut"}).delay(n).call(function(){a.pause(!1),t&&t()}).start();for(var r=0;r<this.nodeEffect.childrenCount;r++)this.nodeEffect.children[r].getComponent(cc.Animation)&&(this.nodeEffect.children[r].getComponent(cc.Animation).stop(),this.nodeEffect.children[r].getComponent("nodeAnimation")&&this.nodeEffect.children[r].getComponent("nodeAnimation").onAniComplete())}},getNpcAni:function(){return this.comSp.animation},setNpcAni:function(e,t,n){if(this.comSp){var i=this;switch(e==this.npcFace&&t==this.comSp.animation||(e!=this.npcFace&&(this.npcFace=e,this.comSp.skeletonData=this.skeletonData[e],this.comSp.setSkin(this.npcSide<constants.battleNpcSide.Side?this.objArm.quality+"blue":this.objArm.quality+"red")),t==constants.npcAnimation.Attack?(i.spTrackEntry=i.comSp.setAnimation(0,t,n),i.comSp.addAnimation(0,constants.npcAnimation.StandBy,!0,0),i.comSp.setTrackEventListener(i.spTrackEntry,function(e,n){if("shot"==n.data.name)if(i.npcSide==constants.battleNpcSide.PlayerSheShou||i.npcSide==constants.battleNpcSide.EnemySheShou)playSound(constants.sound.battleAtk1),zzpout("\u5f13\u7bad\u624b"),resMgr.loadRes(constants.prefabs.arrow[0],[constants.prefabs.arrow[1]],cc.Prefab,function(e){var t=1,n=null;isIdInArray(i.arrSkill,constants.skill.FenLieJian)&&(n=getRangeTarget(i.cellPos,i.npcSide,i.attAtkRange,2))&&n.npc&&n.npc.length>0&&(t+=Math.min(2,n.npc.length));for(var o=0;o<t;o++){var a=0;if(0==o?i.nodeAttackTarget&&i.nodeAttackTarget.getComponent("nodeNpc").uid==i.nodeAttackTargetUID&&i.nodeAttackTarget.getComponent("nodeNpc").intStatus==constants.npcState.Live?a=1:i.posAttackTarget&&(a=2):n.npc.length>0&&n.npc[o]&&n.npc[o].getComponent("nodeNpc").intStatus==constants.npcState.Live&&(a=3),a>0){var s=null;if((s=arrowPool.size()>0?arrowPool.get():cc.instantiate(globalAssets[e])).parent=i.nodeArrowPane,null==s&&zzpout("nodeArrow is null"),null==s.getComponent("nodeArrow")&&zzpout("nodeArrow com is null"),s.getComponent("nodeArrow").setAtk(i.attAtk),s.getComponent("nodeArrow").setSpeed(10+i.attAtkSpeed),s.getComponent("nodeArrow").setPos(i.node.position),s.getComponent("nodeArrow").setSide(i.npcSide==constants.battleNpcSide.PlayerSheShou?constants.battleNpcSide.PlayerArrow:constants.battleNpcSide.EnemyArrow),1==a)s.getComponent("nodeArrow").setTarget(i.nodeAttackTarget);else if(2==a)s.getComponent("nodeArrow").setPosTarget(i.posAttackTarget);else if(3==a){var r=jsonTables.getJsonTableObj("skill",constants.skill.FenLieJian);s.getComponent("nodeArrow").setAtk(Math.floor(i.attAtk*r.num/100)),s.getComponent("nodeArrow").setTarget(n.npc[o])}arrowList.push(s),s.getComponent("nodeArrow").setStart()}}});else{if(playSound(constants.sound.battleAtk0),isIdInArray(i.arrSkill,constants.skill.JinZhanQunShang)){zzpout("\u6280\u80fd\u8fd1\u6218\u7fa4\u4f24"),resMgr.loadRes("packageBase",["prefab/preSpine"],cc.Prefab,function(e){var t=null;(t=spinePool.size()>0?spinePool.get():cc.instantiate(globalAssets[e])).position=i.node.position,t.parent=i.nodeFootPane;var n=jsonTables.getJsonTableObj("skill",constants.skill.JinZhanQunShang),o=jsonTables.getJsonTableObj("spine",n.spine);zzpout("objSpine:"+JSON.stringify(o)),t.scale=.5,resMgr.loadRes(o.picPackage,[o.picPath],sp.SkeletonData,function(e){t.getComponent(sp.Skeleton).skeletonData=globalAssets[e],t.getComponent(sp.Skeleton).setAnimation(0,o.animation,!1),t.getComponent(sp.Skeleton).setEndListener(function(){t.destroy()})})});var o=getRangeTarget(i.cellPos,i.npcSide,1,0);if(o.npc.length>0)for(var a=jsonTables.getJsonTableObj("skill",constants.skill.JinZhanQunShang),s=0;s<o.npc.length;s++)o.npc[s].getComponent("nodeNpc").uid!=i.nodeAttackTarget.getComponent("nodeNpc").uid&&clientEvent.dispatchEvent("skillAttacked",a,o.npc[s],a.num*i.attAtk/1e3)}if(isIdInArray(i.arrSkill,constants.skill.ChongFengJiNeng)&&i.nodeAttackTarget&&i.attTempAtk>0){zzpout("\u51b2\u950b");var r=jsonTables.getJsonTableObj("skill",constants.skill.ChongFengJiNeng),c=(new Date).getTime();if(i.nodeAttackTarget&&isIdInArray(i.nodeAttackTarget.getComponent("nodeNpc").arrSkill,constants.skill.QiBingKeXing)&&c-i.nodeAttackTarget.getComponent("nodeNpc").attTempHpTime>=1e4&&i.nodeAttackTarget.getComponent("nodeNpc").castSkill(constants.skill.QiBingKeXing),i.attTempAtk+i.attAtk>=i.nodeAttackTarget.getComponent("nodeNpc").attHp+i.nodeAttackTarget.getComponent("nodeNpc").attTempHp?(zzperr("\u79d2\u6740"),t=constants.npcAnimation.StandBy,i.attTempAtk-=r.num,clientEvent.dispatchEvent("skillAttacked",r,i.nodeAttackTarget,10*i.nodeAttackTarget.getComponent("nodeNpc").attHp)):(zzperr("\u65e0\u6cd5\u79d2\u6740"),i.attTempAtk=0),i.attTempAtk<=0){var d=i.nodeShadow.getChildByName(constants.ani.chongfeng[1].replace(new RegExp("/","gm"),""));d&&d.destroy(),i.attTempAtk=0}}i.posAttackTarget&&clientEvent.dispatchEvent("attacked",i.node)}})):i.comSp.setAnimation(0,t,n)),t){case constants.npcAnimation.StandBy:this.comSp.timeScale=1;break;case constants.npcAnimation.Walk:this.comSp.timeScale=1+this.attMoveSpeed/1e5;break;case constants.npcAnimation.Attack:this.comSp.timeScale=1+this.attAtkSpeed/100}}},castSkill:function(e){var t=jsonTables.getJsonTableObj("skill",e);switch(e){case constants.skill.ChongFengJiNeng:showAnimation(this.nodeShadow,cc.v2(0,-5),constants.ani.chongfeng[1],.3);break;case constants.skill.QiBingKeXing:this.attTempHpTime=(new Date).getTime(),this.attTempHp=t.num,zzpout("\u52a8\u753b\uff1a\u62a4\u76fe"),showAnimation(this.nodeEffect,cc.v2(0,this.objArmType.Tid==constants.npcType.QiBing?40:30),constants.ani.hudun[1],.6);var n=this;cc.tween(this.node).delay(3).call(function(){n.attTempHp=0}).start()}},getNpcPos:function(){return this.cellPos},setArrowPane:function(e){this.nodeArrowPane=e},setFootPane:function(e){this.nodeFootPane=e},stopAction:function(){null!=this.tweenMove&&(this.tweenMove.stop(),this.tweenMove=null)},isCastedKongChengJi:function(){this.setNpcAni(this.npcFace,constants.npcAnimation.StandBy,!0),this.stopAction(),this.posAttackTarget=null,this.nodeAttackTarget=null,this.nodeAttackTargetUID=null},getWallTarget:function(e){for(var t=e[0].length-1,n=e.length,i=0;i<n;i++){var o=this.cellPos.x;if(0!=i&&(i%2>0?o+=Math.floor(i/2)+1:o-=Math.floor(i/2)),!(o<0||o>=n)&&isAttackTarget(this.npcSide,e[o][t]))return cc.v2(o,t)}return null},getMinLineEmptySlot:function(e){var t=[],n=e;if(e>arrNpcMap[0].length-1)return t;for(var i=arrNpcMap.length,o=0;o<=n;o++)for(var a=o,s=0;s<i;s++){var r=this.cellPos.x;if(0!=s&&(s%2>0?r+=Math.floor(s/2)+1:r-=Math.floor(s/2)),!(r<0||r>=i)&&arrNpcMap[r][a]==constants.battleNpcSide.None){t.push(cc.v2(r,a));break}}return t},getMaxLineEmptySlot:function(e){var t=[];if(e<0)return t;for(var n=e,i=arrNpcMap.length,o=n;o>=0;o--)for(var a=o,s=0;s<i;s++){var r=this.cellPos.x;if(0!=s&&(s%2>0?r+=Math.floor(s/2)+1:r-=Math.floor(s/2)),!(r<0||r>=i)&&arrNpcMap[r][a]==constants.battleNpcSide.None){t.push(cc.v2(r,a));break}}return t},moveNpc:function(e){if(this.cellPos&&(null==this.tweenMove||e!=this.tweenMove[this.tweenPath.length-1])){var t=this,n=JSON.parse(JSON.stringify(arrMap));n[e.x][e.y]=1;for(var i=Math.max(0,Math.floor(e.x-this.attIntelligence/100*horCellNum)),o=Math.min(horCellNum,Math.floor(e.x+this.attIntelligence/100*horCellNum)),a=Math.max(0,Math.floor(e.y-this.attIntelligence/100*verCellNum)),s=Math.min(verCellNum,Math.floor(e.y+this.attIntelligence/100*verCellNum)),r=i;r<o;r++)for(var c=a;c<s;c++)arrNpcMap[r][c]>constants.battleNpcSide.None&&arrNpcMap[r][c]<constants.battleNpcSide.Side&&(n[r][c]=1);var d=null;if((d=searchPath(n,this.cellPos,e))&&d.pop(),d&&d.length>0){this.stopAction(),this.tweenPath=d,this.tweenPathIndex=0,this.tweenMove=cc.tween(this.node);for(var l=this.tweenPath.length,h=0;h<l;h++){if(!(n[t.tweenPath[h].x][t.tweenPath[h].y]>0)){0==h&&(t.tweenMove=null);break}t.tweenMove.then(cc.tween().call(function(){var e=cc.v2(t.cellPos.x,t.cellPos.y);t.cellLastPos=t.cellPos,t.onUpdateMap(t.npcSide,e,1),t.cellPos=t.tweenPath[t.tweenPathIndex],t.onUpdateMap(t.npcSide,t.cellPos,0);var n=-t.cellPos.y*t.cellHeight,i=t.npcFace;t.node.position.y>n?i=constants.npcFace.Down:t.node.position.y<n&&(i=constants.npcFace.Up),t.setNpcAni(i,constants.npcAnimation.Walk,t)})).then(cc.tween().to(1e5/t.attMoveSpeed,{position:cc.v2(t.tweenPath[h].x*t.cellWidth,-t.tweenPath[h].y*t.cellHeight)})).then(cc.tween().call(function(){t.checkTarget()}))}return!!this.tweenMove&&(this.tweenMove.start(),!0)}}return!1},onUpdateMap:function(e,t,n){if(null!=t){var i=Math.floor(t.x),o=Math.floor(t.y);arrMap[i][o]=n,arrNpcMap[i][o]=0==n?e:constants.battleNpcSide.None}},checkAttack:function(){if(this.paused)return!1;if(this.getNpcAni==constants.npcAnimation.Attack)return!0;var e=getRangeTarget(this.cellPos,this.npcSide,this.attAtkRange,1);return this.nodeAttackTarget=null,this.nodeAttackTargetUID=null,this.posAttackTarget=null,e&&e.npc.length>0?(this.nodeAttackTarget=e.npc[0],this.nodeAttackTargetUID=e.npc[0].getComponent("nodeNpc").uid,this.posAttackTarget=this.nodeAttackTarget.getComponent("nodeNpc").cellPos):e&&e.pos.length>0&&(this.posAttackTarget=e.pos[0],this.nodeAttackTarget=null,this.nodeAttackTargetUID=null),null!=this.posAttackTarget&&(this.stopAction(),this.setNpcAni(this.posAttackTarget.y<this.cellPos.y?constants.npcFace.Up:constants.npcFace.Down,constants.npcAnimation.Attack,!1),!0)},stopAllBehavior:function(){this.setNpcAni(this.npcFace,constants.npcAnimation.StandBy,!0),this.stopAction(),this.node.stopAllActions(),this.posAttackTarget=null,this.nodeAttackTarget=null,this.nodeAttackTargetUID=null,this.pause(!0)},checkTarget:function(){if(this.paused)return this.setNpcAni(this.npcFace,constants.npcAnimation.StandBy,!0),this.stopAction(),this.posAttackTarget=null,this.nodeAttackTarget=null,this.nodeAttackTargetUID=null,!1;if(!this.checkAttack()){var e=null,t=getRangeTarget(this.cellPos,this.npcSide,this.attTargetRange,1),n=null,i=null;this.nodeAttackTarget=null,this.nodeAttackTargetUID=null,this.posAttackTarget=null,t.npc.length>0?n=(i=t.npc[0]).getComponent("nodeNpc").cellPos:t.pos.length>0&&(n=t.pos[0]);var o=!1;if(n&&(null!=this.tweenPath&&null!=this.posAttackTarget&&v2Equals(n,this.posAttackTarget)||this.moveNpc(n)&&(this.posAttackTarget=n,this.nodeAttackTarget=i,this.nodeAttackTargetUID=null,i&&(this.nodeAttackTargetUID=i.getComponent("nodeNpc").uid),o=!0)),!o)return this.tweenPath&&this.tweenPath.length>0&&this.tweenPathIndex<this.tweenPath.length-1&&(e=this.tweenPath[this.tweenPathIndex+1]),e&&arrMap[e.x][e.y]>0?(this.tweenPathIndex<this.tweenPath.length-1&&this.tweenPathIndex++,!0):(null==e||0==arrMap[e.x][e.y]||this.tweenPathIndex==this.tweenPath.length-1)&&(this.setNpcAni(this.npcFace,constants.npcAnimation.StandBy,!0),this.stopAction(),this.posAttackTarget=null,this.nodeAttackTarget=null,this.nodeAttackTargetUID=null,!1)}return!0},updateNpc:function(){if(this.runTime-this.runTimeLast>=NPC_DT){if(this.paused)return!1;if(frameTime>=FRAME_TIME_MAX&&frameNpcCount>FRAME_NPC_LOGIC_MAX)return;frameNpcCount++;for(var e=-1;null==this.tweenMove&&!this.checkAttack();)if(-1==e){e=0;var t=getRangeTarget(this.cellPos,this.npcSide,this.attTargetRange,1);if(this.nodeAttackTarget=null,this.nodeAttackTargetUID=null,this.posAttackTarget=null,t.npc.length>0?(this.nodeAttackTarget=t.npc[0],this.nodeAttackTargetUID=t.npc[0].getComponent("nodeNpc").uid,this.posAttackTarget=this.nodeAttackTarget.getComponent("nodeNpc").cellPos):t.pos.length>0&&(this.posAttackTarget=t.pos[0]),null!=this.posAttackTarget&&this.moveNpc(this.posAttackTarget),this.tweenMove)break}else{if(this.tweenMove)break;if(e<0||e>arrNpcMap[0].length-1){this.runTimeLast+=1e3+1e3*Math.random();break}var n=null;isHero(this.npcSide)?(n=this.getMinLineEmptySlot(e))&&n.y>this.cellPos.y&&(n=null):isEnemy(this.npcSide)&&(n=this.getMaxLineEmptySlot(arrNpcMap[0].length-1-e));var i=!1;if(n.length>0)for(var o=n.length,a=0;a<o;a++){if(100*Math.random()>this.attIntelligence){i=!0;break}if(this.moveNpc(cc.v2(n[a].x,n[a].y)),this.tweenMove)break}if(this.tweenMove||i)break;e++}}},updateLogic:function(e){switch(this.intStatus){case constants.npcState.None:break;case constants.npcState.Live:this.getNpcAni()==constants.npcAnimation.Attack||this.updateNpc();break;case constants.npcState.Die:case constants.npcState.End:}this.doBufLogic(e)},update:function(e){this.runTime-this.runTimeLast>=NPC_DT&&(this.updateLogic(e),this.runTimeLast=this.runTime),this.node.zIndex=-this.node.position.y,this.runTime+=e},unuse:function(){clientEvent.off("attacked","nodeNpc_onAttacked"+this.uid),clientEvent.off("skillAttacked","nodeNpc_onSkillAttacked"+this.uid),clientEvent.off("jiceAttacked","nodeNpc_onJiceAttacked"+this.uid),clientEvent.off("npcDie","nodeNpc_onNpcDie"+this.uid),this.stopAllBehavior(),this.nodeShadow.destroyAllChildren(),this.nodeEffect.destroyAllChildren()},reuse:function(){this.intStatus=constants.npcState.None},pause:function(e){void 0===e&&(e=!0),this.paused=e,e||(this.nodeCell.active=!1)}}),cc._RF.pop()},{panel:"panel"}],nodeQian:[function(e,t){"use strict";cc._RF.push(t,"1f671q0bgRBTKuXL8qxfEeO","nodeQian");var n=e("panel");cc.Class({extends:n,runTimeLast:0,runTime:0,arrQian:null,properties:{},onLoad:function(){this.runTime=0,this.runTimeLast=0,this.node.getChildByName("bg").getChildByName("btnClose").on(cc.Node.EventType.TOUCH_START,this.onTouchClose,this),this.node.getChildByName("bg").getChildByName("btnGet").on(cc.Node.EventType.TOUCH_START,this.onTouchGet,this),this.arrQian=jsonTables.getJsonTable("qiandao"),this.updateGetStatus(),showInfomationAdCenter(constants.switch.switchInfomationAd),showByteBanner(this.node,constants.switch.switchOtherBanner),showWechatBanner(this.node,constants.switchWechat.switchBanner)},graySprite:function(e,t){var n=null;n=e?cc.Material.getBuiltinMaterial("2d-gray-sprite"):cc.Material.getBuiltinMaterial("2d-sprite"),n=cc.MaterialVariant.create(n,sp),t.setMaterial(0,n)},addItem:function(e,t){user.addItem(e,t)},updateGetStatus:function(){for(var e=0;e<6&&e<this.arrQian.length;e++){var t=e<3?0:1,n=e<3?e:e-3,i=jsonTables.getJsonTableObj("item",this.arrQian[e].item);if(null!=i){var o=this.node.getChildByName("bg").getChildByName("nodeList"+t).getChildByName("cell"+n),a=o.getChildByName("corner").getChildByName("day"),s=o.getChildByName("icon"),r=o.getChildByName("border").getChildByName("text");a.getComponent(cc.Label).string=1==e?"\u5927\u5956":"\u7b2c"+(e+1)+"\u5929",r.getComponent(cc.Label).string="x"+this.arrQian[e].num,s.getComponent("nodeLoadSprite").loadSprite(i.picPackage,i.picPath),user.getQian()%7>e||user.getQian()%7==0&&user.getQian()>0?o.getChildByName("get").active=!0:o.getChildByName("get").active=!1}}if(this.arrQian.length>6){var c=this.node.getChildByName("bg").getChildByName("cell7").getChildByName("icon"),d=jsonTables.getJsonTableObj("item",this.arrQian[6].item);c.getComponent("nodeLoadSprite").loadSprite(d.picPackage,d.picPath),user.getQian()%7==0&&user.getQian()>0?c.parent.getChildByName("get").active=!0:c.parent.getChildByName("get").active=!1}getTodayQiandao()?(this.node.getChildByName("bg").getChildByName("btnGet").getChildByName("Background").color=(new cc.Color).fromHEX("#FFFFFF"),this.node.getChildByName("bg").getChildByName("btnGet").getChildByName("Background").getChildByName("text").color=(new cc.Color).fromHEX("#FFFFFF")):(this.node.getChildByName("bg").getChildByName("btnGet").off(cc.Node.EventType.TOUCH_START,this.onTouchGet,this),this.node.getChildByName("bg").getChildByName("btnGet").getChildByName("Background").color=(new cc.Color).fromHEX("#333333"),this.node.getChildByName("bg").getChildByName("btnGet").getChildByName("Background").getChildByName("text").color=(new cc.Color).fromHEX("#333333"))},onTouchGet:function(e){e&&e.stopPropagation();var t=this,n=user.getQian();sendCustomEvent(constants.event.qian["qian"+n]);var i=t.arrQian[n%7],o=jsonTables.getJsonTableObj("item",parseInt(i.item));zzperr("qianDay:"+n),zzperr("objQian:"+JSON.stringify(i)),user.addQian(),t.addItem(o.Tid,i.num),resMgr.loadRes("packageMenu",["prefab/preMenuGet"],cc.Prefab,function(e){var n=uiManager.getRoot().parent.getChildByName("uiCover"),a=cc.instantiate(globalAssets[e]);a.parent=n,a.getComponent("nodeMenuGet").init([o],[i.num]),a.getComponent("nodeMenuGet").setCallback(function(){zzperr("touchget"+JSON.stringify(o)),sendCustomEvent(constants.event.qian.qianAd),t.addItem(o.Tid,i.num)},function(){showInterAdRateOnQianTouchGet(constants.switch.switchInterAdRate)})}),this.updateGetStatus()},onTouchClose:function(e){e&&e.stopPropagation(),this.willClose()},setCallback:function(e){this.callback=e},willClose:function(){var e=this;SdkMgr.hideBanner(),cc.tween(this.node).to(.2,{scale:0},{easing:"backIn"}).call(function(){e.node.active=!1}).start()},onDisable:function(){this.node.getChildByName("bg").getChildByName("btnGet").off(cc.Node.EventType.TOUCH_START,this.onTouchGet,this),this.node.getChildByName("bg").getChildByName("btnClose").off(cc.Node.EventType.TOUCH_START,this.onTouchClose,this),this.callback&&this.callback(),clientEvent.dispatchEvent("jumpToMenu",2),this.node.destroy()},update:function(e){this.runTime-this.runTimeLast>=RUN_DT&&(this.runTimeLast=this.runTime),this.runTime+=e}}),cc._RF.pop()},{panel:"panel"}],nodeRedPoint:[function(e,t){"use strict";cc._RF.push(t,"42ac5sDgLlHdZ7nnmbDdGGF","nodeRedPoint");var n=e("panel");cc.Class({extends:n,bolInit:null,uid:null,properties:{redPointName:cc.String},onLoad:function(){this.node.getComponent(cc.Sprite).enabled=!1,this.uid=getUid(),clientEvent.on("redPoint",this.onRedPoint.bind(this),"nodeRedPoint_redPoint"+this.uid)},onDestroy:function(){clientEvent.off("redPoint","nodeRedPoint_redPoint"+this.uid)},onRedPoint:function(e,t){e==this.redPointName&&(this.node.getComponent(cc.Sprite).enabled=1==t)}}),cc._RF.pop()},{panel:"panel"}],nodeReward:[function(e,t){"use strict";cc._RF.push(t,"e9c33hpyMBN37WeNBSdqzJd","nodeReward");var n=e("panel");cc.Class({extends:n,runTimeLast:0,runTime:0,callLeft:null,callRight:null,properties:{},onLoad:function(){this.runTime=0,this.runTimeLast=0,this.node.getChildByName("btnClose").on(cc.Node.EventType.TOUCH_START,this.onTouchRight,this)},init:function(e,t){var n=this;playSound(constants.sound.bonus);for(var i=function(i){var o=e[i];zzpout("objItem:"+JSON.stringify(o));var a=t[i];resMgr.loadRes("packageMenu",[1==e.length?"prefab/preMenuGetCellNpc":"prefab/preMenuGetCellObj"],cc.Prefab,function(e){var t=cc.instantiate(globalAssets[e]);t.parent=n.node.getChildByName("bg0"),t.getChildByName("icon").getComponent("nodeLoadSprite").loadSprite(o.picPackage,o.picPath),t.getChildByName("num").getComponent(cc.Label).string="x"+a})},o=0;o<e.length;o++)i(o)},setCallback:function(e){void 0===e&&(e=null),this.callRight=e},onTouchRight:function(e){e.stopPropagation(),this.callRight&&this.callRight(),this.willClose()},willClose:function(){var e=this;cc.tween(this.node).to(.2,{scale:0},{easing:"backIn"}).call(function(){e.node.active=!1}).start()},onDisable:function(){this.node.getChildByName("bg0").destroyAllChildren(),this.node.destroy()},update:function(e){this.runTime-this.runTimeLast>=RUN_DT&&(this.runTimeLast=this.runTime),this.runTime+=e}}),cc._RF.pop()},{panel:"panel"}],nodeScene:[function(e,t){"use strict";cc._RF.push(t,"3f38dWB4JRPKqCo4euhf2Lu","nodeScene");var n,i=function(e){return e&&e.__esModule?e:{default:e}}(e("../component/tyq/tyq-view-mgr")),o=e("../component/tyq/tyq-sdk"),a=e("panel");cc.Class(((n={extends:a,runTimeLast:0,runTime:0,runTimeLastPig:null,uid:null,intRoundEnemy:0,toggleChooseIndex:0,arrTouchMap:null,objDaren:null,arrPreNpc:null,indexNpc:0,properties:{nodeUI:cc.Node,nodeBattle:cc.Node,nodeBattleBg:cc.Node,nodeBattleFoot:cc.Node,nodeBattleNpc:cc.Node,nodeBattleBuilding:cc.Node,nodeBattleArrow:cc.Node,nodeArms:cc.Node,nodeTip:cc.Node,nodeLeft:cc.Node,nodeHp:cc.Node,nodeEnd:cc.Node,nodeArrowPane:cc.Node,nodePig:cc.Node,nodePigPig:cc.Node,nodePigCD:cc.Node,nodeJuanZhou:cc.Node,nodeCover:cc.Node,nodeEffect:cc.Node,nodeEffect2:cc.Node,nodeStop:cc.Node,nodeWallBg:cc.Node},onLoad:function(){this.arrPreNpc=[],this.indexNpc=0,this.preCreateNpc(),this.nodeStop.on(cc.Node.EventType.TOUCH_START,this.onTouchStop,this);var e=this;this.uid=getUid(),SceneWidgetVertical=this.nodeBattle.getComponent(cc.Widget).bottom,clientEvent.on("npcDie",this.onNpcDie.bind(this),"nodeScene_onNpcDie"+this.uid),clientEvent.on("attacked",this.onAttacked.bind(this),"nodeScene_onAttacked"+this.uid),clientEvent.on("skillAttacked",this.onSkillAttacked.bind(this),"nodeScene_onSkillAttacked"+this.uid),clientEvent.on("jiceAttacked",this.onJiceAttacked.bind(this),"nodeScene_onJiceAttacked"+this.uid),this.nodeJuanZhou.getComponent(sp.Skeleton).setCompleteListener(function(){switch(e.nodeJuanZhou.getComponent(sp.Skeleton).animation){case"open":zzpout("open nodeJuanZhou"),e.showJice(!0);break;case"close":zzpout("close nodeJuanZhou"),e.showJice(!1),e.nodeJuanZhou.x=9999}}),intStatus=constants.battleState.None,this.runTime=0,this.runTimeLast=0,showInfomationAdCenter(constants.switch.switchInfomationAd)},onDestroy:function(){zzpout("onDestroy onLoad")},init:function(){this.runTimeLastPig="",this.toggleChooseIndex=-1,intBattle=user.getBattle(),1==intBattle?sendCustomEvent(constants.event.load.teachBattle1):2==intBattle?sendCustomEvent(constants.event.load.teachBattle2):3==intBattle?sendCustomEvent(constants.event.load.teachBattle3):4==intBattle?sendCustomEvent(constants.event.load.teachBattle4):5==intBattle&&sendCustomEvent(constants.event.load.teachBattle5),TyqSdk.startGame(intBattle),intRound=0,intArms=0,intArmsBornCount=0,intRoundTime=0,mapCellWidth=0,mapCellHeight=0,enemyList=[],heroList=[],arrowList=[],enemyPool=new cc.NodePool("nodeNpc"),heroPool=new cc.NodePool("nodeNpc"),arrowPool=new cc.NodePool("nodeArrow"),aniWanjianPool=new cc.NodePool,buildingArrowPool=new cc.NodePool("nodeBuildingArrow"),resMgr.loadRes(constants.prefabs.arrow[0],[constants.prefabs.arrow[1]],cc.Prefab,function(e){for(var t=0;t<20;t++){var n=cc.instantiate(globalAssets[e]);arrowPool.put(n)}}),this.loadBattle(intBattle),this.loadUI()},loadUI:function(){var e=this;resMgr.loadRes(constants.prefabs.btnArm[0],[constants.prefabs.btnArm[1]],cc.Prefab,function(t){for(var n=0;n<4;n++){var i=user.getBattleArm(n);if(!(i<=0)){var o=getItemArm(i);if(null!=o){var a=jsonTables.getJsonTableObj("armType",o.type);if(null!=a){var s=cc.instantiate(globalAssets[t]);s.parent=e.nodeArms;var r=o.type;s.name=n+"",s.getChildByName("Background").getComponent("nodeLoadSprite").loadSprite("package0",(1==r?"img/dunbingka":2==r?"img/bubingka":3==r?"img/gongbingka":"img/qibingka")+o.quality),s.getChildByName("label").getComponent(cc.Label).string=o.price,0==n&&(s.getComponent(cc.Toggle).isChecked=!0,e.setBtnArm(s)),s.getComponent(cc.Toggle).toggleGroup=e.nodeArms.getComponent(cc.ToggleContainer),s.on("toggle",e.clickBtnArm,e),resMgr.loadRes(a.picPackage,["spine/"+a.picPath+"_up/"+a.picPath+"_up","spine/"+a.picPath+"_down/"+a.picPath+"_down"],sp.SkeletonData,null)}}else zzpout("\u627e\u4e0d\u5230arm ItemId:"+JSON.stringify(i))}}e.nodeArms.getComponent(cc.Layout).updateLayout()}),resMgr.loadRes(constants.prefabs.npc[0],[constants.prefabs.npc[1]],cc.Prefab,null),intTotalEnemy=0,this.intRoundEnemy=0;for(var t=0;t<arrRound.length;t++)for(var n=this.getArms(arrRound[t].Tid),i=n.length,o=intArms;o<i;o++)intTotalEnemy+=parseInt(n[o].num),zzpout("arrArms[j].num:"+n[o].num);zzpout("\u8ba1\u7b97\u654c\u4eba\u6570\u91cf intTotalEnemy:"+intTotalEnemy),this.updateLeftEnemy(),this.showFormAds()},getArms:function(e){if(this.objDaren){for(var t=[],n=0;n<this.objDaren.arm.length;n++)e==this.objDaren.arm[n].round&&t.push({Tid:n+1,round:this.objDaren.arm[n].round,arm:this.objDaren.arm[n].type,level:this.objDaren.arm[n].lv,num:this.objDaren.arm[n].num,drop:1,dropNum:50});return zzperr("arr"+JSON.stringify(t)),t}return jsonTables.getJsonTableArrObj("arms","round",e)},loadBattle:function(e){var t=this;if(this.runTimeLast=0,this.runTime=0,intBattle=e,objBattle=jsonTables.getJsonTableObj("battle",e),this.objDaren?user.setCoin(this.objDaren.coin):user.setCoin(objBattle.coin),intRound=0,intRoundTime=0,this.objDaren){arrRound=[];for(var n=0,i=0;i<this.objDaren.arm.length;i++)(0==i||i>0&&this.objDaren.arm[i-1].round!=this.objDaren.arm[i].round)&&(n++,arrRound.push({Tid:n,name:"test",battle:intBattle,time:i}))}else arrRound=jsonTables.getJsonTableArrObj("round","battle",e);intArms=0,intArmsBornCount=0,mapCellWidth=objBattle.cellWidth,mapCellHeight=objBattle.cellHeight,horCellNum=Math.floor(this.nodeBattle.width/mapCellWidth),verCellNum=Math.floor(this.nodeBattle.height/mapCellHeight),zzpout("this.nodeBattle.width:"+this.nodeBattle.width),zzpout("horCellNum:"+horCellNum),zzpout("verCellNum:"+verCellNum),arrJice=[],intJiceKongChengJi=0,this.resetPigTime(),arrMap=[];for(var o=0;o<horCellNum;o++){arrMap[o]=[];for(var a=0;a<verCellNum;a++)arrMap[o][a]=1}arrNpcMap=[];for(var s=0;s<horCellNum;s++){arrNpcMap[s]=[];for(var r=0;r<verCellNum;r++)r==verCellNum-1?arrNpcMap[s][r]=constants.battleNpcSide.Wall:arrNpcMap[s][r]=0}this.modifyWallHp(intWallHpMax),this.resetPigTime(),this.updatePigTime();var c=user.getBuildingList();zzpout("building:"+JSON.stringify(c));for(var d=[],l=[],h=0;h<c.length;h++)if(!(c[h]<0)){var u=jsonTables.getJsonTableObj("building",c[h]);d.push2(u.picPackage),l.push2(u.picPath)}l.length>0&&resMgr.loadRes(constants.prefabs.building[0],[constants.prefabs.building[1]],cc.Prefab,function(e){for(var n=0;n<c.length;n++)if(!(c[n]<0)){var i=jsonTables.getJsonTableObj("building",c[n]),o=cc.instantiate(globalAssets[e]);o.parent=t.nodeBattleBuilding.getChildByName("node"+n);var a=t.pos2map(cc.v2(o.parent.position.x,Math.abs(o.parent.position.y)));o.getComponent("nodeBuilding").init(i,a),o.getComponent("nodeBuilding").setFlip(n%2==1),o.getComponent("nodeBuilding").setArrowPane(t.nodeBattleArrow),o.getComponent("nodeBuilding").setPosOffset(t.nodeBattleArrow.position),o.name="building"+n,o.position=cc.v2(0,0)}})},setDaren:function(e){this.objDaren=e},initBuilding:function(){},resetPigTime:function(){var e=jsonTables.getJsonTableObj("pig",user.getPigLevel());user.setPigTime(e.time)},updatePigTime:function(){var e=formatTime(user.getPigTime());if(e!=this.runTimeLastPig)if(this.runTimeLastPig=e,this.nodePigCD.getChildByName("time").getComponent(cc.Label).string=e,!this.nodePigCD.active&&parseInt(user.getPigTime())>0)this.nodePig.off(cc.Node.EventType.TOUCH_START,this.onTouchPig,this),this.nodePig.getChildByName("paopao").active=!1,this.nodePig.getChildByName("pig").getComponent(sp.Skeleton).setAnimation(0,"piano",!0),this.nodePigCD.active=!0;else if(this.nodePigCD.active&&parseInt(user.getPigTime())<=0){this.nodePig.on(cc.Node.EventType.TOUCH_START,this.onTouchPig,this),this.nodePig.getChildByName("paopao").active=!0,this.nodePig.getChildByName("pig").getComponent(sp.Skeleton).setAnimation(0,"jice",!1),this.nodePig.getChildByName("pig").getComponent(sp.Skeleton).addAnimation(0,"jice2",!0),this.nodePigCD.active=!1,this.refreshJice();var t=this;teachTrigger(constants.triggerScene.inBattleJice,function(){t.stopNpc(!0)})}},onTouchStop:function(e){var t=this;e&&e.stopPropagation(),this.stopNpc(!0);for(var n=function(e){cc.tween(t.node).delay(3*e).call(function(){t.drawPath(heroList[e])}).delay(3*(heroList.length+1+enemyList.length+1)).union().repeatForever().start()},i=0;i<heroList.length;i++)n(i);for(var o=function(e){cc.tween(t.node).delay(3*(heroList.length+1+e)).call(function(){t.drawPath(enemyList[e])}).delay(3*(heroList.length+1+enemyList.length+1)).union().repeatForever().start()},a=0;a<enemyList.length;a++)o(a)},drawPath:function(e){var t=this;if(this.nodeBattleFoot.destroyAllChildren(),null!=e){var n=e.getComponent("nodeNpc").tweenPath;resMgr.loadRes("package0",["img/gezi"],cc.SpriteFrame,function(i){for(var o=0;n&&o<n.length;o++){var a=new cc.Node;a.addComponent(cc.Sprite).spriteFrame=globalAssets[i],a.color=(new cc.Color).fromHEX(e.getComponent("nodeNpc").npcSide<constants.battleNpcSide.Side?"#0000ff":"#FF0000"),a.parent=t.nodeBattleFoot,a.position=t.cellToPos(n[o])}})}},posToCell:function(e){return cc.v2(Math.floor(e.x/mapCellWidth),-Math.floor(e.y/mapCellHeight))},cellToPos:function(e){return cc.v2(e.x*mapCellWidth,-e.y*mapCellHeight)},onTouchPig:function(e){this.nodePig.off(cc.Node.EventType.TOUCH_START,this.onTouchPig,this),e&&e.stopPropagation(),zzperr("onTouchPig"),this.nodeJuanZhou.x=0,this.nodeJuanZhou.getComponent(sp.Skeleton).setAnimation(0,"open",!1),this.nodeUI.on(cc.Node.EventType.TOUCH_START,this.onTouchClosePig,this),user.getTeach(constants.teachEventId.battleTeachJice)!=constants.teachEventValue.complete&&(user.setTeach(constants.teachEventId.battleTeachJice,constants.teachEventValue.complete),this.stopNpc(!1))},onTouchClosePig:function(e){zzperr("onTouchClosePig"),e&&e.stopPropagation(),this.showJice(!1),this.nodeJuanZhou.active&&(this.nodeUI.off(cc.Node.EventType.TOUCH_START,this.onTouchClosePig,this),this.nodeJuanZhou.getComponent(sp.Skeleton).setAnimation(0,"close",!1))},refreshJice:function(){var e=[0,1,2,3,4,5];arrJice=[];for(var t=0;t<3;t++){var n=Math.floor(Math.random()*e.length);arrJice.push(e.splice(n,1)[0])}},showJice:function(e){if(e)for(var t=this.nodeJuanZhou.getChildByName("node"),n=0;n<t.childrenCount;n++){var i=t.children[n];i.opacity=255,i.on(cc.Node.EventType.TOUCH_START,this.onTouchJice,this);var o=i.name.substr(-1),a=jsonTables.getJsonTableObj("jiceType",arrJice[o]+1);null==a?zzpout("\u8ba1\u7b56showJice\u4e0d\u5b58\u5728:"+o):i.getChildByName("Background").getComponent("nodeLoadSprite").loadSprite(a.picPackage,a.picPath)}else for(var s=this.nodeJuanZhou.getChildByName("node"),r=0;r<s.childrenCount;r++){var c=s.children[r];c.opacity=0,c.off(cc.Node.EventType.TOUCH_START,this.onTouchJice,this)}},onTouchJice:function(e){var t=this;e&&e.stopPropagation(),this.onTouchClosePig(null),this.resetPigTime();var n,i=e.target.name.substr(-1),o=jsonTables.getJsonTableObj("jiceType",arrJice[i]+1);null==o?zzpout("\u8ba1\u7b56showJice\u4e0d\u5b58\u5728"):function(){for(var e=jsonTables.getJsonTableObj("spine",o.spine),i=user.getPigSkill(o.Tid-1),a=jsonTables.getJsonTable("jiceDetail"),s=a.length,r=null,c=0;c<s;c++)if(a[c].jiceType==o.Tid&&a[c].level==i){r=a[c],user.getCoin()>=r.cost?(n=t,function(){switch(o.Tid){case constants.jice.huoshaolianying:var i=jsonTables.getJsonTableObj("spine",constants.spine.HuoYan),a=jsonTables.getJsonTableObj("spine",constants.spine.XuanWo),s=jsonTables.getJsonTableObj("spine",constants.spine.KuoSan);playSound(constants.sound.battleJice1,!0),cc.tween(t.nodeCover).call(function(){showSpine(n.nodeEffect,cc.v2(0,0),e,[e.event],[function(){for(var t=0;t<3;t++)showSpine(n.nodeEffect,cc.v2((Math.random()-.5)*n.nodeEffect.width,(Math.random()-.5)*n.nodeEffect.height),i,null,null,function(e){spinePool.put(e)});for(var c=enemyList.length,d=0;d<c;d++){var l=enemyList[d].getComponent("nodeNpc").cellPos;enemyList[d].getComponent("nodeNpc").setNpcPos(cc.v2(l.x,Math.max(0,l.y-1))),showSpine(enemyList[d].getComponent("nodeNpc").nodeEffect,cc.v2(0,0),i,null,null,function(e){spinePool.put(e)}),clientEvent.dispatchEvent("jiceAttacked",o,enemyList[d],r.num)}showSpine(n.nodeEffect,cc.v2(0,0),e,[e.event],[function(){for(var t=0;t<3;t++)showSpine(n.nodeEffect,cc.v2((Math.random()-.5)*n.nodeEffect.width,(Math.random()-.5)*n.nodeEffect.height),i,null,null,function(e){spinePool.put(e)});for(var c=enemyList.length,d=0;d<c;d++){var l=enemyList[d].getComponent("nodeNpc").cellPos;enemyList[d].getComponent("nodeNpc").setNpcPos(cc.v2(l.x,Math.max(0,l.y-1))),showSpine(enemyList[d].getComponent("nodeNpc").nodeEffect,cc.v2(0,0),i,null,null,function(e){spinePool.put(e)}),clientEvent.dispatchEvent("jiceAttacked",o,enemyList[d],r.num)}showSpine(n.nodeEffect,cc.v2(0,0),e,[e.event],[function(){for(var e=0;e<3;e++)showSpine(n.nodeEffect,cc.v2((Math.random()-.5)*n.nodeEffect.width,(Math.random()-.5)*n.nodeEffect.height),i,null,null,function(e){spinePool.put(e)});for(var t=enemyList.length,c=0;c<t;c++){var d=enemyList[c].getComponent("nodeNpc").cellPos;enemyList[c].getComponent("nodeNpc").setNpcPos(cc.v2(d.x,Math.max(0,d.y-1))),showSpine(enemyList[c].getComponent("nodeNpc").nodeEffect,cc.v2(0,0),i,null,null,function(e){spinePool.put(e)}),clientEvent.dispatchEvent("jiceAttacked",o,enemyList[c],r.num)}for(var l=Math.min(3,Math.floor(3*Math.random())+3),h=[[-.3,-.3],[.3,-.3],[0,0],[-.3,.3],[.3,.3]],u=function(){var e=Math.floor(Math.random()*h.length),t=h.splice(e,1)[0],c=cc.v2(n.nodeEffect.width*t[0],n.nodeEffect.height*t[1]);cc.tween(n.nodeCover).delay(.5*Math.random()).call(function(){showSpine(n.nodeEffect,c,a,null,null,function(){showSpine(n.nodeEffect,c,s,null,null,function(){for(var e=Math.min(3,Math.floor(3*Math.random())+3),t=0;t<e;t++)showSpine(n.nodeEffect,cc.v2(c.x+140*Math.random()-70,c.y+140*Math.random()-70),i,null,null,function(e){spinePool.put(e)});for(var a=enemyList.length,s=0;s<a;s++)clientEvent.dispatchEvent("jiceAttacked",o,enemyList[s],r.num)})})}).start()},p=0;p<l;p++)u()}],null)}],null)}],null)}).start();break;case constants.jice.kongchengji:intJiceKongChengJi=1,playSound(constants.sound.battleJice2,!0);for(var c=enemyList.length,d=0;d<c;d++)enemyList[d].getComponent("nodeNpc").isCastedKongChengJi();for(var l=heroList.length,h=0;h<l;h++)cc.tween(heroList[h]).to(.3,{opacity:0}).start(),heroList[h].getComponent("nodeNpc").intStatus=constants.npcState.Hide;cc.tween(n.nodeWallBg).to(.3,{opacity:0}).start(),cc.tween(n.nodeHp).to(.3,{opacity:0}).start(),n.nodePigPig.getComponent(sp.Skeleton).enabled=!1,showSpine(n.nodePigPig,cc.v2(0,0),e,null,null,function(){var e=jsonTables.getJsonTableObj("spine",constants.spine.TanQin2);showSpine(n.nodePigPig,cc.v2(0,0),e,null,null,function(){n.nodePigPig.getComponent(sp.Skeleton).enabled=!0,cc.tween(n.nodeWallBg).to(.1,{opacity:255}).start(),cc.tween(n.nodeHp).to(.1,{opacity:255}).start();for(var e=jsonTables.getJsonTableObj("spine",constants.spine.YinBo),t=Math.floor(n.nodeEffect.width/150),i=.5*-n.nodeEffect.height,a=function(a){for(var s=150*Math.floor((a+1)/2)*(1-a%2*2)+(t+1)%2*75,c=function(t){cc.tween(n.nodeEffect).delay(Math.random()*t*.1+t*(.2-.02*t)).call(function(){n.castYinBo(n.nodeEffect,cc.v2(s,i+.2*n.nodeEffect.height*t),e,o,r)}).start()},d=0;d<5;d++)c(d)},s=0;s<t;s++)a(s)},function(e){e.angle=0})},function(e){e.angle=0});break;case constants.jice.shuiyanqijun:playSound(constants.sound.battleJice3,!0),showSpine(n.nodeEffect,cc.v2(0,1*-n.nodeEffect.height),e,null,null,function(){for(var e=enemyList.length,t=0;t<e;t++)clientEvent.dispatchEvent("jiceAttacked",o,enemyList[t],r.num),enemyList[t].getComponent("nodeNpc").setNpcPos(cc.v2(Math.min(arrMap.length-1,enemyList[t].getComponent("nodeNpc").cellPos.x+1),enemyList[t].getComponent("nodeNpc").cellPos.y));var i=jsonTables.getJsonTableObj("spine",constants.spine.ShuiBo);showSpine(n.nodeEffect,cc.v2(0,.25*-n.nodeEffect.height),i,[i.event],[function(){zzperr("\u5c0f\u6c34\u6ce2\u654c\u4eba\u540e\u9000");for(var e=enemyList.length,t=function(e){enemyList[e]&&enemyList[e].getComponent("nodeNpc").setNpcPos(cc.v2(arrMap.length-1,enemyList[e].getComponent("nodeNpc").cellPos.y),function(){enemyList[e]&&(enemyList[e].getComponent("nodeNpc").addBuf(constants.npcBuff.XuanYun,1,r.num),clientEvent.dispatchEvent("jiceAttacked",o,enemyList[e],r.num))})},n=0;n<e;n++)t(n)}],function(){})});break;case constants.jice.wanjianqifa:playSound(constants.sound.battleJice4,!0),cc.tween(t.nodeCover).call(function(){for(var t=n.nodeEffect2.width/r.other,i=n.getWanJianQiFaTargetPos(r.other),a=.5*-n.nodeEffect2.height,s=function(s){var c=Math.floor((s+1)/2)*t*(1-s%2*2)+(r.other+1)%2*.5*t,d=n.cellToPos(i[s]).x-.5*n.nodeEffect2.width,l=n.cellToPos(i[s]).y+.5*n.nodeEffect2.height;cc.tween(n.nodeEffect2).delay(.05*s).call(function(){showSpine(n.nodeEffect,cc.v2(c,a),e,[e.event],[function(e){var t=getRangeTarget(i[s],constants.battleNpcSide.Wall,2,0);if(n.castExplored(o,cc.v2(d,l),4,0,r.num,-1),t.npc.length>0)for(var a=0;a<t.npc.length;a++)clientEvent.dispatchEvent("jiceAttacked",o,t.npc[a],r.num);cc.tween(e).to(1,{opacity:0}).start()}],null,function(e){cc.tween(e).to(.7,{position:cc.v2(d,l)}).start()})}).start()},c=0;c<i.length;c++)s(c)}).delay(1.2).call(function(){}).to(.5,{opacity:0}).start();break;case constants.jice.meirenji:playSound(constants.sound.battleJice5,!0);for(var u=function(t){var i=cc.v2(t<2?.5*-n.nodeEffect2.width-100:.5*n.nodeEffect2.width+100,t%2==0?.3*-n.nodeEffect2.height:.1*n.nodeEffect2.height),a=cc.v2(t<2?.5*-n.nodeEffect2.width-60:.5*n.nodeEffect2.width+60,t%2==0?.3*-n.nodeEffect2.height:.1*n.nodeEffect2.height);showSpine(n.nodeEffect2,i,e,null,null,function(){},function(e){var t=jsonTables.getJsonTableObj("spine",constants.spine.Xin);cc.tween(e).set({opacity:0}).parallel(cc.tween().to(.5,{opacity:255}),cc.tween().to(.5,{position:a})).call(function(){for(var i=function(){var t=cc.v2((2*Math.random()-.5)*n.nodeEffect2.width,.5*n.nodeEffect2.height+50),i=cc.v2(t.x,t.y);i.x-=.5*n.nodeEffect2.width+Math.random()*n.nodeEffect2.width*.2,i.y=.55*-n.nodeEffect2.height,cc.tween(e).delay(3*Math.random()).call(function(){showAnimation(n.nodeEffect2,i,"animation/huaban/huaban",1,!0,function(e){var n=3+Math.random();cc.tween(e).set({scale:1+Math.random()}).set({position:t}).set({opacity:0}).delay(Math.random()).parallel(cc.tween().to(1,{opacity:255}).to(2,{opacity:255}).to(n-3,{opacity:0}),cc.tween().to(n,{position:i})).start()})}).start()},a=0;a<20;a++)i();for(var s=enemyList.length,r=0;r<s;r++)showSpine(enemyList[r].getComponent("nodeNpc").nodeEffect,cc.v2(0,0),t,null,null,null,function(e){cc.tween(e).set({scale:.3}).delay(5).removeSelf().start()}),clientEvent.dispatchEvent("jiceAttacked",o,enemyList[r],5),enemyList[r].getComponent("nodeNpc").stopAction(),enemyList[r].getComponent("nodeNpc").pause(!0),enemyList[r].getComponent("nodeNpc").addBuf(constants.npcBuff.XuanYun,1,0)}).delay(4.5).to(.5,{opacity:0}).call(function(){for(var e=enemyList.length,t=0;t<e;t++)enemyList[t].getComponent("nodeNpc").pause(!1)}).start()})},p=0;p<4;p++)u(p);break;case constants.jice.zhanwubusheng:playSound(constants.sound.battleJice6,!0);for(var g=n.nodeEffect2.width/2,f=.5*-n.nodeEffect2.height-200,m=0;m<2;m++){var v=Math.floor((m+1)/2)*g*(1-m%2*2)+(r.other+1)%2*.5*g;showSpine(n.nodeEffect2,cc.v2(v,f),e,null,null,null,function(e){cc.tween(e).delay(r.num).removeSelf().start()})}for(var b=heroList.length,y=0;y<b;y++)heroList[y].getComponent("nodeNpc").addBuf(constants.npcBuff.Wudi,r.num)}}()):clientEvent.dispatchEvent("showMsg","\u94f6\u4e24\u4e0d\u8db3\uff0c\u9700\u8981"+r.cost);break}}()}}).resetPigTime=function(){var e=jsonTables.getJsonTableObj("pig",user.getPigLevel()),t=parseInt(e.time);user.setPigTime(t)},n.castExplored=function(e,t,n,i,o,a){void 0===a&&(a=0);var s=this,r=jsonTables.getJsonTableObj("spine",constants.spine.Explode);showSpine(s.nodeEffect2,t,r,[r.event],[function(){var r=getRangeTarget(s.posToCell(t),constants.battleNpcSide.Wall,n,i);if(r.npc.length>0)for(var c=0;c<r.npc.length;c++){var d=r.npc[c].getComponent("nodeNpc").cellPos;r.npc[c].getComponent("nodeNpc").setNpcPos(cc.v2(d.x,Math.min(arrMap[0].length-1,Math.max(0,d.y+a)))),clientEvent.dispatchEvent("jiceAttacked",e,r.npc[c],o)}}],null,function(e){e.scale=2+1*Math.random()})},n.castYinBo=function(e,t,n,i,o){var a=this;showSpine(e,t,n,null,null,function(){intJiceKongChengJi=0;for(var e=heroList.length,t=0;t<e;t++)cc.tween(heroList[t]).to(.3,{opacity:255}).start(),heroList[t].getComponent("nodeNpc").intStatus==constants.npcState.Hide&&heroList[t].getComponent("nodeNpc").attHp>0&&(heroList[t].getComponent("nodeNpc").intStatus=constants.npcState.Live)},function(e){cc.tween(e).by(.75,{position:cc.v2(0,.15*a.nodeEffect.height)},{easing:"quadOut"}).start();for(var n=enemyList.length,s=0;s<n;s++)!enemyList[s].getComponent("nodeNpc").paused&&enemyList[s].getComponent("nodeNpc").cellPos.y<t.y+.15*a.nodeEffect.height&&enemyList[s].getComponent("nodeNpc").cellPos.y>t.y&&(zzperr("\u540e\u9000"+s),enemyList[s].getComponent("nodeNpc").setNpcPos(cc.v2(enemyList[s].getComponent("nodeNpc").cellPos.x,Math.max(0,enemyList[s].getComponent("nodeNpc").cellPos.y-3-Math.floor(2*Math.random())))),clientEvent.dispatchEvent("jiceAttacked",i,enemyList[s],o.num))})},n.getWanJianQiFaTargetPos=function(e){for(var t=[],n=enemyList.length,i=0;i<n;i++)if(enemyList[i].getComponent("nodeNpc").intStatus==constants.npcState.Live){var o=enemyList[i].getComponent("nodeNpc").cellPos;t.push(cc.v2(o.x,o.y))}if(t.length<e){for(var a=[],s=arrMap[0].length-1;s>=0;s--)for(var r=0;r<arrMap.length;r++)a.push(cc.v2(r,s));a.sort(function(){return Math.random()-.5}),t.push.apply(t,a)}return zzperr("slice:"+JSON.stringify(t.slice(0,e))),t.slice(0,e)},n.compare=function(e,t){return function(n,i){var o=n[e],a=i[e];return isNaN(Number(o))||isNaN(Number(a))||(o=Number(o),a=Number(a)),o<a?0==t?-1:1:o>a?0==t?1:-1:0}},n.showFormAds=function(){var e=this;intBattleBuff=0;var t=jsonTables.getJsonTable("buff");if(t){var n=Math.floor(Math.random()*t.length);resMgr.loadRes("package0",["prefab/preBattleStartAds"],cc.Prefab,function(t){var i=cc.instantiate(globalAssets[t]);i.name="nodeFormBattleStartAds",i.parent=uiManager.getRoot().parent.getChildByName("uiCover"),i.getComponent("nodeFormBattleStartAds").setType(constants.scenePane.KaiJu1+n),i.getComponent("nodeFormBattleStartAds").setCallback(function(){0==n?sendCustomEvent(constants.event.battle.buffAd1):2==n&&sendCustomEvent(constants.event.battle.buffAd2),intBattleBuff=constants.scenePane.KaiJu1+n;var t=jsonTables.getJsonTableObj("buff",intBattleBuff);intBattleBuff==constants.scenePane.KaiJu1&&user.addCoin(t.num),e.showFormHero()},function(){e.showFormHero()})})}},n.showFormHero=function(){var e=this;resMgr.loadRes("package0",["prefab/preBattleStartHero"],cc.Prefab,function(t){var n=cc.instantiate(globalAssets[t]);n.name="nodeFormBattleStartHero",n.parent=uiManager.getRoot().parent.getChildByName("uiCover"),n.getComponent("nodeFormBattleStartHero").setCallback(function(){sendCustomEvent(constants.event.battle.buffAd3);for(var t=null,n=jsonTables.getJsonTableObj("armType",constants.npcType.QiBing),i=jsonTables.getJsonTableArrObj("arm","type",n.type),o=i.length,a=0;a<o;a++)if(3==i[a].quality&&i[a].level>=50){t=i[a];break}resMgr.loadRes(n.picPackage,["spine/"+n.picPath+"_up/"+n.picPath+"_up","spine/"+n.picPath+"_down/"+n.picPath+"_down"],sp.SkeletonData,null),intStatus=constants.battleState.Ready;for(var s=jsonTables.getJsonTableObj("spine",constants.spine.CallHero1),r=jsonTables.getJsonTableObj("spine",constants.spine.CallHero2),c=jsonTables.getJsonTableObj("spine",constants.spine.CallHero3),d=function(n){var i=cc.v2(n,Math.floor(arrMap[0].length/2)),o=e.cellToPos(i);o.y-=mapCellHeight;var a=cc.v2(o.x,o.y+e.nodeBattleFoot.height);showSpine(e.nodeBattleFoot,a,s,null,null,function(){},function(n){cc.tween(n).set({opacity:255}).set({position:a}).to(1,{position:o},{easing:"quadIn"}).call(function(){var o=n.getComponent(sp.Skeleton),a=null;if(Array.isArray(r.animation)){a=o.setAnimation(0,r.animation[0],1==r.loop);for(var s=1;s<r.animation.length;s++)a=o.addAnimation(0,r.animation[s],1==r.loop)}else a=o.setAnimation(0,r.animation,1==r.loop);o.setTrackCompleteListener(a,function(){if(e.createNpc(t.Tid,null,e.nodeBattleNpc,t.type,i,!1),playSound(constants.sound.battleFinger,!0),Array.isArray(c.animation)){a=o.setAnimation(0,c.animation[0],1==c.loop);for(var s=1;s<c.animation.length;s++)a=o.addAnimation(0,c.animation[s],1==c.loop)}else a=o.setAnimation(0,c.animation,1==c.loop);o.setTrackCompleteListener(a,function(){n&&spinePool.put(n)})})}).start()},!1)},l=0;l<arrMap.length;l+=2)d(l)},function(){intStatus=constants.battleState.Ready})})},n.preCreateNpc=function(){var e=this;resMgr.loadRes(constants.prefabs.npc[0],[constants.prefabs.npc[1]],cc.Prefab,function(t){for(var n=0;n<50;n++)e.arrPreNpc.push(cc.instantiate(globalAssets[t]))})},n.createNpc=function(e,t,n,i,o,a){var s=this;resMgr.loadRes(constants.prefabs.npc[0],[constants.prefabs.npc[1]],cc.Prefab,function(r){if(s.indexNpc==s.arrPreNpc.length)for(var c=0;c<50;c++)s.arrPreNpc.push(cc.instantiate(globalAssets[r]));var d=null;enemyPool.size()>0?d=enemyPool.get():(d=s.arrPreNpc[s.indexNpc],s.indexNpc++),d.parent=n,d.getComponent("nodeNpc").initNpc(e,n,mapCellWidth,mapCellHeight,i,o,t),d.getComponent("nodeNpc").setArrowPane(s.nodeArrowPane),d.getComponent("nodeNpc").setFootPane(s.nodeBattleFoot),d.getComponent("nodeNpc").pause(a),isHero(i)?heroList.push(d):isEnemy(i)&&enemyList.push(d),s.updateLeftEnemy()})},n.getEnemyBornPos=function(){for(var e=arrMap.length,t=(arrMap[0].length,0);t<e;t++){var n=Math.floor(horCellNum/2)+Math.floor((t+1)/2)*(t%2==0?1:-1),i=cc.v2(n,0);if(arrNpcMap[i.x][i.y]==constants.battleNpcSide.None)return i}return null},n.updateLeftEnemy=function(){if(this.nodeLeft.getComponent(cc.Label).string=intTotalEnemy,intTotalEnemy<=0&&intStatus==constants.battleState.Playing){var e=jsonTables.getJsonTable("battle");user.getBattle()<e[e.length-1].Tid&&user.addBattle(),this.battleEnd(0)}},n.onNpcDie=function(e){e.getComponent("nodeNpc").npcSide>constants.battleNpcSide.Side&&(this.intRoundEnemy>0&&this.intRoundEnemy--,0==this.intRoundEnemy&&intRound<arrRound.length&&(intRoundTime=arrRound[intRound].time),zzpout("intRoundEnemy :"+this.intRoundEnemy)),zzpout("intTotalEnemy onNpcDie:"+intTotalEnemy),this.updateLeftEnemy()},n.onAttacked=function(e){e.getComponent("nodeNpc")&&e.getComponent("nodeNpc").npcSide>constants.battleNpcSide.Side&&null==e.getComponent("nodeNpc").nodeAttackTarget&&e.getComponent("nodeNpc").posAttackTarget&&arrNpcMap[e.getComponent("nodeNpc").posAttackTarget.x][e.getComponent("nodeNpc").posAttackTarget.y]==constants.battleNpcSide.Wall&&this.modifyWallHp(-e.getComponent("nodeNpc").attAtk),e.getComponent("nodeArrow")&&e.getComponent("nodeArrow").npcSide>constants.battleNpcSide.Side&&null==e.getComponent("nodeArrow").nodeTarget&&e.getComponent("nodeArrow").posTarget&&arrNpcMap[e.getComponent("nodeArrow").posTarget.x][e.getComponent("nodeArrow").posTarget.y]==constants.battleNpcSide.Wall&&this.modifyWallHp(-e.getComponent("nodeArrow").attAtk)},n.onSkillAttacked=function(e,t){var n=this;if(e)switch(e.Tid){case constants.skill.JinZhanQunShang:resMgr.loadRes("packageBase",["prefab/preSpine"],cc.Prefab,function(e){var i=null;(i=spinePool.size()>0?spinePool.get():cc.instantiate(globalAssets[e])).position=t.position,i.parent=n.nodeBattleFoot})}},n.onJiceAttacked=function(){},n.modifyWallHp=function(e){var t=this;intWallHp=Math.min(intWallHpMax,Math.max(0,intWallHp+e)),this.nodeHp.getComponent(cc.ProgressBar).progress=intWallHpMax>0?intWallHp/intWallHpMax:0,intWallHp<=0&&(zzpout("battleEnd1"),this.battleEnd(1),resMgr.loadRes("package0",["img/wall2"],cc.SpriteFrame,function(e){t.nodeWallBg.getComponent(cc.Sprite).spriteFrame=globalAssets[e]}))},n.battleEnd=function(e){TyqSdk.endGame(0==e),intStatus=0==e?constants.battleState.Win:constants.battleState.Lose},n.enablePlay=function(){this.nodeBattleNpc.on(cc.Node.EventType.TOUCH_START,this.touchMap,this),this.nodeBattleNpc.on(cc.Node.EventType.TOUCH_MOVE,this.touchMoveMap,this),this.nodeBattleNpc.on(cc.Node.EventType.TOUCH_END,this.touchEndMap,this),this.nodeBattleNpc.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancelMap,this)},n.pos2map=function(e){return cc.v2(Math.max(0,Math.min(arrNpcMap.length-1,Math.floor(e.x/mapCellWidth))),Math.max(0,Math.min(arrNpcMap[0].length-1,Math.floor(e.y/mapCellHeight))))},n.stopNpc=function(e){for(var t=enemyList.length,n=0;n<t;n++)enemyList[n].getComponent("nodeNpc").pause(e);for(var i=heroList.length,o=0;o<i;o++)heroList[o].getComponent("nodeNpc").pause(e);for(var a=user.getBuildingList(),s=0;s<a.length;s++)a[s]<0||this.nodeBattleBuilding.getChildByName("node"+s)&&this.nodeBattleBuilding.getChildByName("node"+s).children[0].getComponent("nodeBuilding").pause(e)},n.touchMap=function(e){e&&e.stopPropagation(),this.nodeBattleBg.active=!0,this.arrTouchMap=[];for(var t=0;t<horCellNum;t++){this.arrTouchMap[t]=[];for(var n=0;n<verCellNum;n++)this.arrTouchMap[t][n]=0}this.stopNpc(!0)},n.touchEndMap=function(e){e&&e.stopPropagation(),this.nodeBattleBg.active=!1,this.stopNpc(!1),playSound(constants.sound.battleFinger,!0),zzpout("touchEndMap"),user.getTeach(constants.teachEventId.battleTeachArm)!=constants.teachEventValue.complete&&user.setTeach(constants.teachEventId.battleTeachArm,constants.teachEventValue.complete)},n.touchCancelMap=function(e){e&&e.stopPropagation(),this.nodeBattleBg.active=!1,this.stopNpc(!1),playSound(constants.sound.battleFinger,!0),zzpout("touchCancelMap"),user.getTeach(constants.teachEventId.battleTeachArm)!=constants.teachEventValue.complete&&user.setTeach(constants.teachEventId.battleTeachArm,constants.teachEventValue.complete)},n.touchMoveMap=function(e){if(e&&e.stopPropagation(),!(this.toggleChooseIndex<0))for(var t=e.getTouches(),n=0;n<t.length;n++){var i=user.getBattleArm(this.toggleChooseIndex),o=getItemArm(i);if(null==o)return void zzpout("\u627e\u4e0d\u5230arm ItemId:"+JSON.stringify(i));var a=this.nodeBattleNpc.convertToNodeSpaceAR(t[n].getLocation());a.y=-a.y;var s=this.pos2map(a);0==this.arrTouchMap[s.x][s.y]&&1==arrMap[s.x][s.y]&&(user.getCoin()>=o.price?(user.addCoin(-o.price),this.createNpc(o.Tid,null,this.nodeBattleNpc,o.type,s,!0),playSound(constants.sound.battleCall,!0),this.arrTouchMap[s.x][s.y]=1):clientEvent.dispatchEvent("nocoin","\u94dc\u94b1\u4e0d\u8db3"))}},n.clickBtnArm=function(e){this.setBtnArm(e.node)},n.setBtnArm=function(e){zzperr("setBtnArm:"+e.name);for(var t=0;t<e.childrenCount;t++)zzperr(e.children[t].name);var n=parseInt(e.name);this.toggleChooseIndex=n;for(var i=0;i<this.nodeArms.childrenCount;i++)zzperr("btnArm name:"+i),parseInt(this.nodeArms.children[i].name)===n?(cc.tween(this.nodeArms.children[i]).to(.05,{scale:1.1}).start(),this.nodeArms.children[i].getChildByName("select").active=!0,zzperr("btnArm:"+i+",opacity:255")):(cc.tween(this.nodeArms.children[i]).to(.05,{scale:1}).start(),this.nodeArms.children[i].getChildByName("select").active=!1,zzperr("btnArm:"+i+",opacity:0"))},n.doLogic=function(e){var t=this;switch(intStatus){case constants.battleState.None:null==t.nodeBattleNpc&&zzpout(" None ELELELR"),this.init(),intStatus=constants.battleState.Fuli,SdkMgr.recordStart();break;case constants.battleState.Fuli:null==t.nodeBattleNpc&&zzpout(" Fuli ELELELR");break;case constants.battleState.Ready:null==t.nodeBattleNpc&&zzpout(" Ready ELELELR"),this.enablePlay(),playSound(constants.sound.battleStart,!0),intStatus=constants.battleState.HaoJiao,this.scheduleOnce(function(){playSound(constants.sound.battleBg,!0),intStatus=constants.battleState.Wait},1.5),teachTrigger(constants.triggerScene.inBattle);break;case constants.battleState.HaoJiao:break;case constants.battleState.Wait:user.getTeach(constants.teachEventId.battleTeachArm)==constants.teachEventValue.complete&&(intStatus=constants.battleState.Playing);break;case constants.battleState.Playing:if(user.getPigTime()>0&&!this.nodeBattleBg.active){var n=Math.max(0,user.getPigTime()-e);user.setPigTime(n),this.updatePigTime()}if(intRound<arrRound.length&&intRoundTime>=arrRound[intRound].time){var i=this.getArms(arrRound[intRound].Tid),o=i.length;if(intArms<o){var a=i[intArms].num-intArmsBornCount;if(a>0)for(var s=0;s<a;s++){var r=this.getEnemyBornPos();if(r){var c=jsonTables.getJsonTableObj("enemy",i[intArms].arm);this.createNpc(i[intArms].arm,i[intArms],this.nodeBattleNpc,c.type+constants.battleNpcSide.Side,r,!1),intArmsBornCount++,this.intRoundEnemy++}}intArmsBornCount>=i[intArms].num&&(intArms++,intArmsBornCount=0)}intArms>=o&&(intRound++,intArms=0)}break;case constants.battleState.Win:case constants.battleState.Lose:var d=intStatus==constants.battleState.Win;intStatus=constants.battleState.ShowEnd,SdkMgr.hideBanner(),this.nodePig.off(cc.Node.EventType.TOUCH_START,this.onTouchPig,this),this.nodeJuanZhou.active=!1,stopSound(constants.sound.battleBg),d&&(showWxSceneWinAd(),playSound(constants.sound.wisper,!0)),this.stopNpc(!0),null==uiManager.getRoot().parent.getChildByName("uiCover").getChildByName("nodeFormBattleEndAds")&&resMgr.loadRes("package0",["prefab/preBattleEndAds"],cc.Prefab,function(e){if(null==uiManager.getRoot().parent.getChildByName("uiCover").getChildByName("nodeFormBattleEndAds")){var n=cc.instantiate(globalAssets[e]);n.name="nodeFormBattleEndAds",cc.tween(n).set({opacity:0}).delay(1.2).to(.3,{opacity:255}).call(function(){if(n.parent=uiManager.getRoot().parent.getChildByName("uiCover"),n.getComponent("nodeFormBattleEndAds").setType(d?0:1),d){var e=1;if(intBattleBuff==constants.scenePane.KaiJu2){var i=jsonTables.getJsonTableObj("buff",intBattleBuff);e=i.num}for(var o=[],a=0;a<objBattle.drop.length;a++){var s=jsonTables.getJsonTableObj("item",parseInt(objBattle.drop[a]));o.push(s)}n.getComponent("nodeFormBattleEndAds").init(o,objBattle.dropNum),n.getComponent("nodeFormBattleEndAds").setCallback(function(){t.willClose();for(var n=0;n<o.length;n++)user.addItem(o[n].Tid,3*parseInt(objBattle.dropNum[n])*e);sendCustomEvent(constants.event.battle.winAd)},function(){t.willClose();for(var n=0;n<o.length;n++)user.addItem(o[n].Tid,parseInt(objBattle.dropNum[n])*e);sendCustomEvent(constants.event.battle.win)})}else n.getComponent("nodeFormBattleEndAds").setCallback2(function(){sendCustomEvent(constants.event.battle.loseAd),t.willClose(),user.addYu(200)},function(){t.willClose()});playSound(d?constants.sound.battleWin:constants.sound.battleLose,!0);for(var r=enemyList.length-1;r>=0;r--)enemyList[r]&&(enemyList[r].getComponent("nodeNpc").stopAction(),enemyList[r].getComponent("nodeNpc").pause(!0));for(var c=0;c<heroList.length;c++)heroList[c]&&(heroList[c].getComponent("nodeNpc").stopAction(),heroList[c].getComponent("nodeNpc").pause(!0));for(var l=0;l<arrowList.length;l++)arrowList[l]&&(arrowList[l].removeFromParent(!0),arrowList[l].destroy());arrowList=[]}).delay(2).call(function(){}).start()}});break;case constants.battleState.ShowEnd:}},n.willClose=function(){if(hideWxGrid(constants.switchWechat.switchSceneWinInterAd),hideWxGrid(constants.switchWechat.switchSceneWinGridAd),this.node&&this.node.active){var e=user.getBattle();tyqAd&&2==e&&(intStartCalcBattle0=!0,TyqSdk.startGame(1e4)),this.node.active=!1,tyqAd&&i.default&&(5!=user.getBattle()&&9!=user.getBattle()||(i.default.showDartAd(o.EDartsType.interstitial,uiManager.getRoot().parent.getChildByName("uiAni"),cc.v2(0,0)),TyqSdk.setReqAwardFun(function(){showReward(5==user.getBattle()?constants.switch.switchTyqReward1:constants.switch.switchTyqReward2)})))}},n.onDisable=function(){clientEvent.off("updateMap","nodeScene_updateMap"+this.uid),clientEvent.off("npcDie","nodeScene_onNpcDie"+this.uid),clientEvent.off("attacked","nodeScene_onAttacked"+this.uid),clientEvent.off("skillAttacked","nodeScene_onSkillAttacked"+this.uid),this.nodeJuanZhou.getComponent(sp.Skeleton).setCompleteListener(null),uiManager.getRoot().getComponent("uiRoot").initMenu();for(var e=0;e<spineList.length;e++)spineList[e]&&spineList[e].destroy(),spineList[e]=null;spineList.length=0,spineIndex=0,this.node.destroy()},n.update=function(e){this.runTime-this.runTimeLast>=BATTLE_DT&&(intRoundTime+=this.runTime-this.runTimeLast,this.doLogic(this.runTime-this.runTimeLast),this.runTimeLast=this.runTime),this.runTime+=e},n)),cc._RF.pop()},{"../component/tyq/tyq-sdk":"tyq-sdk","../component/tyq/tyq-view-mgr":"tyq-view-mgr",panel:"panel"}],nodeSetting:[function(e,t){"use strict";cc._RF.push(t,"27ac0ETCsBAzpF1KERcXNcC","nodeSetting");var n=e("panel");cc.Class({extends:n,runTimeLast:0,runTime:0,bolInit:null,properties:{nodeBg:cc.Node,btn0:cc.Node,btn1:cc.Node,btn2:cc.Node,btnClose:cc.Node,nodeWeb:cc.Node,btnCloseWeb:cc.Node},onLoad:function(){this.runTime=0,this.runTimeLast=0,this.bolInit=!1,showByteBanner(this.node,constants.switch.switchOtherBanner),showWxGridHorizontal(constants.switchWechat.switchGrid3,constants.switchWechat.switchGrid3,0)},init:function(){this.btnClose.on(cc.Node.EventType.TOUCH_START,this.onTouchClose,this),this.btn0.on("toggle",this.onClickToggle,this),this.btn1.on("toggle",this.onClickToggle,this),this.btn0.getComponent(cc.Toggle).isChecked=user.getMusic(),this.btn1.getComponent(cc.Toggle).isChecked=user.getSound()},onClickToggle:function(e){0===parseInt(e.node.name.substr(-1))?(user.setMusic(0==user.getMusic()?1:0),this.btn0.getComponent(cc.Toggle).isChecked=user.getMusic(),user.getMusic()?playSound(constants.sound.bg):stopSound(constants.sound.bg)):(user.setSound(0==user.getSound()?1:0),this.btn1.getComponent(cc.Toggle).isChecked=user.getSound())},setCallback:function(e){this.callback=e},onTouchYinsi:function(e){e&&e.stopPropagation(),this.btnCloseWeb.on(cc.Node.EventType.TOUCH_START,this.onTouchCloseWeb,this)},onWebLoading:function(){},onWebError:function(){},onTouchCloseWeb:function(e){e&&e.stopPropagation(),this.btnCloseWeb.off(cc.Node.EventType.TOUCH_START,this.onTouchCloseWeb,this)},onTouchClose:function(e){e&&e.stopPropagation();var t=this;SdkMgr.hideBanner(),this.btnClose.off(cc.Node.EventType.TOUCH_START,this.onTouchClose,this),this.btn0.off("toggle",this.onClickToggle,this),this.btn1.off("toggle",this.onClickToggle,this),t.callback&&t.callback(),cc.tween(this.nodeBg).to(.2,{scale:0},{easing:"backIn"}).call(function(){t.node.active=!1}).start()},onDisable:function(){hideWxGrid(constants.switchWechat.switchGrid3),clientEvent.dispatchEvent("jumpToMenu",2),this.node.destroy()},update:function(e){this.runTime-this.runTimeLast>=RUN_DT&&(this.runTimeLast=this.runTime),this.runTime+=e,this.bolInit||(this.bolInit=!0,this.init())}}),cc._RF.pop()},{panel:"panel"}],nodeShop2Item:[function(e,t){"use strict";cc._RF.push(t,"75328iTyc9DgLyQ1srd9Tq2","nodeShop2Item");var n=e("panel");cc.Class({extends:n,runTimeLast:0,runTime:0,type:0,properties:{},onLoad:function(){this.runTime=0,this.runTimeLast=0,this.node.getChildByName("title").getChildByName("btn").on(cc.Node.EventType.TOUCH_START,this.onTouch,this)},init:function(e,t){var n=this;this.type=e,resMgr.loadRes("packageMenu",[(1==e?"img/dunbing":2==e?"img/bubing":3==e?"img/gongbing":"img/qibing")+3],cc.SpriteFrame,function(e){n.node&&(n.node.getChildByName("left").getChildByName("gongbing").getComponent(cc.Sprite).spriteFrame=globalAssets[e])}),resMgr.loadRes("packageMenu",["imgMenuShop/text"+e],cc.SpriteFrame,function(e){n.node&&(n.node.getChildByName("title").getComponent(cc.Sprite).spriteFrame=globalAssets[e])}),this.node.getChildByName("title").getChildByName("text").getComponent(cc.RichText).string="<b><color=#70f452>"+Math.floor(parseInt(t)/100)+"%</c><color=#ffffff>\u6982\u7387\u51fa\u7ea2\u8272\u5175\u79cd\uff0c\u4e8c\u8fde\u62bd\u5fc5\u4e2d</c><color=#f3f51f>\u7a00\u6709\u5175\u79cd</color></b>"},onTouch:function(e){e.stopPropagation(),user.getAdsFree()>0?(user.addAdsFree(-1),this.callback()):wxMoudle.playVideoAd(this.onTouchAdCallback.bind(this),-1)},onTouchAdCallback:function(e){e!=constants.VideoState.SKIP&&e!=constants.VideoState.PLAY_END||(1==this.type?sendCustomEvent(constants.event.shop.buyShop2Item0):2==this.type?sendCustomEvent(constants.event.shop.buyShop2Item1):3==this.type?sendCustomEvent(constants.event.shop.buyShop2Item2):4==this.type&&sendCustomEvent(constants.event.shop.buyShop2Item3),this.callback())},callback:function(){var e=this,t=uiManager.getRoot().parent.getChildByName("uiCover");resMgr.loadRes("packageMenu",["prefab/preMenuGet3"],cc.Prefab,function(n){var i=cc.instantiate(globalAssets[n]);i.parent=t,i.getComponent("nodeMenuGet3").init(e.type,0)})},onDisable:function(){uiManager.getRoot().parent.getChildByName("uiCover").destroyAllChildren(),this.node.destroy()},update:function(e){this.runTime-this.runTimeLast>=RUN_DT&&(this.runTimeLast=this.runTime),this.runTime+=e}}),cc._RF.pop()},{panel:"panel"}],nodeSkillItem:[function(e,t){"use strict";cc._RF.push(t,"98d95Bk2ZFGwJOIBr4E97tO","nodeSkillItem");var n=e("panel");cc.Class({extends:n,intStatus:0,properties:{nodeIcon:cc.Node,nodeLock:cc.Node,labelLv:cc.Label},onLoad:function(){},init:function(e,t){e>0&&t>0&&(this.objArm=jsonTables.getJsonTableObj("arm",e),this.objSkill=jsonTables.getJsonTableObj("skill",t),this.loadSprite(this.objSkill.picPackage,this.objSkill.picPath),this.objArm.level>=this.objSkill.npcLevel?this.nodeLock.active=!1:this.nodeLock.active=!0,this.labelLv.string="LV:"+this.objSkill.npcLevel)},loadSprite:function(e,t){var n=this;resMgr.loadRes(e,[t],cc.SpriteFrame,function(e){if(n.node){n.nodeIcon.getComponent(cc.Sprite).spriteFrame=globalAssets[e];var t=Math.min(n.node.width,n.node.height);n.node.width=t,n.node.height=t}}.bind(this))},updateSize:function(e,t){if(e>0&&t>0){this.objArm=jsonTables.getJsonTableObj("arm",e),this.objSkill=jsonTables.getJsonTableObj("skill",t);var n=Math.min(this.node.width,this.node.height);this.node.width=n,this.node.height=n,this.objArm.level>=this.objSkill.npcLevel?(this.nodeLock.active&&showUnlockSkill(t),this.nodeLock.active=!1):this.nodeLock.active=!0}},onDisable:function(){this.node.destroy()}}),cc._RF.pop()},{panel:"panel"}],nodeSpine:[function(e,t){"use strict";cc._RF.push(t,"e7870aeWxBCiK2XKyQbXs8J","nodeSpine");var n=e("panel");cc.Class({extends:n,paused:!1,onLoad:function(){this.paused=!1},update:function(){},unuse:function(){this.intStatus=0,this.node.stopAllActions(),this.node.getComponent(sp.Skeleton).skeletonData=null},reuse:function(){},pause:function(e){this.paused=e}}),cc._RF.pop()},{panel:"panel"}],nodeWatchAd:[function(e,t){"use strict";cc._RF.push(t,"0a3b3g3qKJHZq1ueC1K21Bw","nodeWatchAd");var n=e("panel");cc.Class({extends:n,runTimeLast:0,runTime:0,intStatus:0,properties:{nodeIcon:cc.Node,labelLeft:cc.Label,labelBtn:cc.Label,labelMsg:cc.Label,btnDouble:cc.Node,btnClose:cc.Node,nodeBg:cc.Node},onLoad:function(){this.runTime=0,this.runTimeLast=0,this.intStatus=0,zzperr("onLoad")},init:function(e,t,n,i,o,a){void 0===o&&(o=null),void 0===a&&(a=null),this.picPackage=e,this.picPath=t,this.labelMsg.string=i,this.labelBtn.string=n,this.callbackLeft=o,this.callbackRight=a,this.intStatus=1,this.setBtnEnable(!0),showWechatBanner(this.node,constants.switchWechat.switchBanner)},updateIcon:function(){zzperr("load:"+this.picPackage+","+this.picPath),this.nodeIcon.getComponent("nodeLoadSprite").loadSprite(this.picPackage,this.picPath)},onTouchLeft:function(e){e.stopPropagation(),this.setBtnEnable(!1),user.getAdsFree()>0?(this.callbackLeft&&this.callbackLeft(),user.addAdsFree(-1),this.willClose()):wxMoudle.playVideoAd(this.onTouchAdCallback.bind(this),-1)},onTouchRight:function(e){e.stopPropagation(),this.callbackRight&&this.callbackRight(),this.willClose()},onTouchAdCallback:function(e){e==constants.VideoState.SKIP||e==constants.VideoState.PLAY_END?(this.callbackLeft&&this.callbackLeft(),this.willClose()):this.setBtnEnable(!0)},setBtnEnable:function(e){this.btnDouble.off(cc.Node.EventType.TOUCH_START,this.onTouchLeft,this),this.btnClose.off(cc.Node.EventType.TOUCH_START,this.onTouchRight,this),e&&(this.btnDouble.on(cc.Node.EventType.TOUCH_START,this.onTouchLeft,this),this.btnClose.on(cc.Node.EventType.TOUCH_START,this.onTouchRight,this))},willClose:function(){var e=this;cc.tween(this.nodeBg).delay(.1).to(.2,{scale:0},{easing:"backIn"}).call(function(){e.node.active=!1}).start(),cc.tween(this.node.getChildByName("cover")).delay(.1).to(.2,{opacity:0}).call(function(){}).start()},onDisable:function(){this.node.destroy()},update:function(e){1==this.intStatus&&(this.intStatus=2,this.updateIcon()),this.runTime-this.runTimeLast>=RUN_DT&&(this.runTimeLast=this.runTime),this.runTime+=e}}),cc._RF.pop()},{panel:"panel"}],nodeWindowEffect:[function(e,t){"use strict";cc._RF.push(t,"40a06d/GKhL0rCp7nWhoTSf","nodeWindowEffect");var n=e("panel");cc.Class({extends:n,properties:{},onEnable:function(){cc.tween(this.node).set({scale:0}).to(.3,{scale:1},{easing:"elasticOut"}).start()}}),cc._RF.pop()},{panel:"panel"}],nodeYin:[function(e,t){"use strict";cc._RF.push(t,"7cdd5AVVT1A2KV/9T+XztA5","nodeYin"),cc.Class({extends:cc.Component,onLoad:function(){this.node.getChildByName("bg").getChildByName("num").getComponent(cc.Label).string=user.getYin(),clientEvent.on("addYin",this.onAddYin.bind(this),"nodeYin_addYin")},onAddYin:function(e){var t=this,n=parseInt(e.num)-parseInt(e.add);t.node.getChildByName("bg").getChildByName("num").getComponent(cc.Label).string=n,cc.tween({a:0}).to(.3,{a:100},{progress:function(i,o,a,s){t.node&&(t.node.getChildByName("bg").getChildByName("num").getComponent(cc.Label).string=n+Math.floor(e.add*s))}}).start(),e.add>0&&cc.tween(this.node.getChildByName("icon")).to(.1,{scale:1.2}).to(.2,{scale:1}).start()},onDisable:function(){clientEvent.off("addYin","nodeYin_addYin"),this.node.destroy()}}),cc._RF.pop()},{}],nodeYu:[function(e,t){"use strict";cc._RF.push(t,"f99075u68FBS7EgfnuwatCa","nodeYu"),cc.Class({extends:cc.Component,onLoad:function(){this.node.getChildByName("bg").getChildByName("num").getComponent(cc.Label).string=user.getYu(),clientEvent.on("addYu",this.onAddYu.bind(this),"nodeYu_addYu")},onAddYu:function(e){var t=this,n=parseInt(e.num)-parseInt(e.add);t.node.getChildByName("bg").getChildByName("num").getComponent(cc.Label).string=n,cc.tween({a:0}).to(.3,{a:100},{progress:function(i,o,a,s){t.node&&(t.node.getChildByName("bg").getChildByName("num").getComponent(cc.Label).string=n+Math.floor(e.add*s))}}).start(),e.add>0&&cc.tween(this.node.getChildByName("icon")).to(.1,{scale:1.2}).to(.2,{scale:1}).start()},onDisable:function(){clientEvent.off("addYu","nodeYu_addYu"),this.node.destroy()}}),cc._RF.pop()},{}],nodeZibao:[function(e,t){"use strict";cc._RF.push(t,"6da03ZYQT1JIKviIlaOzX7v","nodeZibao");var n=e("panel");cc.Class({extends:n,onLoad:function(){},onAniComplete:function(){this.node.active=!1,zzpout("\u8ba1\u7b56\u81ea\u7206\u52a8\u753b\u5e27 \u7ed3\u675f")},onDisable:function(){this.node.destroy()}}),cc._RF.pop()},{panel:"panel"}],oppoAdMange:[function(e,t,n){"use strict";cc._RF.push(t,"7c3fcBQ/KBHEIsTQ8neSlUZ","oppoAdMange"),Object.defineProperty(n,"__esModule",{value:!0}),n.OPPO=void 0;var i=function(){function e(){this._rewardVideoAdUnitId="388920",this._banneradUnitId="388926",this.nativeadUnitId="388925",this.insertAdUnitId=""}return Object.defineProperty(e.prototype,"bannerAdUnitId",{set:function(e){this._banneradUnitId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rewardedVideoAdUnitId",{set:function(e){this._rewardVideoAdUnitId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"systemInfo",{get:function(){return qg.getSystemInfoSync()},enumerable:!1,configurable:!0}),e.prototype.login=function(){qg.login({success:function(e){console.log("\u767b\u5f55\u6210\u529f: "+JSON.stringify(e.data))},fail:function(e){console.log("\u767b\u5f55\u5931\u8d25: "+JSON.stringify(e))}})},e.prototype.getProfile=function(e){return new Promise(function(t,n){qg.getProfile({token:e,success:function(e){t(e)},fail:function(e){n(e)}})})},e.prototype.exitApplication=function(){qg.exitApplication()},e.prototype.vibrateShort=function(){qg.vibrateShort({success:function(){},fail:function(){},complete:function(){}})},e.prototype.vibrateLong=function(){qg.vibrateLong({success:function(){},fail:function(){},complete:function(){}})},e.prototype.showRewardVideoAd=function(e,t){var n=this;console.log("\u5c55\u793a\u6fc0\u52b1\u89c6\u9891"),this.rewardVideoAd=qg.createRewardedVideoAd({adUnitId:this._rewardVideoAdUnitId}),console.log("\u52a0\u8f7d\u5e7f\u544a"),this.rewardVideoAd.load().then(function(){console.log("promise \u56de\u8c03\uff1a\u52a0\u8f7d\u6210\u529f"),console.log("\u5c55\u793a\u5e7f\u544a"),n.rewardVideoAd.show().then(function(){console.log("promise \u56de\u8c03\uff1a\u5c55\u793a\u6210\u529f")}).catch(function(e){console.log("promise \u56de\u8c03\uff1a\u5c55\u793a\u5931\u8d25 "+JSON.stringify(e))})}).catch(function(e){console.log("promise \u56de\u8c03\uff1a\u52a0\u8f7d\u5931\u8d25 "+JSON.stringify(e))}),this.rewardVideoAd.onClose(function(i){i.isEnded?(cc.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),e(),n.rewardVideoAd.offClose()):(cc.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u53d6\u6d88\u5173\u95ed\uff0c\u4e0d\u53d1\u653e\u5956\u52b1"),t(),n.rewardVideoAd.offClose())})},e.prototype.showBannerAd=function(){console.log("\u5c55\u793abanner\u89c6\u9891"),this.systemInfo.minPlatformVersion<1051||this.bannerAd||(this.bannerAd=qg.createBannerAd({adUnitId:this._banneradUnitId}),console.log("\u521b\u5efa\u6210\u529f"),this.bannerAd.onLoad(function(){cc.log("banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.bannerAd.show(function(){cc.log("banner \u5e7f\u544a\u663e\u793a")}),this.bannerAd.onError(function(e){cc.error("banner \u5e7f\u544a\u51fa\u9519"),cc.error(JSON.stringify(e)),this.bannerAd.destroy(),this.bannerAd=null}))},e.prototype.hideBannerAd=function(){this.bannerAd&&(this.bannerAd.hide(),this.bannerAd.destroy(),this.bannerAd=null)},e.prototype.showInterstitialAd=function(){},e.prototype.creatorInterstitialAd=function(){},e.prototype.createNativeAd=function(e,t){var n=this;if(!(this.systemInfo.platformVersionCode<1051)){this.nativeAd=qg.createNativeAd({posId:this.nativeadUnitId}),this.nativeAd.onLoad(function(t){t&&t.adList&&(console.log("\u539f\u751f\u5e7f\u544a",t),n.reportAdShow(t.adList[0].adId),e&&e(t.adList[0]))}),this.nativeAd.onError(function(e){console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",e),t&&t(e)});var i=this.nativeAd.load();i&&i.then(function(){console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}).catch(function(e){console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",JSON.stringify(e)),t&&t()})}},e.prototype.clickNativeAd=function(e){this.nativeAd&&this.nativeAd.reportAdClick({adId:e})},e.prototype.reportAdShow=function(e){this.nativeAd&&this.nativeAd.reportAdShow({adId:e})},e.prototype.getSetting=function(e,t){void 0===t&&(t=null)},e.prototype.hasShortcutInstalled=function(){this.login(),qg.hasShortcutInstalled({success:function(e){0==e&&qg.installShortcut({success:function(){},fail:function(){},complete:function(){}})},fail:function(){},complete:function(){}})},e.prototype.setLoadingProgress=function(){qg.setLoadingProgress({progress:50})},e.prototype.loadingComplete=function(){qg.loadingComplete({complete:function(){}})},e.prototype.navigateToMiniGame=function(){qg.navigateToMiniGame({pkgName:"com.sjmsj.nearme.gamecenter",path:"?page=pageB",extraData:{from:"pageA"},success:function(){},fail:function(e){console.log(JSON.stringify(e))}})},e._instance=new e,e}();n.OPPO=i._instance,cc._RF.pop()},{}],overWrite:[function(e,t){"use strict";cc._RF.push(t,"12f1cOecYxFdYAwH0V8/2Cx","overWrite"),kf.addModule("basic.overWrite",function(){var e=window.basic.overWrite;return e.hackButton=function(){cc.Button.prototype.onDisable=function(){if(this._hovered=!1,this._pressed=!1,this.node.off(cc.Node.EventType.TOUCH_START,this._onTouchBegan,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this._onTouchEnded,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this),this.node.off(cc.Node.EventType.MOUSE_ENTER,this._onMouseMoveIn,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this._onMouseMoveOut,this),!this._transitionFinished){if(this._transitionFinished=!0,!this.target)return;this.target.scale=this._originalScale}}},e.reBindFuc=function(e,t,n){var i=e[t]?e[t].bind(e):function(){};e[t]=function(){i(),n()}.bind(e)},e.init=function(){cc.Node.prototype.getInstance=function(e,t){if(!(e instanceof cc.Prefab))return cc.error("arguments[0] must be prefab");var n=this.getChildByName(e.name);return!n&&t&&((n=uiResMgr.isPool(e.name)?uiResMgr.getPrefabEx(e.name):cc.instantiate(e)).name=e.name,n.parent=this),n&&(n.active=t),n},cc.Node.prototype.dispatchDiyEvent=function(e,t){if("string"!=typeof e)return!1;var n=new cc.Event.EventCustom(e,!0);return n.setUserData(t),this.dispatchEvent(n),!0},Array.prototype.concatSelf=function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];this.push(i)}return this},Array.prototype.concatSelfShift=function(e){for(var t=e.length-1;t>=0;t--){var n=e[t];this.unshift(n)}return this}},e.getParameterByName=function(e){var t=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},e}),cc._RF.pop()},{}],panel:[function(e,t){"use strict";cc._RF.push(t,"e9e6ex5oE9L9o2JyyJzCllS","panel");var n=cc.Class({extends:cc.Component,_customFlag:!1,ctor:function(){for(var e in Object.defineProperty(this,"clientEvent",{set:function(){console.error("\u4e0d\u5141\u8bb8\u624b\u52a8\u4fee\u6539clientEvent")},get:function(){return this._initEvent()}}),Object.defineProperty(this,"dataManager",{set:function(){console.error("\u4e0d\u5141\u8bb8\u624b\u52a8\u4fee\u6539dataManager")},get:function(){return this._initDataManager()}}),this.close&&window.basic.overWrite.reBindFuc(this,"close",this.closeForBind.bind(this)),window.logic)window.logic.hasOwnProperty(e)&&Object.defineProperty(this,e+"Logic",{set:function(){console.error("\u4e0d\u5141\u8bb8\u624b\u52a8\u4fee\u6539"+e)},get:function(){return this.obj["_"+this.key+"Logic"]||(this.obj["_"+this.key+"Logic"]=kf.require("logic."+this.key)),this.obj["_"+this.key+"Logic"]}.bind({obj:this,key:e})})},widget:function(e,t){var n;return this._widget||(this._widget={}),t?(this._widget[t.name][e]||(this._widget[t.name][e]=kf.getNodeInLoop(this.node,e)),n=this._widget[t.name][e]):(this._widget[e]||(this._widget[e]=kf.getNodeInLoop(this.node,e)),n=this._widget[e]),n},getRootNode:function(){return this.node},setPosition:function(){var e;(e=this.node).setPosition.apply(e,arguments)},getPosition:function(){return this.node.getPosition()},_bindClearFunc:function(){this._isReBind||(this._isReBind=!0,window.basic.overWrite.reBindFuc(this,"onDestroy",this.clearAllEvent.bind(this)))},registerNodeEvent:function(){if(arguments[0]instanceof Array)for(var e=arguments[0],t=0;t<e.length;t++)this._registerNodeEvent.apply(this,e[t]);else this._registerNodeEvent.apply(this,arguments)},_registerNodeEvent:function(e,t,n){"string"==typeof e&&(this.eventNodeObj||(this.eventNodeObj=cc.js.createMap()),this.eventNodeObj[e]?console.error("already have the same event in this panel"):(this.eventNodeObj[e]=t,n?n.on(e,t,this):this.node.on(e,t,this),this._bindClearFunc()))},unregisterNodeEvent:function(e,t){"string"==typeof e&&(this.eventNodeObj[e]?(t?t.off(e,this.eventNodeObj[e],this):this.node.off(e,this.eventNodeObj[e],this),delete this.eventNodeObj[e]):console.error("not found event in this panel"))},registerClientEvent:function(){if(arguments[0]instanceof Array)for(var e=arguments[0],t=0;t<e.length;t++)this._registerClientEvent.apply(this,e[t]);else this._registerClientEvent.apply(this,arguments)},_registerClientEvent:function(e,t,n){"string"==typeof e&&(this.eventObj||(this.eventObj=cc.js.createMap()),this.eventObj[e]?console.error("already have the same event in this panel"):(this.eventObj[e]=function(){var e=this.getRootNode();if(!n){if(!e.getParent())return;if(!e.activeInHierarchy)return}t.apply(this,arguments)}.bind(this),this.clientEvent.on(e,this.eventObj[e]),this._bindClearFunc()))},unregisterClientEvent:function(e){"string"==typeof e&&(this.eventObj[e]?(this.clientEvent.off(e,this.eventObj[e]),delete this.eventObj[e]):console.error("not found event in this panel"))},clearAllEvent:function(){if(this.eventObj){for(var e in this.eventObj)this.unregisterClientEvent(e);this.eventObj=cc.js.createMap()}if(this.eventNodeObj){for(var e in this.eventNodeObj)this.unregisterNodeEvent(e);this.eventNodeObj=cc.js.createMap()}},setSpriteFrame:function(e,t,n){var i=e;cc.textureCache.addImage(t,function(e){if(e instanceof cc.Texture2D)i.spriteFrame=new cc.SpriteFrame(e),n&&n(e);else{var o=t;if(-1!==o.indexOf("resources/")){var a=o.split("resources/");o=a[1]}var s=cc.path.extname(o);s&&(o=o.slice(0,-s.length)),cc.loader.loadRes(o,cc.SpriteFrame,function(e,t){i.spriteFrame=t,n&&n(t)})}})},_initEvent:function(){return this._clientEvent||(this._clientEvent=kf.require("basic.clientEvent")),this._clientEvent},_initDataManager:function(){return this._dataManager||(this._dataManager=kf.require("manager.data")),this._dataManager},closeForBind:function(){this.node.active&&(this.node.active=!1)},close:function(){this.node.active=!1},willShow:function(){},onShow:function(){},onFont:function(){},onAfter:function(){},willHide:function(){},onHide:function(){}});t.exports=n,cc._RF.pop()},{}],playAdOrShare:[function(e,t){"use strict";cc._RF.push(t,"367f1SQiNdEGbX/WWIXvJfr","playAdOrShare");var n=e("panel");cc.Class({extends:n,properties:{shareNode:[cc.Node],playAdNode:[cc.Node]},onLoad:function(){this.open(),kf.require("basic.clientEvent").on("VideoAdChange",this.setRewardType.bind(this),"playAdOrShare_setRewardType")},open:function(){var e=window.videoAd?constants.RewardBtnType.PlayAd:constants.RewardBtnType.Share;this.setRewardType(e,!0)},setRewardType:function(e,t){if(this._type!==constants.RewardBtnType.Close||t){this._type=e;for(var n=0;n<this.shareNode.length;++n)this.shareNode[n].active=e===constants.RewardBtnType.Share;for(var i=0;i<this.playAdNode.length;++i)this.playAdNode[i].active=e===constants.RewardBtnType.PlayAd}}}),cc._RF.pop()},{panel:"panel"}],prefab2Uuid:[function(e,t){"use strict";cc._RF.push(t,"7c07bmXo7tAWZUm7I/y5x1P","prefab2Uuid"),window.prefab2Uuid=window.prefab2Uuid||{},window.prefab2Uuid={mainPanel:{callback:[],instantiate:!1,uuid:"979ee1bb-a078-45d5-9925-c762d7e1e89f",prefabs:["979ee1bb-a078-45d5-9925-c762d7e1e89f"],downloaded:!1}},window.uuid2Prefab=window.uuid2Prefab||{},window.uuid2Prefab={"979ee1bb-a078-45d5-9925-c762d7e1e89f":{downloaded:!1,instantiate:!1,name:"mainPanel"}},cc._RF.pop()},{}],preload:[function(e,t){"use strict";cc._RF.push(t,"ca18076Q/1JW6uXo91UQDQP","preload"),kf.require("basic.overWrite");var n=e("SdkMgr"),i=e("tyq-sdk"),o=e("tyq-event-mgr");cc.Class({extends:cc.Component,properties:{},onLoad:function(){window.SdkMgr=n.sdkMgr,window.TyqSdk=i.tyqSDK,window.eventMgr=o.tyqEventMgr,TyqSdk.init(this.callbackInitSdk.bind(this)),this.lastPlayCrushTime=0,this.lastPlayBgmName=null,this.initModule(),this.overWriteFunc(),this.registerEvent(),cc.resources.load("config",function(e,t){if(e)return zzpout("load config err:"+JSON.stringify(e)),cc.error(e);jsonTables.initTableConfig(t.json),zzpout("load config success"),user.login(),zzperr("Show user.getYinSi():"+user.getYinSi()),zzperr("Show TyqSdk.getSwitchValue(constants.switch.switchPrivacy):"+TyqSdk.getSwitchValue(constants.switch.switchPrivacy)),zzperr("Show TyqSdk.getSwitchValue(constants.switch.switchRealName):"+TyqSdk.getSwitchValue(constants.switch.switchRealName)),(platform=PLATFORM_WECHAT||(1==TyqSdk.getSwitchValue(constants.switch.switchPrivacy)||0==TyqSdk.getSwitchValue(constants.switch.switchPrivacy)&&0==user.getYinSi())&&(1==TyqSdk.getSwitchValue(constants.switch.switchRealName)||0==TyqSdk.getSwitchValue(constants.switch.switchRealName)&&0==user.getShiMing()))&&user.setValidOk(1)}.bind(this)),this.effectArr={},platform==PLATFORM_OPPO&&qg.setLoadingProgress({progress:0}),"undefined"!=typeof wx&&null!=wx&&(wx.setKeepScreenOn({keepScreenOn:!0}),wx.onMemoryWarning(function(){wx.triggerGC()})),"undefined"!=typeof qg&&null!=qg&&qg.setKeepScreenOn({keepScreenOn:!0}),"undefined"!=typeof tt&&null!=tt&&tt.onMemoryWarning&&tt.onMemoryWarning(function(){tt.triggerGC&&tt.triggerGC()})},callbackInitSdk:function(){initSdkSuccess=1,sendCustomEvent(constants.event.load.loading)},registerEvent:function(){cc.game.on(cc.game.EVENT_HIDE,this.eventHide,this),cc.game.on(cc.game.EVENT_SHOW,this.eventShow,this)},initModule:function(){if(this.toolCfg=kf.require("util.toolCfg"),kf.require("manager.resource"),kf.require("manager.ui"),kf.require("basic.uuidUtils"),this.clientEvent=kf.require("basic.clientEvent"),kf.require("logic.user"),kf.require("logic.wxMoudle"),kf.require("basic.constants"),window.logic)for(var e in window.logic)window.logic.hasOwnProperty(e)&&kf.require("logic."+e);resMgr.init(),platform==PLATFORM_OPPO&&(qg.setLoadingProgress({progress:100}),qg.loadingComplete({complete:function(){}}))},playEffect:function(e,t){void 0===t&&(t=!1);var n="audio/"+e,i=function(n){var i=cc.audioEngine.playEffect(globalAssets[n],t||!1);t&&(this.effectArr[e]=i)}.bind(this);resMgr.loadRes("package1",[n],cc.AudioClip,i)},stopEffect:function(e){if(void 0===this.effectArr[e])return console.error("\u6ca1\u6709\u64ad\u8fd9\u4e2a\u97f3\u6548\u554a");cc.audioEngine.stop(this.effectArr[e]),this.effectArr[e]=void 0},overWriteFunc:function(){kf.require("basic.overWrite").hackButton()},eventHide:function(){0===this.hideTime&&(this.hideTime=(new Date).getTime(),resMgr.pauseEffect())},eventShow:function(){resMgr.resumeEffect()}}),cc._RF.pop()},{SdkMgr:"SdkMgr","tyq-event-mgr":"tyq-event-mgr","tyq-sdk":"tyq-sdk"}],remote:[function(e,t){"use strict";cc._RF.push(t,"19b15DPaH9AXL4XIziaEDAa","remote"),kf.addModule("basic.remote",function(){var e={},t=kf.require("basic.api");return e.init=function(){window.Remote=this},e._requestLoginByCode=function(e){var n=e.code,i=e.success,o=e.channel;t.request({success:function(e){cc.sys.localStorage.setItem("_token",e.token),cc.sys.localStorage.setItem("gbaxc_nickname",e.nickname),cc.sys.localStorage.setItem("gbaxc_avatar",e.avatar),cc.sys.localStorage.setItem("gbaxc_uid",e.uid),i(e)},api:"/users",method:"GET",data:{code:n,channel:o}})},e._requestUpdateUser=function(e){var n=e.nickname,i=e.avatar,o=e.success;t.authRequest({success:function(e){cc.sys.localStorage.setItem("gbaxc_nickname",n),cc.sys.localStorage.setItem("gbaxc_avatar",i),o&&o(e)},api:"/users",method:"PUT",data:{nickname:n,avatar:i}})},e.WxUpdateUser=function(e){var t=e.loginBtn,n=e.success,i=this;wx.getUserInfo({success:function(e){e.userInfo&&i._requestUpdateUser({nickname:e.userInfo.nickName,avatar:e.userInfo.avatarUrl,success:n})},fail:function(){t.opacity=255;var e=i.convertRectToWxButton(t);kf.require("util.wxAdapter").hideLoading();var o=wx.createUserInfoButton({type:"image",style:{left:e.x,top:e.y,width:e.width,height:e.height,lineHeight:40,backgroundColor:"#ff0000",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}});o.onTap(function(e){e.userInfo&&i._requestUpdateUser({nickname:e.userInfo.nickName,avatar:e.userInfo.avatarUrl,success:function(e){o.destroy(),n&&n(e)}})})}})},e.WxLogin=function(e){var n=e.success,i=this;if(!CC_WECHATGAME){var o=cc.sys.localStorage.getItem("_userLoginCode");return o||(o=t.getRandomStr(25),cc.sys.localStorage.setItem("_userLoginCode",o)),void i._requestLoginByCode({code:o,channel:constant.Channel.CHANNEL_WEB,success:n})}wx.login({success:function(e){e.code&&i._requestLoginByCode({code:e.code,success:n,channel:constant.Channel.CHANNEL_WECHAT})},fail:function(){console.log("\u5fae\u4fe1\u6388\u6743\u5931\u8d25"),wx.showToast({title:"\u5fae\u4fe1\u6388\u6743\u5931\u8d25",icon:"none",duration:2e3})}})},e.convertRectToWx=function(e,t){var n=cc.winSize.width/2+e.x-e.width/2,i=cc.winSize.height/2-e.y-e.height/2;return{x:n*t.width/cc.winSize.width,y:i*t.height/cc.winSize.height,width:e.width*t.width/cc.winSize.width,height:e.height*t.height/cc.winSize.height}},e.convertRectToWxButton=function(e){var t={x:e.x,y:e.y,width:e.width,height:e.height};return this.convertRectToWx(t,cc.view.getFrameSize())},e.convertViewportToWx=function(e){var t={x:e.x,y:e.y,width:e.width,height:e.height};return this.convertRectToWx(t,cc.view.getViewportRect())},e}),cc._RF.pop()},{}],resMgr:[function(e,t){"use strict";cc._RF.push(t,"922146UlqVFPJhCiVciVkaG","resMgr"),kf.addModule("manager.resource",function(){var e={init:function(){window.resMgr=e,this.effectArr=[],this.intLoadingCount=0,this.intLoadMax=0},loadRes:function(t,n,i,o){clientEvent.dispatchEvent("loading");for(var a=function(a){if(globalAssets[t+"/"+n[a]])o&&o(t+"/"+n[a]),clientEvent.dispatchEvent("loadEnd");else{var s=cc.assetManager.getBundle(t);s?e.loadFile(s,t,n[a],i,o):cc.assetManager.loadBundle(t,null,function(s,r){s?(clientEvent.dispatchEvent("loadEnd"),zzpout("loadBundle Error:"),zzpout(s),loadErrorRestart()):e.loadFile(r,t,n[a],i,o)})}},s=0;s<n.length;s++)a(s)},loadFile:function(t,n,i,o,a){e.loadAssetUrl(t,n,i,o,function(e,t,o){clientEvent.dispatchEvent("loadEnd"),e?(zzpout("loadAssetUrl Error:"+n+"/"+i),zzpout(e),loadErrorRestart()):globalAssets[n+"/"+o]=t,a&&a(n+"/"+o)}.bind(this))},loadAssetUrl:function(e,t,n,i,o){e.load(n,i,function(e,t){e&&zzpout(e),o&&o(e,t,n)})},playEffect:function(t,n,i){void 0===i&&(i=!1);var o=n,a=function(e){if(i){var t=cc.audioEngine.playMusic(globalAssets[e],i||!1),o=n.replace(new RegExp("/","gm"),"");this.effectArr[o]=t}else cc.audioEngine.playEffect(globalAssets[e],i||!1)}.bind(this);e.loadRes(t,[o],cc.AudioClip,a)},resumeEffect:function(){if(this.effectArr)for(obj in this.effectArr)null!=obj&&obj&&cc.audioEngine.resume(obj)},pauseEffect:function(){if(this.effectArr)for(obj in this.effectArr)null!=obj&&obj&&cc.audioEngine.pause(obj)},stopEffect:function(e){var t=e.replace(new RegExp("/","gm"),"");if(void 0===this.effectArr[t])return console.error("\u6ca1\u6709\u64ad\u8fd9\u4e2a\u97f3\u6548\u554a");cc.audioEngine.stopMusic(this.effectArr[t]),this.effectArr[t]=void 0}};return e}),cc._RF.pop()},{}],toolCfg:[function(e,t){"use strict";cc._RF.push(t,"e858cNeUmtCILDHOWIaUj5T","toolCfg"),kf.addModule("basic.toolCfg",function(){var e={init:function(){var e;if(this.jsonData={account:"",password:"",serverIndex:1},this.path=this.getConfigPath(),e=cc.sys.isNative?jsb.fileUtils.getValueMapFromFile(this.path).ctestz:cc.sys.localStorage.getItem("ctestz"),cc.game.config.encript){var t=new Xxtea("upgradeHeroAbility").xxteaDecrypt(e);t&&t.length>0&&(e=t)}if(e&&e.length)try{var n=JSON.parse(e);this.jsonData=n}catch(i){}},setConfigData:function(e,t){var n=this.jsonData.account;this.jsonData[n+this.jsonData.serverId]?this.jsonData[n+this.jsonData.serverId][e]=t:console.error("no account can not save")},getConfigData:function(e){var t=this.jsonData.account;return this.jsonData[t+this.jsonData.serverId]?this.jsonData[t+this.jsonData.serverId][e]:(console.error("no account can not load"),"")},setGlobalData:function(e,t){this.jsonData[e]=t},getGlobalData:function(e){return this.jsonData[e]},setAccountInfo:function(e,t,n){zzperr("setAccountInfo:"+e),this.jsonData.account=e,this.jsonData.password=t,void 0!==n&&(this.jsonData.serverId=n),this.jsonData[e+this.jsonData.serverId]||(this.jsonData[e+this.jsonData.serverId]={})},getAccount:function(){return this.jsonData.account},save:function(){var t=JSON.stringify(this.jsonData);if(cc.game.config.encript&&(t=new Xxtea("upgradeHeroAbility").xxteaEncrypt(t)),!cc.sys.isNative)return cc.sys.localStorage.setItem("ctestz",t),!0;var n={};return n.ctestz=t,jsb.fileUtils.writeToFile(n,e.path),!0},getGuestAccount:function(){return this.jsonData.guest_account?this.jsonData.guest_account:(this.jsonData.guest_account=(new Date).getTime()+""+(0|(Math.random(),10)),this.jsonData.guest_account)},setGuestAccount:function(e){this.jsonData.guest_account=e},getConfigPath:function(){var e=cc.sys;return e===cc.sys.OS_WINDOWS?"src/conf":e===cc.sys.OS_LINUX?"./conf":cc.sys.isNative?jsb.fileUtils.getWritablePath()+"conf":"src/conf"}};return e}),cc._RF.pop()},{}],topOnMgr:[function(e,t,n){"use strict";cc._RF.push(t,"aa424jUWYtOC5QR5RzQxYBT","topOnMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.topOnMgr=void 0;var i,o=e("../../tyq-event-mgr");(function(e){e[e.none=0]="none",e[e.NativeInfomation=1]="NativeInfomation",e[e.NativeBanner=2]="NativeBanner",e[e.NativeCentre=3]="NativeCentre"})(i||(i={}));var a=function(){function e(){this.androidID="a620a2e14edc48",this.appKey="e30dc605c38d53f383dc240362db6456",this.IOSID="a61b01ea8857e0",this.AndroidAd={banner:"b620b0c8281141",interstitial:"b61a8811fe1214",reward:"b620b0caa45337",fullInters:"b620b0ca0ed0d3",nativeInfo:"b620b0c32172fa",nativeBanner:"b620b0c1b58333"},this.IosAd={banner:"b61b02050137e4",interstitial:"b61b02084d5e1e",reward:"b61b020023f2a4",fullInters:"",nativeInfo:"b61b020263082a",nativeBanner:""},this.rewardeVideoLoadCallBack=null,this.interstitialLoadCallBack=null,this.interstitialCloseCallBack=null,this.bannerLoadCallBack=null,this.nativeLoadCallBack=null,this.rewardeFailCallBack=null,this.rewardeSuccess=null,this.nativeSuccessCallBack=null,this.nativeFailCallBack=null,this.bannerSuccessCallBack=null,this.bannerFailCallBack=null,this.curNativeType=i.none,this.bannerIsShow=!1,this.topOnCloseRefresTime=5,this.topOnInterval=null,this.topOnCloseFun=null,this.isTopOnBanner=!0,this.topOnRefreshTime=30,this.nativeSuccessTimer=0}return e.prototype.rewardVideoID=function(){return cc.sys.os==cc.sys.OS_ANDROID?this.AndroidAd.reward:cc.sys.os==cc.sys.OS_IOS?this.IosAd.reward:void 0},e.prototype.InterstitialID=function(){return cc.sys.os==cc.sys.OS_ANDROID?this.AndroidAd.interstitial:cc.sys.os==cc.sys.OS_IOS?this.IosAd.interstitial:void 0},e.prototype.bannerID=function(){return cc.sys.os==cc.sys.OS_ANDROID?this.AndroidAd.banner:cc.sys.os==cc.sys.OS_IOS?this.IosAd.banner:void 0},e.prototype.nativeinfomationID=function(){return cc.sys.os==cc.sys.OS_ANDROID?this.AndroidAd.nativeInfo:cc.sys.os==cc.sys.OS_IOS?this.IosAd.nativeInfo:void 0},e.prototype.nativeBannerID=function(){return cc.sys.os==cc.sys.OS_ANDROID?this.AndroidAd.nativeBanner:cc.sys.os==cc.sys.OS_IOS?this.IosAd.nativeBanner:void 0},e.prototype.FullInterstitial=function(){return cc.sys.os==cc.sys.OS_ANDROID?this.AndroidAd.fullInters:cc.sys.os==cc.sys.OS_IOS?this.IosAd.fullInters:void 0},e.getInstance=function(){return null==this._instance&&(this._instance=new this),this._instance},e.prototype.init=function(){ATJSSDK.setLogDebug(!1),cc.sys.os==cc.sys.OS_IOS?ATJSSDK.initSDK(this.IOSID,this.appKey):cc.sys.os==cc.sys.OS_ANDROID&&ATJSSDK.initSDK(this.androidID,this.appKey),this.setRewardVideAdListener(),this.setInterstitialListener(),this.setBannerListener(),this.setNativeListener(),this.preloadRewardVideoAd(),this.preloadFullInters(),this.preloadIntersitial(),this.preloadBanner()},e.prototype.setRewardVideAdListener=function(){var e=this,t=!1,n={onRewardedVideoAdLoaded:function(t){ATJSSDK.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdLoaded("+t+")"),console.log(e.rewardeVideoLoadCallBack),e.rewardeVideoLoadCallBack&&e.rewardeVideoLoadCallBack(),o.default.ins.onAdLoad()},onRewardedVideoAdFailed:function(t,n){ATJSSDK.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdFailed("+t+", "+n+")"),e.rewardeFailCallBack&&e.rewardeFailCallBack(),console.log("\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25")},onRewardedVideoAdPlayStart:function(e,t){o.default.ins.onAdShow(),ATJSSDK.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdPlayStart("+e+", "+t+")")},onRewardedVideoAdPlayEnd:function(e,t){ATJSSDK.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdPlayEnd("+e+", "+t+")")},onRewardedVideoAdPlayFailed:function(t,n,i){ATJSSDK.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdPlayFailed("+t+", "+n+", "+i+")"),e.rewardeFailCallBack&&e.rewardeFailCallBack(),console.log("\u5e7f\u544a\u64ad\u653e\u5931\u8d25")},onRewardedVideoAdClosed:function(n,i){ATJSSDK.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdClosed("+n+", "+i+")"),setTimeout(function(){t?(o.default.ins.onAdSuccess(),e.rewardeSuccess&&(e.rewardeSuccess(),e.rewardeSuccess=null)):(o.default.ins.onAdCancel(),e.rewardeFailCallBack&&e.rewardeFailCallBack()),console.log("\u5e7f\u544a\u88ab\u5173\u95ed",t),e.preloadRewardVideoAd()},0)},onRewardedVideoAdPlayClicked:function(e,t){ATJSSDK.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdPlayClicked("+e+", "+t+")")},onReward:function(e,n){ATJSSDK.printLog("AnyThinkRewardedVideoDemo::onReward("+e+", "+n+")"),t=!0,console.log("\u5e7f\u544a\u64ad\u653e\u6210\u529f")}};ATRewardedVideoJSSDK.setAdListener(n)},e.prototype.setInterstitialListener=function(){var e=this,t={onInterstitialAdLoaded:function(t){ATJSSDK.printLog("AnyThinkInterstitialDemo::onInterstitialAdLoaded("+t+")"),e.interstitialLoadCallBack&&(e.interstitialLoadCallBack(),e.interstitialLoadCallBack=null),console.log("\u63d2\u5c4f\u52a0\u8f7d\u6210\u529f")},onInterstitialAdLoadFail:function(t,n){ATJSSDK.printLog("AnyThinkInterstitialDemo::onInterstitialAdLoadFail("+t+", "+n+")"),e.interstitialCloseCallBack&&(e.interstitialCloseCallBack(),e.interstitialCloseCallBack=null),console.log("\u63d2\u5c4f\u52a0\u8f7d\u5931\u8d25")},onInterstitialAdFailedToPlayVideo:function(e,t){ATJSSDK.printLog("AnyThinkInterstitialDemo::onInterstitialAdFailedToPlayVideo("+e+", "+t+")"),console.log("\u63d2\u5c4f\u64ad\u653e\u5931\u8d25")},onInterstitialAdFailedToShow:function(){e.interstitialCloseCallBack&&(e.interstitialCloseCallBack(),e.interstitialCloseCallBack=null),console.log("\u63d2\u5c4f\u5c55\u793a\u5931\u8d25")},onInterstitialAdClose:function(t,n){ATJSSDK.printLog("AnyThinkInterstitialDemo::onInterstitialAdClose("+t+", "+n+")"),e.interstitialCloseCallBack&&(e.interstitialCloseCallBack(),e.interstitialCloseCallBack=null),console.log("\u63d2\u5c4f\u88ab\u5173\u95ed")}};console.log("\u63d2\u5c4fATInterstitialJSSDK"),ATInterstitialJSSDK.setAdListener(t)},e.prototype.setBannerListener=function(){var e=this,t={onBannerAdLoaded:function(t){ATJSSDK.printLog("AnyThinkBannerDemo::onBannerAdLoaded("+t+")"),e.bannerLoadCallBack&&e.bannerLoadCallBack(),console.log("banner\u52a0\u8f7d\u6210\u529f")},onBannerAdCloseButtonTapped:function(){e.preloadBanner()},onBannerAdLoadFail:function(t,n){ATJSSDK.printLog("AnyThinkBannerDemo::onBannerAdLoadFail("+t+", "+n+")"),e.bannerFailCallBack&&(e.bannerFailCallBack(),e.bannerFailCallBack=null),console.log("1111111111111111111"),console.log("banner\u52a0\u8f7d\u5931\u8d25")},onBannerAdShow:function(t,n){ATJSSDK.printLog("AnyThinkBannerDemo::onBannerAdShow("+t+", "+n+")"),e.bannerSuccessCallBack&&(e.bannerSuccessCallBack(),e.bannerSuccessCallBack=null),e.bannerIsShow=!0,console.log("banner\u5c55\u793a\u6210\u529f")},onBannerAdClick:function(e,t){ATJSSDK.printLog("AnyThinkBannerDemo::onBannerAdClick("+e+", "+t+")")},onBannerAdAutoRefresh:function(e,t){ATJSSDK.printLog("AnyThinkBannerDemo::onBannerAdAutoRefresh("+e+", "+t+")")},onBannerAdAutoRefreshFail:function(e,t){ATJSSDK.printLog("AnyThinkBannerDemo::onBannerAdAutoRefreshFail("+e+", "+t+")")}};ATBannerJSSDK.setAdListener(t)},e.prototype.setNativeListener=function(){var e=this,t={onNativeAdLoaded:function(t){ATJSSDK.printLog("AnyThinkNativeDemo::onNativeAdLoaded("+t+")"),e.nativeLoadCallBack&&e.nativeLoadCallBack()},onNativeAdCloseButtonTapped:function(t,n){ATJSSDK.printLog("AnyThinkNativeDemo::onNativeAdCloseButtonTapped("+t+", "+n+")"),clearTimeout(e.nativeSuccessTimer),e.removeNativeAD()},onNativeAdLoadFail:function(t,n){ATJSSDK.printLog("AnyThinkNativeDemo::onNativeAdLoadFail("+t+", "+n+")"),this.curNativeType=i.none,e.nativeFailCallBack&&(e.nativeFailCallBack(),e.nativeFailCallBack=null)},onNativeAdShow:function(t,n){ATJSSDK.printLog("AnyThinkNativeDemo::onNativeAdShow("+t+", "+n+")"),e.nativeSuccessCallBack&&(e.nativeSuccessCallBack(),e.nativeSuccessCallBack=null),clearTimeout(e.nativeSuccessTimer),e.nativeSuccessTimer=setTimeout(function(){e.removeNativeAD()},5e3)},onNativeAdClick:function(e,t){ATJSSDK.printLog("AnyThinkNativeDemo::onNativeAdClick("+e+", "+t+")")},onNativeAdVideoStart:function(e){ATJSSDK.printLog("AnyThinkNativeDemo::onNativeAdVideoStart("+e+")")},onNativeAdVideoEnd:function(e){ATJSSDK.printLog("AnyThinkNativeDemo::onNativeAdVideoEnd("+e+")")}};ATNativeJSSDK.setAdListener(t)},e.prototype.showRewardVideoAd=function(e,t){var n=this;this.rewardeSuccess=e,this.rewardeFailCallBack=t||null,this.rewardeVideoLoadCallBack=function(){ATRewardedVideoJSSDK.showAd(n.rewardVideoID())},ATRewardedVideoJSSDK.loadRewardedVideo(this.rewardVideoID(),{})},e.prototype.preloadRewardVideoAd=function(){this.rewardeVideoLoadCallBack=null,ATRewardedVideoJSSDK.loadRewardedVideo(this.rewardVideoID(),{})},e.prototype.preloadFullInters=function(){this.interstitialLoadCallBack=null;var e={};e[ATInterstitialJSSDK.UseRewardedVideoAsInterstitial]=!0,ATInterstitialJSSDK.loadInterstitial(this.FullInterstitial(),e)},e.prototype.preloadIntersitial=function(){this.interstitialLoadCallBack=null;var e={};e[ATInterstitialJSSDK.UseRewardedVideoAsInterstitial]=!0,ATInterstitialJSSDK.loadInterstitial(this.InterstitialID(),e)},e.prototype.showInterstitialAd=function(e){var t=this;this.interstitialCloseCallBack=function(){t.preloadIntersitial(),e&&e()},this.interstitialLoadCallBack=function(){ATInterstitialJSSDK.showAd(t.InterstitialID())};var n={};n[ATInterstitialJSSDK.UseRewardedVideoAsInterstitial]=!0,ATInterstitialJSSDK.loadInterstitial(this.InterstitialID(),n),console.log("\u63d2\u5c4f\u5e7f\u544a\u4ee3\u7801")},e.prototype.showBannerAd=function(e,t,n,i){var o=this;this.bannerSuccessCallBack=null,this.bannerFailCallBack=null,n&&(this.bannerSuccessCallBack=n),i&&(this.bannerFailCallBack=i);var a={};this.bannerLoadCallBack=function(){e&&cc.isValid(e)&&0!=e.active&&("top"==t?ATBannerJSSDK.showAdInPosition(o.bannerID(),ATBannerJSSDK.kATBannerAdShowingPositionTop):ATBannerJSSDK.showAdInPosition(o.bannerID(),ATBannerJSSDK.kATBannerAdShowingPositionBottom))},a[ATBannerJSSDK.kATBannerAdLoadingExtraBannerAdSizeStruct]=ATBannerJSSDK.createLoadAdSize(cc.view.getFrameSize().width/2,.2*cc.view.getFrameSize().height),a[ATBannerJSSDK.kATBannerAdAdaptiveWidth]=cc.view.getFrameSize().width,a[ATBannerJSSDK.kATBannerAdAdaptiveOrientation]=ATBannerJSSDK.kATBannerAdAdaptiveOrientationPortrait,ATBannerJSSDK.loadBanner(this.bannerID(),a),console.log("banner\u4ee3\u7801")},e.prototype.preloadBanner=function(){this.bannerLoadCallBack=null,ATBannerJSSDK.loadBanner(this.bannerID(),{})},e.prototype.removeBannerAd=function(){ATBannerJSSDK.removeAd(this.bannerID()),this.preloadBanner()},e.prototype.showNativeInfomation=function(e,t){var n=this;this.curNativeType==i.none&&(this.nativeSuccessCallBack=null,this.nativeFailCallBack=null,e&&(this.nativeSuccessCallBack=e),t&&(this.nativeFailCallBack=t),this.nativeLoadCallBack=function(){var e=cc.view.getFrameSize(),t=e.width,i=e.height,o=e.width/35,a=t,s=.3*a,r=t/7,c=new ATNativeJSSDK.AdViewProperty;c.parent=c.createItemViewProperty(0,i-s,a,s,"#ffffff","",0),c.appIcon=c.createItemViewProperty(0,s-r,r,r,"","",0),c.cta=c.createItemViewProperty(a-2*r,s-r,2*r,r,"#2095F1","#ffffff",r/3),c.mainImage=c.createItemViewProperty(o,o,a-2*o,s-r-2*o,"#ffffff","#ffffff",14),c.title=c.createItemViewProperty(r+o,s-r,a-3*r-2*o,r/2,"","#000000",r/3),c.desc=c.createItemViewProperty(r+o,s-r/2,a-3*r-2*o,r/2,"#ffffff","#000000",r/4),c.dislike=c.createItemViewProperty(a-r/2,0,r/2,r/2,"#00ffffff","#ffffff",14),ATNativeJSSDK.showAd(n.nativeinfomationID(),c)},ATNativeJSSDK.loadNative(this.nativeinfomationID(),ATNativeJSSDK.createLoadAdSize(cc.view.getFrameSize().width,.3*cc.view.getFrameSize().width)),this.curNativeType=i.NativeInfomation)},e.prototype.showNativeBanner=function(){var e=this;this.curNativeType==i.none&&(this.nativeLoadCallBack=function(){var t=cc.view.getFrameSize(),n=t.width,i=t.height,o=t.width/35,a=n,s=.3*n,r=s,c=new ATNativeJSSDK.AdViewProperty;c.parent=c.createItemViewProperty(0,i-s,a,s,"#ffffff","",0),c.appIcon=c.createItemViewProperty(0,s-r,r,r,"","",0),c.mainImage=c.createItemViewProperty(o,o,a-2*o,s-r-2*o,"#ffffff","#ffffff",14),c.cta=c.createItemViewProperty(a-2*r,s-r,2*r,r,"#2095F1","#ffffff",r/3),c.title=c.createItemViewProperty(r+o,s-r,a-3*r-2*o,r/2,"","#000000",r/3),c.desc=c.createItemViewProperty(r+o,s-r/2,a-3*r-2*o,r/2,"#ffffff","#000000",r/4),c.dislike=c.createItemViewProperty(a-r/2,i-s,r/2,r/2,"#00ffffff","#ffffff",14),ATNativeJSSDK.showAd(e.nativeBannerID(),c)},ATNativeJSSDK.loadNative(this.nativeBannerID(),ATNativeJSSDK.createLoadAdSize(cc.view.getFrameSize().width,.3*cc.view.getFrameSize().width)),this.curNativeType=i.NativeBanner)},e.prototype.showNativeInfomationOfCentre=function(){var e=this;this.curNativeType==i.none&&(this.nativeLoadCallBack=function(){var t=cc.view.getFrameSize(),n=t.width,i=t.height,o=t.width/35,a=4*n/5,s=4*i/5,r=n/6,c=new ATNativeJSSDK.AdViewProperty;c.parent=c.createItemViewProperty(n/2-a/2,i/2-s/2,a,s,"#ffffff","",0),c.appIcon=c.createItemViewProperty(0,s-r,r,r,"","",0),c.cta=c.createItemViewProperty(a-2*r,s-r,2*r,r,"#2095F1","#ffffff",r/3),c.mainImage=c.createItemViewProperty(o,o,a-2*o,s-r-2*o,"#ffffff","#ffffff",14),c.title=c.createItemViewProperty(r+o,s-r,a-3*r-2*o,r/2,"","#000000",r/3),c.desc=c.createItemViewProperty(r+o,s-r/2,a-3*r-2*o,r/2,"#ffffff","#000000",r/4),c.dislike=c.createItemViewProperty(a-r/2,0,r/2,r/2,"#00ffffff","#ffffff",14),ATNativeJSSDK.showAd(e.nativeinfomationID(),c)},ATNativeJSSDK.loadNative(this.nativeinfomationID(),ATNativeJSSDK.createLoadAdSize(cc.view.getFrameSize().width,4*cc.view.getFrameSize().width/5)),this.curNativeType=i.NativeCentre)},e.prototype.removeNativeAD=function(){if(this.curNativeType!=i.none){switch(this.curNativeType){case i.NativeBanner:ATNativeJSSDK.removeAd(this.nativeBannerID());break;case i.NativeCentre:case i.NativeInfomation:ATNativeJSSDK.removeAd(this.nativeinfomationID())}this.curNativeType=i.none}},e.prototype.showFullInterstitial=function(e){var t=this;this.interstitialCloseCallBack=function(){t.preloadFullInters(),e&&e()},this.interstitialLoadCallBack=function(){ATInterstitialJSSDK.showAd(t.FullInterstitial())};var n={};n[ATInterstitialJSSDK.UseRewardedVideoAsInterstitial]=!0,ATInterstitialJSSDK.loadInterstitial(this.FullInterstitial(),n)},e._instance=null,e}();n.topOnMgr=a.getInstance(),cc._RF.pop()},{"../../tyq-event-mgr":"tyq-event-mgr"}],toutiao:[function(e,t,n){"use strict";cc._RF.push(t,"8785eqWUtJKabaulvgtUvVd","toutiao"),Object.defineProperty(n,"__esModule",{value:!0}),n.Toutiao=void 0;var i=e("../../tyq-event-mgr"),o=function(){function e(){this.systemInfo=null,this.bannerAd=null,this.rewardedVideoAd=null,this.GameRecorderManager=null,this.ContactButton=null,this.MoregameButton=null,this.startListener=null,this.resumeListener=null,this.pauseListener=null,this.stopListener=null,this.errorListener=null,this.interrupBeginListener=null,this.interrupEndListener=null,this._bannerAdUnitId="1tdp8pkef513sukf3r",this._bannerAdRefreshTimeOutId=0,this._rewardedVideoAdUnitId="13al5nf75c7b266294",this._closeRewardVideoListener=null,this.__interstitialAdUnitId="2b91j800ki0egngc88",this.interstitialAd=null,window.tt&&this.registerRecordScreenEvent()}return Object.defineProperty(e.prototype,"bannerAdUnitId",{set:function(e){this._bannerAdUnitId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rewardedVideoAdUnitId",{set:function(e){this._rewardedVideoAdUnitId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"closeRewardVideoListener",{set:function(e){this._closeRewardVideoListener=e},enumerable:!1,configurable:!0}),e.prototype.toutiaoLogin=function(){var e=this;return new Promise(function(t,n){e.getSystemInfoSync();var i={code:"",anonymousCode:"",name:null,photo:null};e.login().then(function(o){i.code=o.code,i.anonymousCode=o.anonymousCode,o.isLogin?e.getUserInfo().then(function(e){i.name=e.userInfo.nickName,i.photo=e.userInfo.avatarUrl,t(i)}).catch(function(){n(i)}):t(null)}).catch(function(){n(null)})})},e.prototype.login=function(){return new Promise(function(e,t){tt.login({force:!1,success:function(t){console.log("login\u8c03\u7528\u6210\u529f"+t.code+" "+t.anonymousCode),e(t)},fail:function(){console.log("login\u8c03\u7528\u5931\u8d25"),t()}})})},e.prototype.getUserInfo=function(){if(cc.sys.platform==cc.sys.BYTEDANCE_GAME)return new Promise(function(e,t){tt.getUserInfo({withCredentials:!0,success:function(t){console.log("getUserInfo\u8c03\u7528\u6210\u529f"+t.userInfo),e(t)},fail:function(e){console.log("getUserInfo\u8c03\u7528\u5931\u8d25: ",e),t()}})})},e.prototype.showBannerAd=function(t){var n=this;void 0===t&&(t=10),console.log("\u521b\u5efabanner\u5e7f\u544a"),cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(e.isSupportedAPI(tt.createBannerAd)?(this.hideBannerAd(),this.createBannerAd(),this.bannerAd.onLoad(function(){console.log("=====> @framework, banner\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),n.bannerAd.show().then(function(e){console.log("----\x3e =====> @framework, banner\u5e7f\u544a show \u6210\u529f",e)}).catch(function(e){console.log("----\x3e =====> @framework, banner\u5e7f\u544a show \u5931\u8d25",e)}),0!=n._bannerAdRefreshTimeOutId&&(clearTimeout(n._bannerAdRefreshTimeOutId),n._bannerAdRefreshTimeOutId=0),t>0&&(n._bannerAdRefreshTimeOutId=setTimeout(function(){n.bannerAd&&n.showBannerAd(t)},1e3*t))})):console.log("\u4e0d\u652f\u6301banner\u5e7f\u544a"))},e.prototype.hideBannerAd=function(){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(console.log("----\x3e hideBannerAd",this.bannerAd),this.bannerAd&&(this.bannerAd.hide(),this.bannerAd.destroy(),this.bannerAd=null))},e.prototype.createBannerAd=function(){var e=this;cc.sys.platform!=cc.sys.BYTEDANCE_GAME||(console.log("12342365476572354r52345"),console.log(this._bannerAdUnitId),this.bannerAd)||(this.bannerAd=tt.createBannerAd({adUnitId:this._bannerAdUnitId,style:{top:this.systemInfo.windowHeight-117,left:(this.systemInfo.windowWidth-208)/2,width:208}}),this.bannerAd.onError(function(e){console.log("=====> @framework, banner\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a",e)}),this.bannerAd.onResize(function(t){e.bannerAd&&208!==t.width&&(e.bannerAd.style.top=e.systemInfo.windowHeight-t.height,e.bannerAd.style.left=(e.systemInfo.windowWidth-t.width)/2,e.bannerAd.style.width=t.width)}))},e.prototype.showRewardVideoAd=function(){var e=this;if(cc.sys.platform==cc.sys.BYTEDANCE_GAME)return new Promise(function(t,n){e.createRewardedVideoAd().then(function(){i.default.ins.onAdLoad(),e.rewardedVideoAd.show().then(function(){i.default.ins.onAdShow()}).catch(function(){e.rewardedVideoAd.load().then(function(){i.default.ins.onAdLoad(),i.default.ins.onAdShow(),e.rewardedVideoAd.show()})})},function(){return console.log("=====>\xa0@framework,\xa0\u5956\u52b1\u89c6\u9891\u5bf9\u8c61\u4e3a\u4e0d\u5b58\u5728"),n(),null});var o=function(n){n.isEnded?i.default.ins.onAdSuccess():i.default.ins.onAdCancel(),t(n.isEnded),e.closeRewardVideo(),e.rewardedVideoAd.offClose(o)};e.rewardedVideoAd.onClose(o);var a=function(t){console.log("=====>\xa0@framework,\xa0\u52a0\u8f7d\u5956\u52b1\u89c6\u9891\u9519\u8bef\uff1a",t);var i="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u672a\u77e5\u539f\u56e0";switch(t.errCode){case 1e3:i="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u540e\u7aef\u9519\u8bef\u8c03\u7528\u5931\u8d25";break;case 1001:i="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u53c2\u6570\u9519\u8bef";break;case 1002:i="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u5e7f\u544a\u5355\u5143\u65e0\u6548";break;case 1003:i="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u5185\u90e8\u9519\u8bef";break;case 1004:i="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u65e0\u9002\u5408\u7684\u5e7f\u544a";break;case 1005:i="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u5e7f\u544a\u7ec4\u4ef6\u5ba1\u6838\u4e2d";break;case 1006:i="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u5e7f\u544a\u7ec4\u4ef6\u88ab\u9a73\u56de";break;case 1007:i="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u5e7f\u544a\u80fd\u529b\u88ab\u7981\u7528";break;case 1008:i="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u5e7f\u544a\u5355\u5143\u5df2\u5173\u95ed";break;case 20002:i="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u4e0d\u652f\u6301\xa0banner\xa0\u5e7f\u544a\xa0API";break;case 120002:i="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u4eca\u65e5\u89c2\u770b\u5e7f\u544a\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650"}n(i),e.rewardedVideoAd.offError(a)};e.rewardedVideoAd.onError(a)})},e.prototype.showInterstitialAd=function(){var e=this;cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(console.log("\u63d2\u5c4f\u5e7f\u544a"),this.creatorInterstitialAd().then(function(){e.interstitialAd.show().then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(t){console.log(t),console.log("\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u5931\u8d25"),e.interstitialAd.load().then(function(){e.interstitialAd.show()})})}))},e.prototype.creatorInterstitialAd=function(){var e=this;return new Promise(function(t,n){return tt.createInterstitialAd?e.interstitialAd?(console.log("\u63d2\u5c4f\u5e7f\u544a\u5df2\u7ecf\u521b\u5efa"),void t()):(e.interstitialAd=tt.createInterstitialAd({adUnitId:e.__interstitialAdUnitId}),void e.interstitialAd.load().then(function(){t()},function(e){console.log("\u63d2\u5c4f\u5e7f\u544a\u51fa\u9519\u5566"),console.log(e)}).catch(function(e){console.log("\u63d2\u5c4f\u5e7f\u544a\u51fa\u9519"),console.log(e),n()})):(console.log("\u4e0d\u652f\u6301\u63d2\u5c4f\u5e7f\u544a"),void n())})},e.prototype.showRewardVideoAd1=function(e){var t=this;if(cc.sys.platform==cc.sys.BYTEDANCE_GAME)return new Promise(function(n,i){if(t.createRewardedVideoAd(),!t.rewardedVideoAd)return console.log("=====> @framework, \u5956\u52b1\u89c6\u9891\u5bf9\u8c61\u4e3a\u4e0d\u5b58\u5728"),tt.uma.trackEvent("touchVideo",{source:e,state:"\u5931\u8d25"}),i(),null;t.rewardedVideoAd.load().then(function(){t.rewardedVideoAd.show()}).catch(function(t){console.log("----\x3e =====> @framework, \u5956\u52b1\u89c6\u9891show\u5931\u8d25",t),i(),tt.uma.trackEvent("touchVideo",{source:e,state:"\u5931\u8d25"})});var o=function(a){a.isEnded?(n(),tt.uma.trackEvent("touchVideo",{source:e,state:"\u6210\u529f"})):(i(),tt.uma.trackEvent("touchVideo",{source:e,state:"\u5931\u8d25"})),t.closeRewardVideo(),t.rewardedVideoAd.offClose(o)};t.rewardedVideoAd.onClose(o);var a=function(n){console.log("=====> @framework, \u52a0\u8f7d\u5956\u52b1\u89c6\u9891\u9519\u8bef\uff1a",n);var o="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u672a\u77e5\u539f\u56e0";switch(n.errCode){case 1e3:o="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u540e\u7aef\u9519\u8bef\u8c03\u7528\u5931\u8d25";break;case 1001:o="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u53c2\u6570\u9519\u8bef";break;case 1002:o="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u5e7f\u544a\u5355\u5143\u65e0\u6548";break;case 1003:o="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u5185\u90e8\u9519\u8bef";break;case 1004:o="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u65e0\u9002\u5408\u7684\u5e7f\u544a";break;case 1005:o="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u5e7f\u544a\u7ec4\u4ef6\u5ba1\u6838\u4e2d";break;case 1006:o="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u5e7f\u544a\u7ec4\u4ef6\u88ab\u9a73\u56de";break;case 1007:o="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u5e7f\u544a\u80fd\u529b\u88ab\u7981\u7528";break;case 1008:o="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u5e7f\u544a\u5355\u5143\u5df2\u5173\u95ed";break;case 20002:o="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u4e0d\u652f\u6301 banner \u5e7f\u544a API";break;case 120002:o="\u89c2\u770b\u5e7f\u544a\u5931\u8d25\uff1a\u4eca\u65e5\u89c2\u770b\u5e7f\u544a\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650"}i(o),tt.uma.trackEvent("touchVideo",{source:e,state:"\u5931\u8d25"}),t.rewardedVideoAd.offError(a)};t.rewardedVideoAd.onError(a)})},e.prototype.createRewardedVideoAd=function(){var e=this;return new Promise(function(t,n){if(!tt.createRewardedVideoAd)return console.log("=====>\xa0@framework,\xa0\u5f53\u524d\u5ba2\u6237\u7aef\u7248\u672c\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u4f7f\u7528\u5956\u52b1\u89c6\u9891\u529f\u80fd\uff0c\u8bf7\u5347\u7ea7\u5230\u6700\u65b0\u5ba2\u6237\u7aef\u7248\u672c\u540e\u91cd\u8bd5"),void n();e.rewardedVideoAd?t():(e.rewardedVideoAd=tt.createRewardedVideoAd({adUnitId:e._rewardedVideoAdUnitId}),e.rewardedVideoAd.load().then(function(){t()},function(){console.log("\u52a0\u8f7d\u5931\u8d25")}).catch(function(e){console.log("----\x3e\xa0=====>\xa0@framework,\xa0\u5956\u52b1\u89c6\u9891show\u5931\u8d25",e),n(e)}))})},e.prototype.closeRewardVideo=function(){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&this._closeRewardVideoListener&&this._closeRewardVideoListener()},e.prototype.shareAppMessage=function(e,t,n){if(cc.sys.platform==cc.sys.BYTEDANCE_GAME)return new Promise(function(i,o){tt.shareAppMessage({channel:"video",title:e,extra:{videoTag:n[0],videoPath:t,hashtag_list:n,videoTopics:n,withVideoId:!0},success:function(e){i(e.videoId)},fail:function(e){console.error(e),o()}})})},e.prototype.getVideoInfo=function(e,t){var n=this;console.log("\u83b7\u53d6\u89c6\u9891\u5206\u4eab\u7684\u4fe1\u606f"),console.log(e),tt.request({url:t,method:"POST",data:{alias_ids:[e]},success:function(i){console.log(i),i.data.data[0].video_info.cover_url?console.log(i.data.data[0].video_info):setTimeout(function(){n.getVideoInfo(e,t)},5e3)}})},e.prototype.screenshot=function(){var e=tt.createCanvas();return e.getContext("2d"),new Promise(function(t,n){e.toTempFilePath({x:200,y:200,width:200,height:150,destWidth:200,destHeight:150,success:function(e){console.log("\u5f00\u59cb\u5c4f\u5e55\u5185\u622a\u56fe"),t(e)},fail:function(e){console.error(e),n()}})})},e.prototype.createImage=function(e){console.log("\u5f00\u59cb\u7ed8\u5236\u56fe\u7247");var t=tt.createImage();t.src=e,t.width=200,t.height=200,t.addEventListener("load",function(){console.log("\u52a0\u8f7d\u6210\u529f")}),t.addEventListener("error",function(){console.log("\u52a0\u8f7d\u5931\u8d25")})},e.prototype.returnAppName=function(){return this.systemInfo.appName.toUpperCase()},e.prototype.navigateToVideoView=function(e){if(cc.sys.platform==cc.sys.BYTEDANCE_GAME)return new Promise(function(t,n){tt.navigateToVideoView({videoId:e,success:function(e){t(e.videoId)},fail:function(e){1006===e.errCode&&tt.showToast({title:"something wrong with your network"}),n()}})})},e.prototype.request=function(e){if(cc.sys.platform==cc.sys.BYTEDANCE_GAME)return new Promise(function(t,n){tt.request({url:"https://gate.snssdk.com/developer/api/get_video_info",method:"POST",data:{alias_ids:[e]},success:function(e){t(e)},fail:function(){n()}})})},e.prototype.registerRecordScreenEvent=function(){var t=this;this.getSystemInfoSync(),e.isSupportedAPI(tt.getGameRecorderManager)?(this.GameRecorderManager=tt.getGameRecorderManager(),this.GameRecorderManager.onStart(function(){t.startListener&&t.startListener()}),this.GameRecorderManager.onResume(function(){t.resumeListener&&t.resumeListener()}),this.GameRecorderManager.onPause(function(){t.pauseListener&&t.pauseListener()}),this.GameRecorderManager.onStop(function(e){t.stopListener&&t.stopListener(e.videoPath,e)}),this.GameRecorderManager.onError(function(e){console.log("=====> @framework,\u5f55\u5c4f\u9519\u8bef\uff1a",e.errMsg),t.errorListener&&t.errorListener()}),this.GameRecorderManager.onInterruptionBegin(function(){t.interrupBeginListener&&t.interrupBeginListener()}),this.GameRecorderManager.onInterruptionEnd(function(){t.interrupEndListener&&t.interrupEndListener()}),tt.onShareAppMessage(function(){return{templateId:"3hlt8qdiwq012h84b8",success:function(){},fail:function(){}}})):console.log("=====> @framework,\u5f53\u524d\u5ba2\u6237\u7aef\u7248\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u4f7f\u7528\u5956\u52b1\u89c6\u9891\u529f\u80fd\uff0c\u8bf7\u5347\u7ea7\u5230\u6700\u65b0\u5ba2\u6237\u7aef\u7248\u672c\u540e\u91cd\u8bd5")},e.prototype.startRecordScreen=function(e,t){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(this.startListener=t,this.GameRecorderManager.start({duration:e}))},e.prototype.pauseRecordScreen=function(e){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(this.pauseListener=e,this.GameRecorderManager.pause())},e.prototype.resumeRecordScreen=function(e){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(this.resumeListener=e,this.GameRecorderManager.resume())},e.prototype.stopRecordScreen=function(e){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(this.stopListener=e,this.GameRecorderManager.stop())},e.prototype.checkSession=function(){if(cc.sys.platform==cc.sys.BYTEDANCE_GAME)return new Promise(function(e,t){tt.checkSession({success:function(){e(),console.log("session\u672a\u8fc7\u671f")},fail:function(){t(),console.log("session\u5df2\u8fc7\u671f\uff0c\u9700\u8981\u91cd\u65b0\u767b\u5f55")}})})},e.prototype.showContactButton=function(e,t,n){if(cc.sys.platform==cc.sys.BYTEDANCE_GAME){var i=cc.director.getWinSizeInPixels(),o=cc.view.getFrameSize(),a=o.width/i.width,s=o.height/i.height;this.ContactButton?this.ContactButton.show():this.ContactButton=tt.createContactButton({type:"image",image:e,style:{left:o.width/2+Math.abs(t.x)*a,top:o.height/2+Math.abs(t.y)*s,width:n.width*a,height:n.height*s,borderRadius:0,borderWidth:0},success:function(){console.log("\u5ba2\u670d\u521b\u5efa\u6210\u529f")},fail:function(){console.log("\u5ba2\u670d\u521b\u5efa\u5931\u8d25")}})}},e.prototype.hideContactButton=function(){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&this.ContactButton&&this.ContactButton.hide()},e.prototype.getSetting=function(){if(cc.sys.platform==cc.sys.BYTEDANCE_GAME)return new Promise(function(e,t){tt.getSetting({success:function(t){e(t.authSetting)},fail:function(){t(),console.log("session\u5df2\u8fc7\u671f\uff0c\u9700\u8981\u91cd\u65b0\u767b\u5f55")}})})},e.prototype.authorize=function(){if(cc.sys.platform==cc.sys.BYTEDANCE_GAME)return new Promise(function(e,t){tt.authorize({authorize:"scope.userInfo",success:function(t){e(t.authSetting)},fail:function(){t(),console.log("session\u5df2\u8fc7\u671f\uff0c\u9700\u8981\u91cd\u65b0\u767b\u5f55")}})})},e.prototype.getLaunchOptionsSync=function(){return tt.getLaunchOptionsSync()},e.prototype.openSetting=function(){if(cc.sys.platform==cc.sys.BYTEDANCE_GAME)return new Promise(function(e,t){tt.openSetting({success:function(t){e(t)},fail:function(){t()}})})},e.prototype.vibrateLong=function(e){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&tt.vibrateLong({success:function(t){e&&e(!0,t)},fail:function(t){e&&e(!1,t)}})},e.prototype.vibrateShort=function(e){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&tt.vibrateShort({success:function(t){e&&e(!0,t)},fail:function(t){e&&e(!1,t)}})},e.prototype.getSystemInfoSync=function(){if(cc.sys.platform==cc.sys.BYTEDANCE_GAME)try{this.systemInfo=tt.getSystemInfoSync(),console.log("this.systemInfo",this.systemInfo)}catch(e){console.log("\u83b7\u53d6\u7cfb\u7edf\u4fe1\u606f\u5931\u8d25")}},e.isSupportedAPI=function(e){return!!e},e.prototype.exitMiniProgram=function(e){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&tt.exitMiniProgram({success:function(t){e&&e(!0,t)},fail:function(t){e&&e(!1,t)}})},e.prototype.openAwemeUserProfile=function(){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&tt.openAwemeUserProfile()},e.prototype.showToast=function(e,t,n){void 0===t&&(t=3e3),cc.sys.platform==cc.sys.BYTEDANCE_GAME&&tt.showToast({title:e,duration:t,success:function(){n&&n()}})},e.prototype.getSystemInfo=function(e){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&tt.getSystemInfo({success:function(t){e&&e(t)}})},e.prototype.onShareAppMessage=function(e){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&tt.onShareAppMessage(function(t){e&&e(t)})},e.prototype.clipVideo=function(e,t,n){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&this.GameRecorderManager.clipVideo({path:t,timeRange:[e,0],success:function(e){n&&n(e)},fail:function(e){console.error(e)}})},e.prototype.showShareMenu=function(){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&tt.showShareMenu({success:function(){console.log("\u5df2\u6210\u529f\u663e\u793a\u8f6c\u53d1\u6309\u94ae")},fail:function(e){console.log("showShareMenu \u8c03\u7528\u5931\u8d25",e.errMsg)},complete:function(){console.log("showShareMenu \u8c03\u7528\u5b8c\u6210")}})},e.prototype.TTLogin=function(e,t,i){void 0===i&&(i=!1);var o=n.Toutiao.returnAppName(),a=null;i?a=!0:(a=!1,"DOUYIN"!=o&&"douyin_lite"!=o||(a=!0)),tt.login({force:a,success:function(t){e&&e(t)},fail:function(e){t&&t(e)}})},e.prototype.TTGetUserInfo=function(e,t){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&tt.getUserInfo({withCredentials:!0,success:function(t){e(t)},fail:function(e){t&&t(e)}})},e.prototype.showFavoriteGuide=function(){tt.showFavoriteGuide({type:"bar",content:"\u4e00\u952e\u6dfb\u52a0\u5230\u6211\u7684\u5c0f\u7a0b\u5e8f",position:"bottom",success:function(){console.log("\u5f15\u5bfc\u7ec4\u4ef6\u5c55\u793a\u6210\u529f")},fail:function(){console.log("\u5f15\u5bfc\u7ec4\u4ef6\u5c55\u793a\u5931\u8d25")}})},e.prototype.showMoreGamesModal=function(){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(tt.setMoreGamesInfo({appLaunchOptions:[{appId:"tta930df8d360b7e6d",query:"foo=bar&baz=qux",extraData:{}},{appId:"ttbc61cadc235aa747",query:"foo=bar&baz=qux",extraData:{}},{appId:"ttcf37b98a500cd748",query:"foo=bar&baz=qux",extraData:{}},{appId:"ttefcd997070f6f7bc",query:"foo=bar&baz=qux",extraData:{}}]}),tt.showMoreGamesModal({appLaunchOptions:[{appId:"tta930df8d360b7e6d",query:"foo=bar&baz=qux",extraData:{}},{appId:"ttbc61cadc235aa747",query:"foo=bar&baz=qux",extraData:{}},{appId:"ttcf37b98a500cd748",query:"foo=bar&baz=qux",extraData:{}},{appId:"ttefcd997070f6f7bc",query:"foo=bar&baz=qux",extraData:{}}],success:function(e){console.log("success",e.errMsg)},fail:function(e){console.log("fail",e.errMsg)}}))},e.prototype.getHeadImage=function(e,t,n){if(cc.sys.platform==cc.sys.BYTEDANCE_GAME){var i=tt.createImage();i.src=e,i.width=60,i.height=60,i.addEventListener("load",function(e){console.log("\u52a0\u8f7d\u6210\u529f"),console.log(i),t&&t(e)}),i.addEventListener("error",function(e){n&&n(e),console.log("\u52a0\u8f7d\u5931\u8d25")})}},e._instance=new e,e}();n.Toutiao=o._instance,cc._RF.pop()},{"../../tyq-event-mgr":"tyq-event-mgr"}],"tyq-event-mgr":[function(e,t,n){"use strict";cc._RF.push(t,"2e0d7ihuzNNq7MQMVr1EAwW","tyq-event-mgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.tyqEventMgr=void 0;var i=e("./Third/MiSdk"),o=e("./tyq-sdk"),a=function(){function e(){}return e.getInstance=function(){return null==this.tyqEventMgr&&(this.tyqEventMgr=new this),this.tyqEventMgr},Object.defineProperty(e,"ins",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),e.prototype.onRegister=function(){console.log("event:\u6ce8\u518c")},e.prototype.onLogin=function(){console.log("event:\u767b\u5f55")},e.prototype.onAgreeUseAgree=function(){console.log("event:\u540c\u610f\u7528\u6237\u534f\u8bae"),i.default.getInstance().onUserAgreed()},e.prototype.onAdLoad=function(){o.tyqSDK.collectAdAction(1)},e.prototype.onAdShow=function(){o.tyqSDK.collectAdAction(2)},e.prototype.onAdSuccess=function(){o.tyqSDK.collectAdAction(3)},e.prototype.onAdCancel=function(){o.tyqSDK.collectAdAction(4)},e.prototype.sendEvent=function(e,t){var n=t?e+"_"+t:e;this.sendEventPoint(n)},e.prototype.sendGuidStep=function(e){this.sendEventPoint("\u5f15\u5bfc_"+e)},e.prototype.sendEventPoint=function(e){o.tyqSDK.collectClickEvent(e),console.log("%cevent:"+e,"color:#FF7500")},e.prototype.onStartGame=function(e){o.tyqSDK.startGame(e),console.log("event:gamestart:",e)},e.prototype.onEndGame=function(e){o.tyqSDK.endGame(e),console.log("event:gameEnd:",e)},e.tyqEventMgr=null,e}();n.default=a,n.tyqEventMgr=a.ins,window.TyqEventMgr=n.tyqEventMgr,cc._RF.pop()},{"./Third/MiSdk":"MiSdk","./tyq-sdk":"tyq-sdk"}],"tyq-sdk-config":[function(e,t,n){"use strict";cc._RF.push(t,"d6489RBOy1CzYEInVzhCJkJ","tyq-sdk-config"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this.gameName="\u542c\u6211\u6307\u6325",this.gameVersion="1.0.0",this.app_version=1,this.appId="wx937f62a17e7e92b9",this.api_key="PCJLw9HOYJojM6T2GdhC9DHdS4u0O0YZ",this.isUseTopon=!1,this.AppSecret="1",this.server="https://api.game.xmtyq.com/",this.webTest=!1,this.startPhysical=5,this.recoverTime=3,this.vipCount=2,this.webTest}return e.prototype.logDevelop=function(){console.log=function(){},console.error=function(){}},e}();n.default=new i,cc._RF.pop()},{}],"tyq-sdk":[function(e,t,n){"use strict";cc._RF.push(t,"388a0Ne1nhM/qHYhIIGQJ4R","tyq-sdk"),Object.defineProperty(n,"__esModule",{value:!0}),n.tyqSDK=n.EDartStatus=n.EDartsType=void 0;var i,o=e("./tyq-event-mgr"),a=e("./tyq-sdk-config"),s=e("./tyq_extend"),r=e("./view/CrazyBox"),c=e("./view/Privacypolicy"),d=e("./view/VerifyRealName"),l=e("./weNetworkMgr");(function(e){e[e.grid=1]="grid",e[e.interstitial=2]="interstitial",e[e.infoFlow=3]="infoFlow",e[e.reward=4]="reward"})(n.EDartsType||(n.EDartsType={})),function(e){e[e.exposure=1]="exposure",e[e.visit=2]="visit",e[e.click=3]="click"}(i=n.EDartStatus||(n.EDartStatus={}));var h=function(){function e(){this.switch_info={},this.master_switch=0,this.openid="MyOpenID",this._playTime=0,this._videoTime=0,this.reqDartAwardTime=0,this.dartDurTime=3e4,this.dartAwardFun=null,this._dartDatas={},this.resPath="tyqRes/",this._gameLevel="",this.item_openId="tyq_item_openid",this.item_watermark="tyq_item_watermark",this._watermark="",this._onlineTime=0}return e.prototype.platformLogin=function(e){e&&(this.openid=e,cc.sys.localStorage.setItem(this.item_openId,this.openid),o.default.ins.onLogin(),this.login())},e.prototype.init=function(e){var t=this;zzperr("\u521d\u59cb\u5316SDK..."),this._watermark=cc.sys.localStorage.getItem(this.item_watermark)||"",this.openid=this.initOpenId();var n=this.getTimeStamp(!0),i={appid:a.default.appId,nonce_str:this.randomStr(),time_stamp:n,app_version:a.default.app_version};l.NetworkMgr.xhrPost("china_app_game_sdk/api/v1/switch_info",i,function(n){if(console.log(n),n.data&&(t.switch_info=n.data.switch_info,t.master_switch=n.data.master_switch,n.data.ads_data&&(t._dartDatas=n.data.ads_data)),e)return zzperr("\u521d\u59cb\u5316SDK\u6210\u529f"),void e()},function(){e&&(zzperr("\u521d\u59cb\u5316SDK\u6210\u529f"),e())}),this._onlineTime=this.getTimeStamp(),cc.game.on(cc.game.EVENT_HIDE,function(){t.collectPlayeTime()}),cc.game.on(cc.game.EVENT_SHOW,function(){t._onlineTime=t.getTimeStamp(),Date.now()-t.reqDartAwardTime>=t.dartDurTime&&(t.reqDartAwardTime=Date.now(),setTimeout(function(){t.reqDartAward()},200))})},e.prototype.login=function(){},e.prototype.verifyRealName=function(){},e.prototype.getSwitchValue=function(e){return 0==this.master_switch?0:this.switch_info[e]?"0"==this.switch_info[e]?0:this.switch_info[e]:(console.log(e+"\u5f00\u5173\u4e0d\u5b58\u5728"),0)},e.prototype.getConfigProbability=function(e){var t=this.getSwitchValue(e);return!!t&&Math.random()<t},e.prototype.startGame=function(e){this._gameLevel=e,this.collectLevelInfo()},e.prototype.endGame=function(e){this.collectLevelInfo(e?2:3)},e.prototype.collectClickEvent=function(){this.openid||console.error("\u6ca1\u6709openid")},e.prototype.collectPlayeTime=function(){this.openid||console.error("\u6ca1\u6709openid")},e.prototype.collectAdAction=function(){this.openid},e.prototype.randomStr=function(e){void 0===e&&(e=32);for(var t=e,n="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",i=n.length,o="",a=0;a<t;a++)o+=n.charAt(Math.floor(Math.random()*i));return o},e.prototype.initOpenId=function(){var e=cc.sys.localStorage.getItem(this.item_openId);return e||(e=this.getTyqOpenid(),cc.sys.localStorage.setItem(this.item_openId,e)),console.log("openid:"+e),e},e.prototype.getTyqOpenid=function(){for(var e=[],t=0;t<40;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]=e[28]="-",e.join("")},e.prototype.randOpenid=function(){var e=new Date,t=e.getFullYear().toString()+(e.getMonth()+1).toString()+e.getDate().toString(),n=e.getHours().toString(),i=e.getMinutes().toString(),o=e.getSeconds().toString();return 1==n.length&&(n="0"+n),1==i.length&&(i="0"+i),1==o.length&&(o="0"+o),"tyq"+t+n+i+o+this.randomStr(19)},e.prototype.collectLevelInfo=function(e){if(this.openid){this.getTimeStamp(!0);var t=this.getTimeStamp(!1);e?(this._playTime,this._playTime=0):this._playTime=t,null==this._watermark&&(this._watermark=cc.sys.localStorage.getItem(this.item_watermark)||"")}},e.prototype.getTimeStamp=function(e){void 0===e&&(e=!1);var t=Date.now();return e&&(t=Math.floor(t/1e3)),t},e.prototype.showCrazyBox=function(e,t){cc.resources.load(this.resPath+"prefab/CrazyBox",cc.Prefab,function(n,i){if(n)console.error(n);else{var o=cc.instantiate(i);cc.find("Canvas").addChild(o,cc.macro.MAX_ZINDEX),o.getComponent(r.default).init(t,e)}})},e.prototype.showVerifyRealName=function(e,t){cc.resources.load(this.resPath+"prefab/VerifyRealName",cc.Prefab,function(n,i){if(n)console.error(n);else{var o=cc.instantiate(i);e.addChild(o),o.getComponent(d.default).init(t)}})},e.prototype.showVerifyPrivacypolicy=function(e,t){cc.resources.load(this.resPath+"prefab/Privacypolicy",cc.Prefab,function(n,i){if(n)console.error(n);else{var o=cc.instantiate(i);e.addChild(o),o.getComponent(c.default).init(t)}})},e.prototype.getDartAdByType=function(e){if(e){var t=this._dartDatas[e];if(t&&t.length>0)return t[Math.floor(Math.random()*t.length)]}else{var n=[];for(var i in this._dartDatas)if(Object.prototype.hasOwnProperty.call(this._dartDatas,i))for(var o=0;o<this._dartDatas[i].length;o++)n.push(this._dartDatas[i][o]);if(n.length>0)return n[Math.floor(Math.random()*n.length)]}return null},e.prototype.sendDartAdStatus=function(e){e||console.error("\u6ca1\u6709ads_id")},e.prototype.reqDartAward=function(){console.log("\u8bf7\u6c42\u975e\u6807\u5e7f\u544a\u5956\u52b1")},e.prototype.setReqAwardFun=function(e){this.dartAwardFun=e,this.reqDartAward()},e.prototype.onClickDart=function(e){if(this.sendDartAdStatus(e.ads_id,i.click),1==e.types)s.default.dartClick(e.download_url,e.appid,this.openid,e.ads_id);else if(2==e.types){var t;t=-1==e.download_url.indexOf("?")?"?source_openid="+this.openid+"&ads_id="+e.ads_id:"&source_openid="+this.openid+"&ads_id="+e.ads_id,cc.sys.openURL(e.download_url+t)}},e.prototype.sendToAppLog=function(){},e._instance=new e,e}();n.tyqSDK=h._instance,window.TyqSdk=h._instance,cc._RF.pop()},{"./tyq-event-mgr":"tyq-event-mgr","./tyq-sdk-config":"tyq-sdk-config","./tyq_extend":"tyq_extend","./view/CrazyBox":"CrazyBox","./view/Privacypolicy":"Privacypolicy","./view/VerifyRealName":"VerifyRealName","./weNetworkMgr":"weNetworkMgr"}],"tyq-view-mgr":[function(e,t,n){"use strict";cc._RF.push(t,"693577OmbtKFJMoGzTDP+TO","tyq-view-mgr"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./tyq-sdk"),o=e("./view/DartAd"),a=e("./view/LandPage"),s=function(){function e(){}return e.showLandPage=function(e,t){cc.resources.load(this.prefabPath+"LandPage",cc.Prefab,function(n,i){if(n)return console.error("showLandPage:"+n),void console.error(n);var o=cc.instantiate(i);o.getComponent(a.default).initData(e,t),cc.find("Canvas").addChild(o,cc.macro.MAX_ZINDEX)})},e.showDartAd=function(e,t,n){void 0===n&&(n=cc.v2());var a=i.tyqSDK.getDartAdByType(e);a?cc.resources.load(this.prefabPath+"DartAd",cc.Prefab,function(s,r){if(s)console.error(s);else{var c=cc.instantiate(r);t.addChild(c),n&&c.setPosition(n),c.getComponent(o.default).initData(a,e),i.tyqSDK.sendDartAdStatus(a.ads_id,i.EDartStatus.exposure)}}):console.error("\u6ca1\u6709dartAd\u6570\u636e")},e.loadLandPage=function(e){var t=i.tyqSDK.getDartAdByType(i.EDartsType.reward);return!!t&&(this.showLandPage(t,e),!0)},e.prefabPath="tyqRes/prefab/",e}();n.default=s,cc._RF.pop()},{"./tyq-sdk":"tyq-sdk","./view/DartAd":"DartAd","./view/LandPage":"LandPage"}],tyq_extend:[function(e,t,n){"use strict";cc._RF.push(t,"c64f1tWaCVPNZbCRG2Ny1om","tyq_extend"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./tyq-sdk"),o=e("./tyq-sdk-config"),a=e("./weHttp"),s=function(){function e(){}return e.getBytedanceOpenid=function(e,t){var n={appid:o.default.appId,secret:o.default.AppSecret,code:e,anonymous_code:t};console.log("jscode2session"),a.Http.get("mgplatform/api/apps/jscode2session",n,function(e,t){t.errmsg?console.error(t.errmsg):(i.tyqSDK.platformLogin(t.openid),console.log(t.openid))},"https://minigame.zijieapi.com/")},e.getDeviceId=function(){var e="";return cc.sys.os==cc.sys.OS_ANDROID?e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/DeviceIdUtil","getDeviceId","()Ljava/lang/String;"):(cc.sys.os,cc.sys.OS_IOS),e||cc.error("\u83b7\u53d6\u8bbe\u5907\u6807\u8bc6\u7801\u9519\u8bef"),e},e.delayShowBtn=function(e){e.active=!1;var t=i.tyqSDK.getSwitchValue("tyq_btnDelayShow");setTimeout(function(){e&&cc.isValid(e)&&(e.active=!0)},1e3*parseFloat(t))},e.getOAID=function(){var e="";return cc.sys.os==cc.sys.OS_ANDROID&&jsb&&(e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/TyqHelper","getOAID","()Ljava/lang/String;")),e},e.getPhoneModel=function(){var e="";return cc.sys.os==cc.sys.OS_ANDROID&&jsb&&(e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/TyqHelper","getPhoneModel","()Ljava/lang/String;")),e},e.downloadApk=function(e){cc.sys.os==cc.sys.OS_ANDROID&&jsb&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/TyqHelper","downloadAPK","(Ljava/lang/String;)V",e)},e.dartClick=function(e,t,n,i){window.jsb&&cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/TyqHelper","dartClick","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)V",e,t,n,i)},e.copy=function(e){window.jsb&&cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/TyqHelper","copyToClipboard","(Ljava/lang/String;)V",e)},e}();n.default=s,cc._RF.pop()},{"./tyq-sdk":"tyq-sdk","./tyq-sdk-config":"tyq-sdk-config","./weHttp":"weHttp"}],uiManager:[function(e,t){"use strict";cc._RF.push(t,"4a423gFOSVNBrPZdqoCu+cg","uiManager");var n=cc.Class({name:"FormModel",properties:{name:null,node:null,UIForm:null,zIndex:0}});kf.addModule("manager.ui",function(){return{init:function(){this.layerIndex=0,this.UIRoot="prefab/panel/",this.UIFormStack=[],this.cachedUIForms=[],this.toastForm=null,this.nodeRoot=null,window.uiManager=this},setRoot:function(e){this.nodeRoot=e},getRoot:function(){return this.nodeRoot},showTipMsg:function(e){clientEvent.dispatchEvent("showMsg",e)},pushUIForm:function(e,t,n){if(this.UIFormStack.length){var i=this.UIFormStack[this.UIFormStack.length-1];i&&i.UIForm.onAfter()}var o=this,a=this._getUINodeFromCacheByName(e);null==a?this._createUIFormModel(e,function(e){o._showUIForm(e,t),n&&n(e,t)}):(a.zIndex=this.layerIndex++,this.UIFormStack.push(a),this._showUIForm(a,t),n&&n(a,t))},pop:function(){if(0!=this.UIFormStack.length){var e=this.UIFormStack.pop();this._hideUIForm(e,null);var t=this.UIFormStack[this.UIFormStack.length-1];t&&t.UIForm.onFont()}},getUIFrom:function(e){for(var t=0;t<this.UIFormStack.length;t++){var n=this.UIFormStack[t];if(n.name==e)return n.UIForm}},hideUIForm:function(e,t){for(var n=0;n<this.UIFormStack.length;n++){var i=this.UIFormStack[n];i.name==e&&this._hideUIForm(i,t)}},_createUINode:function(e,t,n){this.UIRoot,clientEvent.dispatchEvent("showWaiting"),resMgr.loadPrefab(e,function(e,i){clientEvent.dispatchEvent("hideWaiting");var o=cc.instantiate(i);n&&n(o,t)})},_createUIFormModel:function(e,t){var i=this,o=new n;o.name=e;var a=this.layerIndex++;o.zIndex=a,this.UIFormStack.push(o),this._createUINode(e,a,function(e,n){for(var a=0;a<i.UIFormStack.length;a++){var s=i.UIFormStack[a];if(s.zIndex==n&&s.name==e.name){if(null==e)return void cc.js.array.remove(i.UIFormStack,o);var r=e.getComponent(e.name);return s.UIForm=r,s.node=e,void(t&&t(o))}}})},_getUINodeFromCacheByName:function(e){for(var t=0;t<this.cachedUIForms.length;t++){var n=this.cachedUIForms[t];if(null!=n.node&&n.name==e)return cc.js.array.remove(this.cachedUIForms,n),n}return null},_showUIForm:function(e,t){cc.Canvas.instance.node.getChildByName("uiRoot").addChild(e.node),e.UIForm.willShow&&e.UIForm.willShow(t),e.node.active=!0,e.node.zIndex=e.zIndex,e.UIForm.onShow(t)},_hideUIForm:function(e,t){e.UIForm.willHide(t),e.node.removeFromParent(),e.UIForm.onHide(t),e.node.active=!1,cc.js.array.remove(this.UIFormStack,e),this.cachedUIForms.push(e)}}}),cc._RF.pop()},{}],uiRoot:[function(e,t){"use strict";cc._RF.push(t,"781a8RMIMJFeoGlwd9GWKwj","uiRoot");var n=e("panel");cc.Class({extends:n,properties:{},bolInitGameUI:!1,bolInitGameForm:!1,runTimeLast:0,runTimeRed:0,runTime:0,loadingCount:0,loadingMax:0,nodePoolList:null,timeStartPlaySoundCount:0,intStatus:0,onLoad:function(){this.runTime=0,this.runTimeLast=0,this.intStatus=0,this.runTimeRed=0,this.loadingCount=0,this.loadingMax=0,this.timeStartPlaySoundCount=0,this.nodePoolList=null,TyqSdk.login(),console.error(VER)},start:function(){this.init()},init:function(){uiManager.setRoot(this.node),intGameStatus=0,this.loadingCount=0,this.loadingMax=0,clientEvent.on("showMsg",this.onShowMsg.bind(this),"uiRoot_onShowMsg"),clientEvent.on("noyu",this.onShowMsgNoYu.bind(this),"uiRoot_onShowMsgNoYu"),clientEvent.on("noyin",this.onShowMsgNoYin.bind(this),"uiRoot_onShowMsgNoYin"),clientEvent.on("nocoin",this.onShowMsgNoCoin.bind(this),"uiRoot_onShowMsgNoCoin"),clientEvent.on("updateRedPoint",this.onUpdateRedPoint.bind(this),"uiRoot_onUpdateRedPoint")},initMenu:function(){resMgr.loadRes(constants.prefabs.menu[0],[constants.prefabs.menu[1]],cc.Prefab,function(e){var t=cc.instantiate(globalAssets[e]);t.name="nodeMenu",t.parent=uiManager.getRoot(),intGameStatus=0})},onShowMsgNoYu:function(e,t){void 0===t&&(t=0),this.onShowMsg(e,t)},onShowMsgNoYin:function(e,t){void 0===t&&(t=0),this.onShowMsg(e,t)},onShowMsgNoCoin:function(e,t){void 0===t&&(t=0),this.onShowMsg(e,t)},onShowMsg:function(e,t){void 0===t&&(t=0),resMgr.loadRes("packageBase",["prefab/preMsg"],cc.Prefab,function(t){var n=cc.instantiate(globalAssets[t]);n.name="nodeMsg",n.parent=uiManager.getRoot().parent.getChildByName("uiCover"),n.getChildByName("des").getComponent(cc.RichText).string=e,cc.tween(n).set({opacity:0}).to(.2,{opacity:255}).delay(.5).to(.3,{opacity:0}).call(function(){}).removeSelf().start()})},onDisable:function(){},gameLogic:function(){},onUpdateRedPoint:function(){user.setRedPoint(constants.redPoint.qiandao,getTodayQiandao()?1:0),user.setRedPoint(constants.redPoint.choujiang,user.getYin()>=1e3?1:0);for(var e=!1,t=jsonTables.getJsonTable("guanzhi"),n=t.length,i=0;!e&&i<n;i++){var o=t[i];if(null!=o)for(var a=0;a<2;a++)if(jsonTables.getJsonTableObj("item",parseInt(o.item[a])),user.getGuanzhi()<i+1)user.setRedPoint(constants.redPoint.guanzhi+10*i+a,0);else{if(!(user.getGuanzhi()>=i+1&&user.getGuanzhiGet(2*i+a))){e=!0;break}user.setRedPoint(constants.redPoint.guanzhi+10*i+a,0)}}user.setRedPoint(constants.redPoint.guanzhi,e?1:0);var s=!1,r=user.getBuildingSlotList().length;user.setRedPoint(constants.redPoint.jianzhuType1,0),user.setRedPoint(constants.redPoint.jianzhuType2,0);for(var c=jsonTables.getJsonTable("building"),d=c.length,l=0;l<r;l++)if(!(user.getBuildingSlot(l)<=0)){var h=user.getBuilding(l),u=0;if(h<=0){var p=jsonTables.getJsonTableArrObj("building","type",1)[0],g=jsonTables.getJsonTableArrObj("building","type",2)[0];user.getYu()>=p.price&&(user.setRedPoint(constants.redPoint.jianzhuType1,1),s=!0),user.getYu()>=g.price&&(user.setRedPoint(constants.redPoint.jianzhuType2,1),s=!0)}else for(var f=jsonTables.getJsonTableObj("building",h),m=0;m<d;m++)if(c[m].type==f.type&&c[m].level==f.level+1){c[m],user.getYu()>=f.price?(u=1,s=!0):u=0;break}user.setRedPoint(constants.redPoint.jianzhu+l,u)}user.setRedPoint(constants.redPoint.jianzhu,s?1:0);for(var v=!1,b=user.getItemList(),y=b.length,A=0;A<y;A++){var T=0,S=b[A];if(jsonTables.getJsonTableObj("item",S.id).type==constants.item.arm)if(S&&(1==S.lv&&S.num>0||S.lv>1)){var C=getItemArm(S.id);C&&user.getYin()>=C.upgrade&&user.getItem(S.id).num>=C.exp&&(T=1,v=!0)}else S&&0==S.lv&&S.num>0&&getItemArm(S.id)&&(T=1,v=!0);user.setRedPoint(constants.redPoint.buduiArm+S.id,T)}for(var w=0;w<user.getBattleArmList().length;w++)user.getBattleArm(w)<=0&&user.setRedPoint(constants.redPoint.buduiSpine+w,1);user.setRedPoint(constants.redPoint.budui,v||v?1:0);var N=jsonTables.getJsonTableObj("pig",user.getPigLevel()),B=jsonTables.getJsonTableObj("pig",user.getPigLevel()+1,null,!1),k=0;N&&B&&(1==N.ad||user.getYu()>=N.price&&(k=1)),user.setRedPoint(constants.redPoint.bingshuPig,k);for(var I=jsonTables.getJsonTable("jiceType"),L=I.length,_=!1,R=0;R<L;R++){for(var E=0,M=I[R],P=jsonTables.getJsonTableArrObj("jiceDetail","jiceType",M.Tid),j=P.length,D=null,O=0;O<j;O++)P[O].level==user.getPigSkill(M.Tid-1)&&(D=P[O]);if(D){var F=user.getItemByJiceType(M.Tid);user.getYu()>=D.price&&F.num>=5&&(_=!0,E=1)}user.setRedPoint(constants.redPoint.bingshuJice+M.Tid,E)}user.setRedPoint(constants.redPoint.bingshu,_?1:0),getShop1RefreshCost();for(var x=0,J=0;user.getShop1List()&&J<user.getShop1List().length;J++){var V=user.getShop1(J),z=0;if(V>0){var U=jsonTables.getJsonTableObj("shop1",V);U&&2==U.way&&user.getYu()>=U.price&&(z=1,x=1),user.setRedPoint(constants.redPoint.shangdianArm+V,z)}}user.setRedPoint(constants.redPoint.shangdian,x)},lateUpdate:function(){frameNpcCount=0},update:function(e){0==this.intStatus&&(this.intStatus=1,this.initMenu()),this.runTime-this.runTimeLast>=RUN_DT&&(this.gameLogic(),this.runTimeLast=this.runTime),this.runTime+=e,this.timeStartPlaySoundCount+=e,this.timeStartPlaySoundCount>=1&&(this.timeStartPlaySoundCount=0,COUNT_SOUND=0),frameTime=e}}),cc._RF.pop()},{panel:"panel"}],"use_v2.0.x_cc.Toggle_event":[function(e,t){"use strict";cc._RF.push(t,"0ccfc04lpdMJZ4cURYoK93c","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}],user:[function(e,t){"use strict";cc._RF.push(t,"99acf7HF9pDvY+fJAuhSC21","user"),window.kf=window.kf||{},kf.addModule=kf.addModule||function(){},kf.addModule("logic.user",function(){var e=kf.require("basic.toolCfg"),t={init:function(){this.userInfo={avatarUrl:"",nickName:"",city:"",gender:1,openId:0},t.serverData={nickName:"",city:"",avatarUrl:"",rankScore:0,onLineTime:0,LastHideGameTime:null,LastStartTime:null,firstInGame:1,intCoin:0,intYu:0,intYin:0,intTitle:0,intBattle:1,intQian:0,intQianTime:0,intQianDouble:0,arrRedPoint:[],intChouCount:0,intChouBig:0,intExp:0,intGuanzhi:1,arrGuanzhiGet:null,arrBuildingSlot:[1,1,0,0,0,0],arrBuilding:[-1,-1,-1,-1,-1,-1],arrShop1:[],intShop1RefreshTime:0,intShop1RefreshCount:0,arrBattleArm:[12,-1,-1,-1],arrItem:[{id:12,lv:1,num:1}],intPigTime:0,intPigLevel:1,arrPigSkill:[1,1,1,1,1,1],intMusic:1,intSound:1,arrTeach:[],intYinSi:0,intShiMing:0,validOk:0,intAdsFree:0},this.writeToCloud(!0),window.user=this,this.isAutoInfo=!1,this.interval=0,this.lastWriteTime=0,this.isShare=!1;var e=this,n=null,i=null;clientEvent.on("OnWXShow",function(){SdkMgr.resumeRecord(),zzpout("OnWXShow"),e.setLastHideGameTime((new Date).getTime()),e.setLastStartGameTime((new Date).getTime()),t.isShare&&(t.isShare=!1,i=(new Date).getTime(),parseInt(i)-2e3>parseInt(n)?(zzpout("\u5206\u4eab\u6210\u529f"),t.shareCb&&(t.shareCb(),t.shareCb=null)):(clientEvent.dispatchEvent("showMsg","\u5206\u4eab\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5"),zzpout("\u5206\u4eab\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5"),t.shareCbFail&&(t.shareCbFail(),t.shareCbFail=null)))}.bind(this)),clientEvent.on("OnWXHide",function(){SdkMgr.pauseRecord(),zzpout("OnWXHide"),t.isShare&&(n=(new Date).getTime()),e.writeToCloud(!0),e.addOnLineTime((new Date).getTime()-e.getLastStartGameTime()),e.setLastHideGameTime((new Date).getTime()),e.setLastStartGameTime((new Date).getTime())}.bind(this)),cc.game.on(cc.game.EVENT_HIDE,function(){SdkMgr.pauseRecord(),cc.log("\u8fdb\u5165\u540e\u53f0"),e.writeToCloud(!0),e.resetOnLineTime(),e.setLastHideGameTime((new Date).getTime()),e.setLastStartGameTime((new Date).getTime())}.bind(this)),window.wx&&this.wxRenderRegister()},getLastStartGameTime:function(){return t.serverData.LastStartTime},setLastStartGameTime:function(e){t.serverData.LastStartTime=Math.max(e,(new Date).getTime()),this.writeToCloud()},getLastHideGameTime:function(){return t.serverData.LastHideGameTime},setLastHideGameTime:function(e){t.serverData.LastHideGameTime=Math.max(e,(new Date).getTime()),this.writeToCloud()},getOnLineTime:function(){return t.serverData.onLineTime+(new Date).getTime()-this.getLastStartGameTime()||0},getOffLineTime:function(){return Math.max(0,t.serverData.LastStartTime-t.serverData.LastHideGameTime)||0},resetOffLineTime:function(){this.setLastHideGameTime((new Date).getTime())},addOnLineTime:function(e){t.serverData.onLineTime=t.serverData.onLineTime?t.serverData.onLineTime+e:e,this.writeToCloud()},resetOnLineTime:function(){t.serverData.onLineTime=0,this.setLastStartGameTime((new Date).getTime()),this.writeToCloud()},getFirstInGame:function(){return t.serverData.firstInGame||0},setFirstInGame:function(e){e=parseInt(e),t.serverData.firstInGame=e,this.writeToCloud(!0)},getCoin:function(){return t.serverData.intCoin||0},setCoin:function(e){e=parseInt(e),t.serverData.intCoin=e,this.writeToCloud(!0)&&clientEvent.dispatchEvent("setCoin",t.serverData.intCoin)},addCoin:function(e){e=parseInt(e),t.serverData.intCoin||(t.serverData.intCoin=0),t.serverData.intCoin=t.serverData.intCoin+e,this.writeToCloud(!0)&&clientEvent.dispatchEvent("addCoin",{coin:t.serverData.intCoin,add:e})},getYin:function(){return t.serverData.intYin||0},addYin:function(e,n){void 0===n&&(n=null),e=parseInt(e),t.serverData.intYin||(t.serverData.intYin=0),t.serverData.intYin=t.serverData.intYin+e,this.writeToCloud(!0)&&(e>0&&playSound(constants.sound.coin),e>0?showItemFly(constants.item.yinliang,n,POS_YIN,8,function(){clientEvent.dispatchEvent("addYin",{num:t.serverData.intYin,add:e})}):clientEvent.dispatchEvent("addYin",{num:t.serverData.intYin,add:e}))},getYu:function(){return t.serverData.intYu||0},addYu:function(e,n){void 0===n&&(n=null),e=parseInt(e),t.serverData.intYu||(t.serverData.intYu=0),t.serverData.intYu=t.serverData.intYu+e,this.writeToCloud(!0)&&(e>0&&playSound(constants.sound.coin),e>0?showItemFly(constants.item.biyu,n,POS_YU,8,function(){clientEvent.dispatchEvent("addYu",{num:t.serverData.intYu,add:e})}):clientEvent.dispatchEvent("addYu",{num:t.serverData.intYu,add:e}))},getBattle:function(){return t.serverData.intBattle||0},addBattle:function(e){void 0===e&&(e=1),e=parseInt(e),t.serverData.intBattle||(t.serverData.intBattle=0),t.serverData.intBattle=t.serverData.intBattle+e,this.writeToCloud(!0)},getQian:function(){return t.serverData.intQian||0},addQian:function(e){void 0===e&&(e=1),e=parseInt(e),t.serverData.intQian||(t.serverData.intQian=0),t.serverData.intQian=t.serverData.intQian+e,t.serverData.intQianTime=(new Date).getTime(),this.writeToCloud(!0)&&clientEvent.dispatchEvent("redPoint",constants.redPoint.qiandao,0)},getQianDouble:function(){return t.serverData.intQianDouble||0},addQianDouble:function(e){void 0===e&&(e=1),e=parseInt(e),t.serverData.intQianDouble||(t.serverData.intQianDouble=0),t.serverData.intQianDouble=t.serverData.intQianDouble+e,this.writeToCloud(!0)},getQianTime:function(){return t.serverData.intQianTime||0},getRedPoint:function(e){if(!t.serverData.arrRedPoint)return!1;for(var n in t.serverData.arrRedPoint)if(n==e)return!0;return!1},setRedPoint:function(e,n){if(t.serverData.arrRedPoint||(t.serverData.arrRedPoint=[]),t.serverData.arrRedPoint&&t.serverData.arrRedPoint.length>0&&t.serverData.arrRedPoint.hasOwnProperty(e)&&t.serverData.arrRedPoint[e]==n)return!1;t.serverData.arrRedPoint[e]=n,this.writeToCloud(!0)&&clientEvent.dispatchEvent("redPoint",e,n)},getChouCount:function(){return t.serverData.intChouCount||0},addChouCount:function(e){void 0===e&&(e=1),e=parseInt(e),t.serverData.intChouCount||(t.serverData.intChouCount=0),t.serverData.intChouCount=t.serverData.intChouCount+e,this.writeToCloud(!0)},getChouBig:function(){return t.serverData.intChouBig||0},addChouBig:function(){t.serverData.intChouCount||(t.serverData.intChouCount=0),t.serverData.intChouBig||(t.serverData.intChouBig=0);var e=jsonTables.getJsonTableObj("choujiangLevel",t.serverData.intChouBig+1);if(t.serverData.intChouCount>=e.count){t.serverData.intChouCount=t.serverData.intChouCount-e.count;var n=jsonTables.getJsonTable("choujiangLevel");t.serverData.intChouBig=Math.min(n[n.length-1].Tid,t.serverData.intChouBig+1)}this.writeToCloud(!0)},getExp:function(){return t.serverData.intExp||0},getExpMax:function(){return t.serverData.intGuanzhi||(t.serverData.intGuanzhi=1),jsonTables.getJsonTableObj("guanzhi",t.serverData.intGuanzhi).count},addExp:function(e){void 0===e&&(e=0),e=parseInt(e),t.serverData.intExp||(t.serverData.intExp=0),t.serverData.intGuanzhi||(t.serverData.intGuanzhi=1),t.serverData.intExp=t.serverData.intExp+e,this.writeToCloud(!0)},getGuanzhi:function(){return t.serverData.intGuanzhi||1},setGuanzhi:function(e){t.serverData.intGuanzhi=e,this.writeToCloud(!0)&&sendCustomEvent(constants.event.guan["set"+e])},getGuanzhiGet:function(e){return t.initGuanzhi(),t.serverData.arrGuanzhiGet[e]},setGuanzhiGet:function(e){t.initGuanzhi(),t.serverData.arrGuanzhiGet[e]=1,this.writeToCloud(!0)},initGuanzhi:function(){var e=2*jsonTables.getJsonTable("guanzhi").length;if(!t.serverData.arrGuanzhiGet){t.serverData.arrGuanzhiGet=[];for(var n=0;n<e;n++)t.serverData.arrGuanzhiGet.push(0)}for(var i=t.serverData.arrGuanzhiGet.length;i<e;i++)t.serverData.arrGuanzhiGet.push(0);this.writeToCloud(!0)},getBuildingSlotList:function(){return t.serverData.arrBuildingSlot},getBuildingSlot:function(e){return t.serverData.arrBuildingSlot[e]},setBuildingSlot:function(e,n){t.serverData.arrBuildingSlot[e]=n,this.writeToCloud(!0)},getBuildingList:function(){return t.serverData.arrBuilding},getBuilding:function(e){return t.serverData.arrBuilding[e]},setBuilding:function(e,n){t.serverData.arrBuilding[e]=n,this.writeToCloud(!0)},getShop1List:function(){return t.serverData.arrShop1},getShop1:function(e){return t.serverData.arrShop1[e]},setShop1:function(e,n){t.serverData.arrShop1[e]=n,this.writeToCloud(!0)},clearShop1:function(){t.serverData.arrShop1=[],this.writeToCloud(!0)},getShop1Time:function(){return t.serverData.intShop1RefreshTime||0},setShop1Time:function(e){t.serverData.intShop1RefreshTime=e,this.writeToCloud(!0)},getShop1RefreshCount:function(){return t.serverData.intShop1RefreshCount||0},setShop1RefreshCount:function(e){t.serverData.intShop1RefreshCount=e,this.writeToCloud(!0)},getBattleArmList:function(){return t.serverData.arrBattleArm},getBattleArm:function(e){return t.serverData.arrBattleArm[e]},setBattleArm:function(e,n){t.serverData.arrBattleArm[e]=n,this.writeToCloud(!0)},getItemList:function(){return t.serverData.arrItem},getItem:function(e){for(var n=t.serverData.arrItem.length,i=0;i<n;i++)if(t.serverData.arrItem[i].id===e)return t.serverData.arrItem[i];return{id:e,lv:1,num:0}},addItem:function(e,n,i){switch(void 0===n&&(n=1),void 0===i&&(i=null),n=parseInt(n),jsonTables.getJsonTableObj("item",e).type){case constants.item.tongqian:t.addCoin(n);break;case constants.item.yinliang:t.addYin(n,i);break;case constants.item.biyu:t.addYu(n,i);break;case constants.item.gongxun:t.addExp(n);break;case constants.item.jice:case constants.item.arm:t.addItemArm(e,0,n);break;case constants.item.freeAd:t.addAdsFree(n);break;default:find=!1}},addItemArm:function(e,n,i){void 0===i&&(i=0),zzpout("addItemArm:"+e+","+n+","+i),e=parseInt(e),i=parseInt(i);for(var o=t.serverData.arrItem.length,a=!1,s=0;s<o;s++)if(t.serverData.arrItem[s].id===e){a=!0,n>0&&(t.serverData.arrItem[s].lv=n),t.serverData.arrItem[s].num+=i;break}a||t.serverData.arrItem.push({id:e,lv:n,num:i}),this.writeToCloud(!0)},getItemByJiceType:function(e){for(var n=jsonTables.getJsonTable("item"),i=n.length,o=0;o<i;o++)if(n[o].jiceType==e)return t.getItem(n[o].Tid);return null},getPigLevel:function(){return t.serverData.intPigLevel||1},addPigLevel:function(e){void 0===e&&(e=1),e=parseInt(e),t.serverData.intPigLevel||(t.serverData.intPigLevel=1),t.serverData.intPigLevel=t.serverData.intPigLevel+e,this.writeToCloud(!0)},getPigTime:function(){return t.serverData.intPigTime||0},setPigTime:function(e){void 0===e&&(e=1),t.serverData.intPigTime||(t.serverData.intPigTime=0),t.serverData.intPigTime=e,this.writeToCloud(!0)},getPigSkillList:function(){return null==t.serverData.arrPigSkill&&(t.serverData.arrPigSkill=[1,1,1,1,1,1],this.writeToCloud(!0)),t.serverData.arrPigSkill},getPigSkill:function(e){return null==t.serverData.arrPigSkill&&(t.serverData.arrPigSkill=[1,1,1,1,1,1],this.writeToCloud(!0)),t.serverData.arrPigSkill[e]},setPigSkill:function(e,n){t.serverData.arrPigSkill[e]=n,this.writeToCloud(!0)},getMusic:function(){return t.serverData.intMusic||0},setMusic:function(e){void 0===e&&(e=1),t.serverData.intMusic=e,this.writeToCloud(!0)},getSound:function(){return t.serverData.intSound||0},setSound:function(e){void 0===e&&(e=1),t.serverData.intSound=e,this.writeToCloud(!0)},getYinSi:function(){return t.serverData.intYinSi||0},setYinSi:function(e){void 0===e&&(e=1),t.serverData.intYinSi=e,this.writeToCloud(!0)},getShiMing:function(){return t.serverData.intShiMing||0},setShiMing:function(e){void 0===e&&(e=1),t.serverData.intShiMing=e,this.writeToCloud(!0)},getValidOk:function(){return t.serverData.validOk||0},setValidOk:function(e){void 0===e&&(e=1),t.serverData.validOk=e,this.writeToCloud(!0)},getTeachList:function(){return t.serverData.arrTeach?t.serverData.arrTeach:(t.serverData.arrTeach=[],this.writeToCloud(!0),null)},getTeach:function(e){if(0==e)return constants.teachEventValue.complete;if(null==t.getTeachList())return constants.teachEventValue.incomplete;for(var n=t.serverData.arrTeach.length,i=0;i<n;i++)if(t.serverData.arrTeach[i].id==e)return t.serverData.arrTeach[i].value;return constants.teachEventValue.incomplete},setTeach:function(e,n){for(var i=t.serverData.arrTeach.length,o=!1,a=0;a<i;a++)if(t.serverData.arrTeach[a].id==e){t.serverData.arrTeach[a].value=n,o=!0;break}o||t.serverData.arrTeach.push({id:e,value:n}),this.writeToCloud(!0),teachRemove()},skipTeach:function(){for(var e=jsonTables.getJsonTable("teach"),n=e.length,i=0;i<n;i++)t.setTeach(e[i].eventId,constants.teachEventValue.complete);this.writeToCloud(!0),sendCustomEvent(constants.event.teach.skip),teachRemove()},isInTeach:function(){for(var e=jsonTables.getJsonTable("teach"),n=e.length,i=0;i<n;i++)if(t.getTeach(e[i].eventId)==constants.teachEventValue.trigger)return!0;return!1},isAllTeachEnd:function(){for(var e=jsonTables.getJsonTable("teach"),n=e.length,i=0;i<n;i++)if(t.getTeach(e[i].eventId)!=constants.teachEventValue.complete)return!1;return!0},getAdsFree:function(){return t.serverData.intAdsFree?t.serverData.intAdsFree:0},addAdsFree:function(e){void 0===e&&(e=1),t.serverData.intAdsFree=Math.max(0,t.serverData.intAdsFree?t.serverData.intAdsFree+e:e),this.writeToCloud(!0)},writeToCloud:function(n){return this.userInfo.openId?this.canWrite(n)?(e.setConfigData("serverData",t.serverData),e.save()):(zzpout("forse false"),!1):(zzpout("openid null"),!1)},canWrite:function(e){var t=(new Date).getTime();return t-this.lastWriteTime>constants.writeOssInterval||e?(this.lastWriteTime=t,this.needRefresh=!1,!0):(this.needRefresh=!0,!1)},login:function(){if(zzpout("login"),!window.wx){zzpout("\u975e\u5fae\u4fe1\u6e20\u9053"),this.userInfo.avatarUrl="",this.userInfo.nickName="",this.userInfo.city="\u53a6\u95e8",this.serverData.avatarUrl=this.userInfo.avatarUrl,this.serverData.nickName=this.userInfo.nickName,this.serverData.city=this.userInfo.city,this.userInfo.gender=1;var e=cc.sys.localStorage.getItem("atmycommand_userLoginCode");return e||(console.log("\u65b0\u53f7"),e=kf.getRandomStr(25),cc.sys.localStorage.setItem("atmycommand_userLoginCode",e),zzperr("user.serverData:"+JSON.stringify(t.serverData)),t.serverData.intYinSi=1,t.serverData.intShiMing=1),zzpout("login:"+e),this.userInfo.openId=e,void this.initAccount()}zzpout("\u5fae\u4fe1\u6e20\u9053"),wx.getSetting({success:function(e){e.authSetting["scope.userInfo"]?wx.getUserInfo({success:function(e){cc.log(e.userInfo),t.userInfo.nickName=e.userInfo.nickName,t.userInfo.city=e.userInfo.city||"",t.userInfo.avatarUrl=e.userInfo.avatarUrl,t.serverData.avatarUrl=t.userInfo.avatarUrl,t.serverData.city=t.userInfo.city,t.serverData.nickName=t.userInfo.nickName,t.getWxCode()}}):t.getWxCode()}})},initAccount:function(){zzpout("initAccount :");var n,i=cc.sys.localStorage.getItem("atmycommand_userLoginCode");i||(console.log("\u65b0\u53f7"),i=kf.getRandomStr(25),cc.sys.localStorage.setItem("atmycommand_userLoginCode",i)),zzpout("login:"+i),this.userInfo.openId=i,e.setAccountInfo(t.userInfo.openId,"",1);var o=e.getConfigData("serverData");o?(t.serverData=o,t.serverData.isPass&&constants.maxChapter>t.serverData.isPass&&(t.serverData.isPass=0,t.serverData.chapter++),t.userInfo.nickName&&(t.serverData.nickName=t.userInfo.nickName),t.serverData.nickName,t.userInfo.nickName=t.serverData.nickName,this.initGameData(),n=0):(t.serverData.nickName,t.userInfo.nickName=t.serverData.nickName,this.initGameData(),n=1);for(var a=t.serverData.arrTeach.length,s=0;s<a;s++)t.serverData.arrTeach[s].value==constants.teachEventValue.trigger&&(t.serverData.arrTeach[s].value=constants.teachEventValue.incomplete);t.serverData.intAdsFree=0,t.writeToCloud(!0),window.tt&&tt.getLaunchOptionsSync().query&&tt.getLaunchOptionsSync().query.gameName&&tt.getLaunchOptionsSync().query.pos&&tt.reportAnalytics("srcGame",{gameName:tt.getLaunchOptionsSync().query.gameName,pos:tt.getLaunchOptionsSync().query.pos,new:n})},initGameData:function(){clientEvent.dispatchEvent("loginSuccess");var e=function(){t.initShareInfo()}.bind(this);t.getShareData(e)},hideInfoBtn:function(){"undefined"!=typeof wx&&null!=wx||!this.button||(this.button.destroy(),this.button=null)},showAuthorization:function(e){if("undefined"==typeof wx||null==wx){var n=this;if(wx.createUserInfoButton){var i=kf.convertFrameSizeToWx(e);n.button=wx.createUserInfoButton({type:"text",text:"",style:{left:i.x,top:i.y,width:i.width,height:i.height,lineHeight:0,backgroundColor:"",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}}),n.button.onTap(function(e){e.userInfo&&(n.button&&(n.button.destroy(),n.button=null),t.userInfo.nickName=e.userInfo.nickName,t.userInfo.city=e.userInfo.city||"",t.userInfo.avatarUrl=e.userInfo.avatarUrl,t.serverData.avatarUrl=t.userInfo.avatarUrl,t.serverData.nickName=t.userInfo.nickName,t.serverData.city=t.userInfo.city,rankLogic.postMyRank(),clientEvent.dispatchEvent("refreshInfo"))})}else wx.showToast({title:"\u5fae\u4fe1\u7248\u672c\u8fc7\u4f4e",icon:"none",duration:2e3})}},getUserInfo:function(){wx.getUserInfo({success:function(e){t.userInfo.nickName=e.userInfo.nickName,t.userInfo.city=e.userInfo.city||"",t.userInfo.avatarUrl=e.userInfo.avatarUrl,t.serverData.avatarUrl=t.userInfo.avatarUrl,t.serverData.nickName=t.userInfo.nickName,t.serverData.city=t.userInfo.city,clientEvent.dispatchEvent("refreshInfo")}})},getWxCode:function(){var e=this;window.wx.login({success:function(t){cc.log("wx login success:"+JSON.stringify(t)),e.getOpenId(t.anonymousCode)},fail:function(e){cc.log("wx login fail:"+JSON.stringify(e))}})},getOpenId:function(e){if(SERVER_ADDR_GET_OPENID){var n=SERVER_ADDR_GET_OPENID;cc.loader.load(n+e,function(e,n){if(cc.log("getOpenIdErr= ",e),!e&&n){cc.log(n);var i=JSON.parse(n);cc.log(i.anonymous_openid),t.userInfo.openId=i.anonymous_openid,this.initAccount()}else cc.log("\u83b7\u53d6openid\u5931\u8d25")}.bind(this))}else this.initAccount()},userUpdate:function(e){this.needRefresh&&(this.interval+=e,this.interval>3&&(this.interval-=3,this.writeToCloud(!0)))},getShareData:function(e){zzpout("getShareData");var n={shareData:[{shareId:"0",shareTitle:"\u5f00\u5c40\u4e00\u628a\u5200\uff0c\u5347\u7ea7\u5168\u9760\u6d6a\uff01\u5feb\u6765\u6d4b\u6d4b\u4f60\u7684\u6218\u6597\u6307\u6570\u5427",shareImg:"https://ws.taobao0.top/wxShare/img/share0.jpg",ald_desc:"0"},{shareId:"1",shareTitle:"\u5047\u5982\u62fc\u5200\u6709\u6bb5\u4f4d\uff0c\u4f60\u662f\u9752\u94dc\u8fd8\u662f\u738b\u8005\u5462\uff1f",shareImg:"https://ws.taobao0.top/wxShare/img/share0.jpg",ald_desc:"1"},{shareId:"2",shareTitle:"\u5200\u5200\u66b4\u51fb\uff0c\u8fd9\u5c0f\u6e38\u620f\u73a9\u7740\u4e5f\u592a\u723d\u4e86\u5427\uff01",shareImg:"https://ws.taobao0.top/wxShare/img/share0.jpg",ald_desc:"2"}],enableList:[],ko:0,delayBtn:1};n.shareData&&(t.shareData=n.shareData),t.enableList=n.enableList?n.enableList:[],t.ko=n.ko?n.ko:0,t.delayBtn=n.delayBtn?n.delayBtn:0,e&&e()},initShareInfo:function(){if(window.wx){wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]});var e="title",n="",i="";if(t.shareData&&t.shareData.length){var o=jsonTables.randomArrObj(t.shareData);e=o.shareTitle,n=o.shareImg?o.shareImg:CONST_SHARE_IMG,i=o.ald_desc?o.ald_desc:""}t.sendEvent(i+"\u5206\u4eab"),wx.onShareAppMessage(function(){return{title:e,imageUrl:n}})}},shareOperate:function(e,n){if(void 0===n&&(n=null),null!=t.shareData){var i="",o="";if(!n){var a=jsonTables.randomArrObj(t.shareData);n=a.shareTitle,i=a.shareImg,o=a.ald_desc?a.ald_desc:""}if("undefined"==typeof wx||null==wx)return e(),void zzpout("title"+n);t.isShare=!0,t.shareCb=e,zzpout("\u5171\u7528\u5206\u4eab"),t.sendEvent(o+"\u5206\u4eab"),console.log("shareOperate"),wx.onShareAppMessage({title:n,query:"desc="+o,imageUrl:i})}},sendEvent:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i;cc.log("\u6253\u70b9 ------------ "+t),window.wx&&window.bondSDK&&window.bondSDK.sendEvent&&(i=bondSDK).sendEvent.apply(i,t)},onCheckUpdateVersion:function(e){if("undefined"!=typeof wx&&null!=wx||!wx.getUpdateManager)e&&e();else{var t=wx.getUpdateManager();t?(t.onCheckForUpdate(function(t){t.hasUpdate?wx.showLoading({title:"\u66f4\u65b0\u4e2d..."}):e&&e()}),t.onUpdateReady(function(){wx.hideLoading(),wx.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u8bf7\u91cd\u542f\u5e94\u7528\uff01",confirmText:"\u786e\u5b9a",showCancel:!1,complete:function(){t.applyUpdate()}})}),t.onUpdateFailed(function(){wx.hideLoading(),wx.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u66f4\u65b0\u5931\u8d25\uff0c\u8bf7\u91cd\u542f\u5e94\u7528\u91cd\u8bd5\uff01",confirmText:"\u786e\u5b9a",showCancel:!1,complete:function(){t.applyUpdate()}})})):e&&e()}},shareWx:function(e,n,i,o){if(void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=!0),window.wx&&null!=t.shareData){zzpout("shareWx:"+e.name);var a=kf.convertViewportToWx(e),s=jsonTables.randomArrObj(t.shareData),r=s.shareTitle;t.isShare=!0,n&&(t.shareCb=n),i&&(t.shareCbFail=i),o?(zzpout("rect:"+JSON.stringify(a)),wx.showLoading(),canvas.toTempFilePath({x:a.x,y:a.y+350,width:a.width,height:576,destWidth:400,destHeight:300,fileType:"jpg",quality:1,success:function(e){zzpout("\u5206\u4eab \u751f\u6210\u56fe\u7247"),t.sendEvent(s.ald_desc+"\u5206\u4eab"),wx.shareAppMessage({title:r,imageUrl:e.tempFilePath,query:"desc="+s.ald_desc})},fail:function(e){zzpout("\u5206\u4eab \u751f\u6210\u56fe\u7247\u5931\u8d25"),cc.log(JSON.stringify(e))},complete:function(){wx.hideLoading()}})):(zzpout("\u5206\u4eab \u968f\u673a\u56fe\u7247"),t.sendEvent(s.ald_desc+"\u5206\u4eab"),wx.shareAppMessage({title:r,imageUrl:s.shareImg,query:"desc="+s.ald_desc}))}else n&&n()},wxRenderRegister:function(){},downloadImgSave:function(e,n){CC_WECHATGAME&&(this.fristOpen?wx.getSetting({success:function(i){i.authSetting["scope.writePhotosAlbum"]?wx.downloadFile({url:e,success:function(e){200===e.statusCode&&t.saveImageToPhotosAlbum(e.tempFilePath,n)}}):t.showModal()}}):(this.fristOpen=!0,wx.downloadFile({url:e,success:function(e){200===e.statusCode&&t.saveImageToPhotosAlbum(e.tempFilePath,n)}})))},savePicture:function(e,n,i){if(window.wx)if(this.fristOpen)wx.getSetting({success:function(o){if(o.authSetting["scope.writePhotosAlbum"]){var a=kf.convertViewportToWx(e);canvas.toTempFilePath({x:a.x,y:a.y,width:a.width,height:a.height,destWidth:a.width,destHeight:a.height,fileType:"jpg",quality:1,success:function(e){wx.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(){uiManager.showTipMsg("\u4fdd\u5b58\u56fe\u7247\u6210\u529f\uff0c\u5feb\u53bb\u670b\u53cb\u5708\u9080\u8bf7\u597d\u53cb\u5427"),n&&n()}})},fail:function(e){console.log(JSON.stringify(e))},complete:function(){}})}else t.showModal(),i&&i()}});else{this.fristOpen=!0;var o=kf.convertViewportToWx(e);canvas.toTempFilePath({x:o.x,y:o.y,width:o.width,height:o.height,destWidth:o.width,destHeight:o.height,fileType:"jpg",quality:1,success:function(e){wx.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(){uiManager.showTipMsg("\u4fdd\u5b58\u56fe\u7247\u6210\u529f\uff0c\u5feb\u53bb\u670b\u53cb\u5708\u9080\u8bf7\u597d\u53cb\u5427"),n&&n()},fail:function(){t.showModal(),i&&i()}})},fail:function(e){console.log(JSON.stringify(e))},complete:function(){}})}else n&&n()},showModal:function(){wx.showModal({content:"\u4fdd\u5b58\u56fe\u7247\u9700\u8981\u76f8\u518c\u6743\u9650\uff0c\u662f\u5426\u53bb\u8bbe\u7f6e\u6253\u5f00\uff1f",confirmText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",success:function(e){console.log(e),e.confirm?(console.log("\u7528\u6237\u70b9\u51fb\u786e\u8ba4"),wx.openSetting({success:function(e){console.log(e),e.authSetting["scope.writePhotosAlbum"]?uiManager.showTipMsg("\u83b7\u53d6\u6743\u9650\u6210\u529f,\u8bf7\u91cd\u65b0\u70b9\u51fb\u4fdd\u5b58\u56fe\u7247"):uiManager.showTipMsg("\u83b7\u53d6\u6743\u9650\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5")}})):console.log("\u7528\u6237\u70b9\u51fb\u53d6\u6d88")}})}};return t}),cc._RF.pop()},{}],uuidUtils:[function(e,t){"use strict";cc._RF.push(t,"29db6PMkR9GDpkJ1s7tr/Cd","uuidUtils"),kf.addModule("basic.uuidUtils",function(){for(var e={},t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Array(128),i=0;i<128;++i)n[i]=0;for(var o=0;o<64;++o)n[t.charCodeAt(o)]=o;var a=/-/g,s=/^[0-9a-fA-F-]{36}$/,r=/^[0-9a-fA-F]{32}$/,c=/^[0-9a-zA-Z+/]{22,23}$/,d=/.*[/\\][0-9a-fA-F]{2}[/\\]([0-9a-fA-F-]{8,})/;return e.init=function(){window.uuidUtils=window.uuidUtils||{},kf.convertData(this,window.uuidUtils)},e.compressUuid=function(e,t){if(s.test(e))e=e.replace(a,"");else if(!r.test(e))return e;var n=!0===t?2:5;return this.compressHex(e,n)},e.compressHex=function(e,n){var i,o=e.length;i=void 0!==n?n:o%3;for(var a=[],s=e.slice(0,i);i<o;){var r=parseInt(e[i],16),c=parseInt(e[i+1],16),d=parseInt(e[i+2],16);a.push(t[r<<2|c>>2]),a.push(t[(3&c)<<4|d]),i+=3}return s+a.join("")},e.decompressUuid=function(e){if(23===e.length){for(var t=[],i=5;i<23;i+=2){var o=n[e.charCodeAt(i)],a=n[e.charCodeAt(i+1)];t.push((o>>2).toString(16)),t.push(((3&o)<<2|a>>4).toString(16)),t.push((15&a).toString(16))}e=e.slice(0,5)+t.join("")}else{if(22!==e.length)return e;for(var s=[],r=2;r<22;r+=2){var c=n[e.charCodeAt(r)],d=n[e.charCodeAt(r+1)];s.push((c>>2).toString(16)),s.push(((3&c)<<2|d>>4).toString(16)),s.push((15&d).toString(16))}e=e.slice(0,2)+s.join("")}return[e.slice(0,8),e.slice(8,12),e.slice(12,16),e.slice(16,20),e.slice(20)].join("-")},e.isUuid=function(e){return c.test(e)||r.test(e)||s.test(e)},e.getUuidFromLibPath=function(e){var t=e.match(d);return t?t[1]:""},e}),cc._RF.pop()},{}],weHttp:[function(e,t,n){"use strict";cc._RF.push(t,"adbb06/2a5PZpRrwUcBFXiJ","weHttp"),Object.defineProperty(n,"__esModule",{value:!0}),n.Http=void 0;var i=e("./weNetworkMgr"),o=e("./tyq-sdk-config"),a=function(){function e(){this._timeOut=1e4,this._httpUrl=o.default.server}return Object.defineProperty(e.prototype,"timeOut",{set:function(e){this._timeOut=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"httpUrl",{set:function(e){this._httpUrl=e},enumerable:!1,configurable:!0}),e.prototype.init=function(e){this._httpUrl=e},e.prototype.post=function(e,t,n){var o="";t&&(o=this.createSign(t));var a=new XMLHttpRequest;a.timeout=this._timeOut,a.open("POST",this._httpUrl+e,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.send(o),a.onreadystatechange=function(){if(4===a.readyState&&a.status>=200&&a.status<300){var t=a.responseText;if(!t)return void i.NetworkMgr.onHttpError(n,null,"http request respone is null");i.NetworkMgr.checkRespone(e,t,n)}}.bind(this),a.ontimeout=function(e){console.error("http request timeout: ",e),i.NetworkMgr.onHttpError(n,null,"http request timeout: ")}.bind(this),a.onerror=function(e){i.NetworkMgr.onHttpError(n,e,"http request error: ")}.bind(this)},e.prototype.post2=function(e,t,n){var o=this.MsgToString(t),a=new XMLHttpRequest;a.timeout=this._timeOut,a.open("GET",this._httpUrl+e+"?"+o,!0),a.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),a.send(JSON.stringify(t)),a.onreadystatechange=function(){if(4===a.readyState&&a.status>=200&&a.status<300){var t=a.responseText;if(!t)return void i.NetworkMgr.onHttpError(n,null,"http request respone is null");i.NetworkMgr.checkRespone(e,t,n)}}.bind(this),a.ontimeout=function(e){console.error("http request timeout: ",e)}.bind(this),a.onerror=function(e){i.NetworkMgr.onHttpError(n,e,"http request error: ")}.bind(this)},e.prototype.MsgToString=function(e){for(var t="",n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];t+=o+'="'+e[o]+'"&'}return t},e.prototype.strToDES3=function(){},e.prototype.createSign=function(e){var t=new Array,n=0;for(var i in e)t[n]=i,n++;var a=t.sort(),s="";for(var i in a)(e[a[i]]||"number"==typeof e[a[i]])&&(s+=a[i]+"="+e[a[i]]+"&&");var r=s;return r+="api_key="+o.default.api_key,s+"sign="+this.MD5(decodeURIComponent(r))},e.prototype.md5encode=function(e){var t,n=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,i=-271733879,d=-1732584194,l=271733878,h=0;h<e.length;h+=16){var u=n,p=i,g=d,f=l;n=o(n,i,d,l,e[h+0],7,-680876936),l=o(l,n,i,d,e[h+1],12,-389564586),d=o(d,l,n,i,e[h+2],17,606105819),i=o(i,d,l,n,e[h+3],22,-1044525330),n=o(n,i,d,l,e[h+4],7,-176418897),l=o(l,n,i,d,e[h+5],12,1200080426),d=o(d,l,n,i,e[h+6],17,-1473231341),i=o(i,d,l,n,e[h+7],22,-45705983),n=o(n,i,d,l,e[h+8],7,1770035416),l=o(l,n,i,d,e[h+9],12,-1958414417),d=o(d,l,n,i,e[h+10],17,-42063),i=o(i,d,l,n,e[h+11],22,-1990404162),n=o(n,i,d,l,e[h+12],7,1804603682),l=o(l,n,i,d,e[h+13],12,-40341101),d=o(d,l,n,i,e[h+14],17,-1502002290),i=o(i,d,l,n,e[h+15],22,1236535329),n=a(n,i,d,l,e[h+1],5,-165796510),l=a(l,n,i,d,e[h+6],9,-1069501632),d=a(d,l,n,i,e[h+11],14,643717713),i=a(i,d,l,n,e[h+0],20,-373897302),n=a(n,i,d,l,e[h+5],5,-701558691),l=a(l,n,i,d,e[h+10],9,38016083),d=a(d,l,n,i,e[h+15],14,-660478335),i=a(i,d,l,n,e[h+4],20,-405537848),n=a(n,i,d,l,e[h+9],5,568446438),l=a(l,n,i,d,e[h+14],9,-1019803690),d=a(d,l,n,i,e[h+3],14,-187363961),i=a(i,d,l,n,e[h+8],20,1163531501),n=a(n,i,d,l,e[h+13],5,-1444681467),l=a(l,n,i,d,e[h+2],9,-51403784),d=a(d,l,n,i,e[h+7],14,1735328473),i=a(i,d,l,n,e[h+12],20,-1926607734),n=s(n,i,d,l,e[h+5],4,-378558),l=s(l,n,i,d,e[h+8],11,-2022574463),d=s(d,l,n,i,e[h+11],16,1839030562),i=s(i,d,l,n,e[h+14],23,-35309556),n=s(n,i,d,l,e[h+1],4,-1530992060),l=s(l,n,i,d,e[h+4],11,1272893353),d=s(d,l,n,i,e[h+7],16,-155497632),i=s(i,d,l,n,e[h+10],23,-1094730640),n=s(n,i,d,l,e[h+13],4,681279174),l=s(l,n,i,d,e[h+0],11,-358537222),d=s(d,l,n,i,e[h+3],16,-722521979),i=s(i,d,l,n,e[h+6],23,76029189),n=s(n,i,d,l,e[h+9],4,-640364487),l=s(l,n,i,d,e[h+12],11,-421815835),d=s(d,l,n,i,e[h+15],16,530742520),i=s(i,d,l,n,e[h+2],23,-995338651),n=r(n,i,d,l,e[h+0],6,-198630844),l=r(l,n,i,d,e[h+7],10,1126891415),d=r(d,l,n,i,e[h+14],15,-1416354905),i=r(i,d,l,n,e[h+5],21,-57434055),n=r(n,i,d,l,e[h+12],6,1700485571),l=r(l,n,i,d,e[h+3],10,-1894986606),d=r(d,l,n,i,e[h+10],15,-1051523),i=r(i,d,l,n,e[h+1],21,-2054922799),n=r(n,i,d,l,e[h+8],6,1873313359),l=r(l,n,i,d,e[h+15],10,-30611744),d=r(d,l,n,i,e[h+6],15,-1560198380),i=r(i,d,l,n,e[h+13],21,1309151649),n=r(n,i,d,l,e[h+4],6,-145523070),l=r(l,n,i,d,e[h+11],10,-1120210379),d=r(d,l,n,i,e[h+2],15,718787259),i=r(i,d,l,n,e[h+9],21,-343485551),n=c(n,u),i=c(i,p),d=c(d,g),l=c(l,f)}return Array(n,i,d,l)},i=function(e,t,n,i,o,a){return c(d(c(c(t,e),c(i,a)),o),n)},o=function(e,t,n,o,a,s,r){return i(t&n|~t&o,e,t,a,s,r)},a=function(e,t,n,o,a,s,r){return i(t&o|n&~o,e,t,a,s,r)},s=function(e,t,n,o,a,s,r){return i(t^n^o,e,t,a,s,r)},r=function(e,t,n,o,a,s,r){return i(n^(t|~o),e,t,a,s,r)},c=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},d=function(e,t){return e<<t|e>>>32-t};return function(e){for(var t="",n=0;n<4*e.length;n++)t+="0123456789abcdef".charAt(e[n>>2]>>n%4*8+4&15)+"0123456789abcdef".charAt(e[n>>2]>>n%4*8&15);return t}(n(function(e){for(var t=Array(),n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}(t=e),8*t.length))},e.prototype.MD5=function(e){var t=0;function n(e){return s(r(a(e),8*e.length))}function i(e){for(var n,i=t?"0123456789ABCDEF":"0123456789abcdef",o="",a=0;a<e.length;a++)n=e.charCodeAt(a),o+=i.charAt(n>>>4&15)+i.charAt(15&n);return o}function o(e){for(var t,n,i="",o=-1;++o<e.length;)t=e.charCodeAt(o),n=o+1<e.length?e.charCodeAt(o+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),o++),t<=127?i+=String.fromCharCode(t):t<=2047?i+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?i+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(i+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return i}function a(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}function s(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function r(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,i=-271733879,o=-1732584194,a=271733878,s=0;s<e.length;s+=16){var r=n,c=i,g=o,f=a;n=d(n,i,o,a,e[s+0],7,-680876936),a=d(a,n,i,o,e[s+1],12,-389564586),o=d(o,a,n,i,e[s+2],17,606105819),i=d(i,o,a,n,e[s+3],22,-1044525330),n=d(n,i,o,a,e[s+4],7,-176418897),a=d(a,n,i,o,e[s+5],12,1200080426),o=d(o,a,n,i,e[s+6],17,-1473231341),i=d(i,o,a,n,e[s+7],22,-45705983),n=d(n,i,o,a,e[s+8],7,1770035416),a=d(a,n,i,o,e[s+9],12,-1958414417),o=d(o,a,n,i,e[s+10],17,-42063),i=d(i,o,a,n,e[s+11],22,-1990404162),n=d(n,i,o,a,e[s+12],7,1804603682),a=d(a,n,i,o,e[s+13],12,-40341101),o=d(o,a,n,i,e[s+14],17,-1502002290),n=l(n,i=d(i,o,a,n,e[s+15],22,1236535329),o,a,e[s+1],5,-165796510),a=l(a,n,i,o,e[s+6],9,-1069501632),o=l(o,a,n,i,e[s+11],14,643717713),i=l(i,o,a,n,e[s+0],20,-373897302),n=l(n,i,o,a,e[s+5],5,-701558691),a=l(a,n,i,o,e[s+10],9,38016083),o=l(o,a,n,i,e[s+15],14,-660478335),i=l(i,o,a,n,e[s+4],20,-405537848),n=l(n,i,o,a,e[s+9],5,568446438),a=l(a,n,i,o,e[s+14],9,-1019803690),o=l(o,a,n,i,e[s+3],14,-187363961),i=l(i,o,a,n,e[s+8],20,1163531501),n=l(n,i,o,a,e[s+13],5,-1444681467),a=l(a,n,i,o,e[s+2],9,-51403784),o=l(o,a,n,i,e[s+7],14,1735328473),n=h(n,i=l(i,o,a,n,e[s+12],20,-1926607734),o,a,e[s+5],4,-378558),a=h(a,n,i,o,e[s+8],11,-2022574463),o=h(o,a,n,i,e[s+11],16,1839030562),i=h(i,o,a,n,e[s+14],23,-35309556),n=h(n,i,o,a,e[s+1],4,-1530992060),a=h(a,n,i,o,e[s+4],11,1272893353),o=h(o,a,n,i,e[s+7],16,-155497632),i=h(i,o,a,n,e[s+10],23,-1094730640),n=h(n,i,o,a,e[s+13],4,681279174),a=h(a,n,i,o,e[s+0],11,-358537222),o=h(o,a,n,i,e[s+3],16,-722521979),i=h(i,o,a,n,e[s+6],23,76029189),n=h(n,i,o,a,e[s+9],4,-640364487),a=h(a,n,i,o,e[s+12],11,-421815835),o=h(o,a,n,i,e[s+15],16,530742520),n=u(n,i=h(i,o,a,n,e[s+2],23,-995338651),o,a,e[s+0],6,-198630844),a=u(a,n,i,o,e[s+7],10,1126891415),o=u(o,a,n,i,e[s+14],15,-1416354905),i=u(i,o,a,n,e[s+5],21,-57434055),n=u(n,i,o,a,e[s+12],6,1700485571),a=u(a,n,i,o,e[s+3],10,-1894986606),o=u(o,a,n,i,e[s+10],15,-1051523),i=u(i,o,a,n,e[s+1],21,-2054922799),n=u(n,i,o,a,e[s+8],6,1873313359),a=u(a,n,i,o,e[s+15],10,-30611744),o=u(o,a,n,i,e[s+6],15,-1560198380),i=u(i,o,a,n,e[s+13],21,1309151649),n=u(n,i,o,a,e[s+4],6,-145523070),a=u(a,n,i,o,e[s+11],10,-1120210379),o=u(o,a,n,i,e[s+2],15,718787259),i=u(i,o,a,n,e[s+9],21,-343485551),n=p(n,r),i=p(i,c),o=p(o,g),a=p(a,f)}return Array(n,i,o,a)}function c(e,t,n,i,o,a){return p((s=p(p(t,e),p(i,a)))<<(r=o)|s>>>32-r,n);var s,r}function d(e,t,n,i,o,a,s){return c(t&n|~t&i,e,t,o,a,s)}function l(e,t,n,i,o,a,s){return c(t&i|n&~i,e,t,o,a,s)}function h(e,t,n,i,o,a,s){return c(t^n^i,e,t,o,a,s)}function u(e,t,n,i,o,a,s){return c(n^(t|~i),e,t,o,a,s)}function p(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return i(n(o(e)))},e.prototype.get=function(e,t,n,i){var o=new XMLHttpRequest;o.timeout=5e3;var a="?";for(var s in t)"?"!=a&&(a+="&"),a+=s+"="+t[s];null==i&&(i=GHttpClient.url);var r=i+e+a;return console.log("RequestURL:"+r),o.open("GET",r,!0),o.onreadystatechange=function(){if(4===o.readyState&&o.status>=200&&o.status<300){console.log("http res("+o.responseText.length+"):"+o.responseText);try{var e=JSON.parse(o.responseText);null!==n&&n(null,e)}catch(t){null!==n&&n(t)}}},o.send(),o},e._instance=new e,e}();n.Http=a._instance,cc._RF.pop()},{"./tyq-sdk-config":"tyq-sdk-config","./weNetworkMgr":"weNetworkMgr"}],weNetworkMgr:[function(e,t,n){"use strict";cc._RF.push(t,"4b5ffLf+rdMyL/NOUcX1J4k","weNetworkMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkMgr=void 0;var i=e("./weHttp"),o=function(){function e(){this.mid=0,this.messageList={},this.limitMessageNum=5,this.timer=null,this.token="",this.isLock=!1,this._dealHeadListener=null,this._encryptRule=["mid:","uid:","key:","data:"],this._encryptCode="zqkg",this._intervalTime=3e3,this._errorServerCode=500,this._successCode=0,this._errorRestartGameCode=[102],this._errorNetCode={},this._overTime=5e3,this._uid=0,this.lastMessage=null,this.mid=0,this.messageList={},this.timer=null}return Object.defineProperty(e.prototype,"errorNetCode",{set:function(e){this._errorNetCode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"encryptCode",{set:function(e){this._encryptCode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errorRestartGameCode",{set:function(e){this._errorRestartGameCode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"successCode",{set:function(e){this._successCode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errorServerCode",{set:function(e){this._errorServerCode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"encryptRule",{set:function(e){this._encryptRule=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"intervalTime",{set:function(e){this._intervalTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overTime",{set:function(e){this._overTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dealHeadListener",{set:function(e){this._dealHeadListener=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uid",{set:function(e){this._uid=e},enumerable:!1,configurable:!0}),e.prototype.xhrPost=function(e,t,n,i,o){void 0===o&&(o=!1),this.mid+=1;var s={head:{route:e,mid:this.mid.toString(),uid:this._uid},body:t},r=new a;r.route=e,r.mid=this.mid,r.data=s,n&&(r.callback=n),r.isRepeat=o,i&&(r.failCallBack=i),this.messageList[this.mid]=r,this.startTimer(),this.isLock||this.sendMessage(this.mid)},e.prototype.checkRespone=function(e,t,n){var i=this.jsdecrypt(t),o=this.messageList[n];this.succeedResponeBody(o,i,n)},e.prototype.succeedResponeHead=function(e){this._dealHeadListener&&this._dealHeadListener(e)},e.prototype.succeedResponeBody=function(e,t,n){this.isLock=!1,this.clearTimer(),this.deleteMessageListItem(n,!1),this.checkNextMessage(),e&&e.callback&&e.callback(t)},e.prototype.checkErrorCode=function(e,t){e!==this._errorServerCode&&this.deleteMessageListItem(t,!0);for(var n=0;n<this._errorRestartGameCode.length;n++)e===this._errorRestartGameCode[n]&&this.restartGame();var i=this.getErrorCodeMeaning(e);console.error("----\x3e \u8fd4\u56de\u9519\u8bef, code:",e,i)},e.prototype.checkNextMessage=function(){for(var e in this.messageList){var t=this.messageList[e];0===t.sendNum&&this.sendMessage(t.mid)}},e.prototype.deleteMessageListItem=function(e,t){this.messageList&&this.messageList[e]&&(this.messageList[e].failCallBack&&t&&this.messageList[e].failCallBack(),delete this.messageList[e])},e.prototype.jsdecrypt=function(e){var t=null;if("string"==typeof e)try{t=JSON.parse(e)}catch(n){}return t},e.prototype.sendMessage=function(e,t){if(void 0===t&&(t=!0),0!==Object.keys(this.messageList).length){var n=this.messageList[e];if(t&&n.sendNum>=this.limitMessageNum||!t&&n.errorNum>=this.limitMessageNum)return console.error(n.data.head.route,"message send too much times"),void this.deleteMessageListItem(e,!1);n.sendNum+=1;var o=n.data,a=o.head.route;o.head.token=this.token,console.log("----\x3e \u8bf7\u6c42\u6570\u636e",a,o.body),this.lastMessage=n,i.Http.post(a,o.body,e)}else console.log("message list is null...")},e.prototype.getErrorCodeMeaning=function(e){var t=this._errorNetCode[e],n=t;return t||(n="\u670d\u52a1\u5668\u9519\u8bef\u7801\uff1a "+e),n},e.prototype.restartGame=function(){},e.prototype.startTimer=function(){this.timer||(this.timer=setInterval(this.checkPackage.bind(this),this._intervalTime))},e.prototype.checkPackage=function(){if(0!==Object.keys(this.messageList).length)for(var e in this.messageList){var t=this.messageList[e];if(Date.now()-t.time>this._overTime&&t.isRepeat){var n=t.mid;this.sendMessage(n);break}this.deleteMessageListItem(t.mid,!1)}else this.clearTimer()},e.prototype.clearTimer=function(){this.timer&&(clearInterval(this.timer),this.timer=0)},e.prototype.onHttpError=function(e,t,n){var i=this;n?console.error("----\x3e onHttpError",n,t):console.error("----\x3e onHttpError",t);var o=this.messageList[e];o&&(o.isRepeat?setTimeout(function(){o.errorNum++,i.sendMessage(e,!1)},3e3):this.deleteMessageListItem(e,!0))},e._instance=new e,e}();n.NetworkMgr=o._instance;var a=function(e){for(var t in this.route="",this.lock=!1,this.mid=0,this.data=null,this.callback=null,this.failCallBack=null,this.time=0,this.sendNum=0,this.errorNum=0,this.isRepeat=!1,this.time=Date.now(),e)this[t]=e[t]};n.default=a,cc._RF.pop()},{"./weHttp":"weHttp"}],wechat:[function(e,t,n){"use strict";cc._RF.push(t,"e764a4/SA1KPJQsxia7IWp+","wechat"),Object.defineProperty(n,"__esModule",{value:!0}),n.Wechat=void 0;var i=function(){function e(){this.systemInfo=null,this.userInfoButton=null,this.bannerAd=null,this.rewardedVideoAd=null,this.interstitialAd=null,this.RiconAD=null,this.LiconAD=null,this.gridAd=null,this.gridAdCunt=null,this.GameRecorder=null,this.startListener=null,this.resumeListener=null,this.pauseListener=null,this.stopListener=null,this.errorListener=null,this.abortListener=null,this.timeUpdateListener=null,this.gameClub=null,this.feedbackButton=null,this.showListener=null,this.hideListener=null,this._bannerAdUnitId="",this._bannerAdRefreshTimeOutId=0,this._rewardedVideoAdUnitId="adunit-929750ccddf58ae6",this._interstitialAdUnitId="adunit-6eb7bac4f27b7237",this._latticeAdUnitId="",this._RIconAdunit="",this._LIconAdunit="",this.mainBannerAD=null,this._userInfoButtonData={width:null,height:null,x:null,y:null,url:null},this._feedbackButtonData={width:null,height:null,x:null,y:null,url:null},this._bannerSize={width:600,height:172},this._gameClubSize={icon:"",x:0,y:0,width:0,height:0},this._closeRewardVideoListener=null}return Object.defineProperty(e.prototype,"RIconAduni",{set:function(e){this._RIconAdunit=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"LIconAduni",{set:function(e){this._LIconAdunit=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bannerAdUnitId",{set:function(e){this._bannerAdUnitId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rewardedVideoAdUnitId",{set:function(e){this._rewardedVideoAdUnitId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"interstitialAdUnitId",{set:function(e){this._interstitialAdUnitId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bannerSize",{set:function(e){this._bannerSize.width=e.width,this._bannerSize.height=e.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"latticeAdUnitId",{set:function(e){this._latticeAdUnitId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameClubSize",{set:function(e){this._gameClubSize.x=e.x,this._gameClubSize.y=e.y,this._gameClubSize.width=e.width,this._gameClubSize.height=e.height,this._gameClubSize.icon=e.icon},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userInfoButtonData",{set:function(e){this._userInfoButtonData.width=e.width,this._userInfoButtonData.height=e.height,this._userInfoButtonData.x=e.x,this._userInfoButtonData.y=e.y,this._userInfoButtonData.url=e.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"closeRewardVideoListener",{set:function(e){this._closeRewardVideoListener=e},enumerable:!1,configurable:!0}),e.prototype.wetchatLogin=function(e,t){var n={wccode:null,wcencrypted:null,wciv:null};this.login(function(t){n.wccode=t,e&&e(t)},function(e){n.wcencrypted=e.encryptedData,n.wciv=e.iv,t&&t(n)})},e.prototype.getSetting=function(t,n){e.isSupportedAPI(wx.getSetting)?wx.getSetting({success:function(e){t(e.authSetting["scope.userInfo"])},fail:function(e){n&&n(e)}}):(console.error("----\x3e \u5fae\u4fe1\u7248\u672c\u4e0d\u652f\u6301getSetting API"),n&&n("----\x3e \u5fae\u4fe1\u7248\u672c\u4e0d\u652f\u6301getSetting API"))},e.prototype.createUserInfoButton=function(t,n,i,o){void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=cc.winSize.width),void 0===o&&(o=cc.winSize.height),e.isSupportedAPI(wx.createUserInfoButton)?this.userInfoButton=wx.createUserInfoButton({type:"image",style:{left:t,top:n,width:cc.winSize.width,height:cc.winSize.height}}):console.log("=====> @framework,\u5f53\u524d\u5fae\u4fe1\u7248\u672c\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u4f7f\u7528\u6388\u6743\u6309\u94ae\uff0c\u8bf7\u5347\u7ea7\u5230\u6700\u65b0\u5fae\u4fe1\u7248\u672c\u540e\u91cd\u8bd5")},e.prototype.destroyAuthorizeBtn=function(){this.userInfoButton&&(this.userInfoButton.destroy(),this.userInfoButton=null)},e.prototype.onTapUserInfoButton=function(e,t){var n=this;this.userInfoButton?this.userInfoButton.onTap(function(i){console.log("onTap",i),i.userInfo?(n.destroyAuthorizeBtn(),e&&e(i)):t(i)}):t(null)},e.prototype.login=function(e,t){wx.login({success:function(t){e(t.code)},fail:function(){t()}})},e.prototype.getUserInfo=function(e,t){this.getSetting(function(){wx.getUserInfo({success:function(t){e&&e(t)},fail:function(e){t&&t(e)}})},function(e){t&&(console.log(e),t("getsetting \u5931\u8d25"))})},e.prototype.shareAppMessage=function(e,t,n){wx.shareAppMessage({title:e,imageUrl:t,query:n})},e.prototype.showBannerAd=function(t,n){if(void 0===n&&(n=30),e.isSupportedAPI(wx.createBannerAd)){if(!this.bannerAd){var i=["adunit-1216ac799b39e3fe","adunit-59592daa255c34e9","adunit-69d8b5de16d5a5ed","adunit-3c5a6c4709eb210c","adunit-9265c9d467c9860d"],o=Math.floor(Math.random()*i.length);return this._bannerAdUnitId=i[o],this.createBannerAd(n,t),void this.bannerAd.show()}this.bannerAd.show(),t&&t(!0)}},e.prototype.showMainBanner=function(t,n){if(void 0===n&&(n=30),e.isSupportedAPI(wx.createBannerAd))return this.mainBannerAD?(this.mainBannerAD.destroy(),this.mainBannerAD=null,void this.mainCreateBannerAd(n,t)):void this.mainCreateBannerAd(n,t)},e.prototype.mainCreateBannerAd=function(e,t){var n=this;console.log("banner width= ",this._bannerSize.width,this._bannerAdUnitId);var i={width:.65*this._bannerSize.width,height:.35*this._bannerSize.height};this.mainBannerAD=wx.createBannerAd({adUnitId:this._bannerAdUnitId,adIntervals:e,style:{left:this.systemInfo.windowWidth/2-i.width/2,top:this.systemInfo.windowHeight-i.height+.1*this.systemInfo.windowHeight,height:i.height,width:i.width}}),console.log("mainBanner"),this.mainBannerAD.onLoad(function(){console.log("=====> @framework, banner\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),0!=n._bannerAdRefreshTimeOutId&&(clearTimeout(n._bannerAdRefreshTimeOutId),n._bannerAdRefreshTimeOutId=0),n.mainBannerAD.hide(),t&&t(!0)}),this.mainBannerAD.onError(function(e){console.log("=====> @framework, banner\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a",e),t&&t(!1)})},e.prototype.hideBannerAd=function(){this.bannerAd&&this.bannerAd.hide(),0!=this._bannerAdRefreshTimeOutId&&(clearTimeout(this._bannerAdRefreshTimeOutId),this._bannerAdRefreshTimeOutId=0)},e.prototype.destroyBannerAd=function(){this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null),0!=this._bannerAdRefreshTimeOutId&&(clearTimeout(this._bannerAdRefreshTimeOutId),this._bannerAdRefreshTimeOutId=0)},e.prototype.createBannerAd=function(e,t,n){var i=this;void 0===n&&(n=!0),this.getSystemInfoSync(),console.log("banner width= ",this._bannerSize.width,this._bannerAdUnitId);var o={width:.65*this._bannerSize.width,height:.35*this._bannerSize.height};this.bannerAd=wx.createBannerAd({adUnitId:this._bannerAdUnitId,adIntervals:30,style:{left:this.systemInfo.windowWidth/2-o.width/2,top:this.systemInfo.windowHeight-o.height+.1*this.systemInfo.windowHeight,height:o.height,width:o.width}}),console.log("bannerSize: ",o,", systemInfo: ",this.systemInfo,",this.bannerAd.style: ",this.bannerAd.style),this.bannerAd.onLoad(function(){console.log("=====> @framework, banner\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),0!=i._bannerAdRefreshTimeOutId&&(clearTimeout(i._bannerAdRefreshTimeOutId),i._bannerAdRefreshTimeOutId=0),n&&i.bannerAd.show(),t&&t(!0)}),this.bannerAd.onError(function(e){console.log("=====> @framework, banner\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a",e),t&&t(!1)}),this.bannerAd.onResize(function(e){i.bannerAd.style.left=i.systemInfo.windowWidth/2-e.width/2-.1,i.bannerAd.style.top=i.systemInfo.windowHeight-e.height+.1})},e.prototype.showRewardVideoAd=function(){var e=this;return new Promise(function(t,n){if(e.createRewardedVideoAd(),!e.rewardedVideoAd)return console.log("=====> @framework, \u5956\u52b1\u89c6\u9891\u5bf9\u8c61\u4e3a\u4e0d\u5b58\u5728"),n(),null;e.rewardedVideoAd.load().then(function(){e.rewardedVideoAd.show()});var i=function(n){n&&n.isEnded||void 0===n?t(!0):t(!1),e.closeRewardVideo(),e.rewardedVideoAd.offClose(i)},o=function(t){console.log("=====> @framework, \u5956\u52b1\u89c6\u9891\u53d1\u751f\u9519\u8bef\uff1a",t),e.rewardedVideoAd.load().then(function(){return e.rewardedVideoAd.show()}).then(function(){e.rewardedVideoAd.offError(o)}).catch(function(){console.error("\u5956\u52b1\u89c6\u9891\u53d1\u751f\u9519\u8bef\uff1a"),n(),e.rewardedVideoAd.offError(o)})};e.rewardedVideoAd.onClose(i),e.rewardedVideoAd.onError(o)})},e.prototype.createRewardedVideoAd=function(){wx.createRewardedVideoAd?this.rewardedVideoAd||(this.rewardedVideoAd=wx.createRewardedVideoAd({adUnitId:this._rewardedVideoAdUnitId}),this.rewardedVideoAd.onLoad(function(){console.log("=====> @framework, \u52a0\u8f7d\u89c6\u9891\u5e7f\u544a\u6210\u529f")})):console.log("=====> @framework,\u5f53\u524d\u5fae\u4fe1\u7248\u672c\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u4f7f\u7528\u5956\u52b1\u89c6\u9891\u529f\u80fd\uff0c\u8bf7\u5347\u7ea7\u5230\u6700\u65b0\u5fae\u4fe1\u7248\u672c\u540e\u91cd\u8bd5")},e.prototype.closeRewardVideo=function(){this._closeRewardVideoListener&&this._closeRewardVideoListener()},e.prototype.showInterstitialAd=function(){var e=this;wx.createInterstitialAd?(e.interstitialAd||(e.interstitialAd=wx.createInterstitialAd({adUnitId:e._interstitialAdUnitId})),this.interstitialAd.onLoad(function(){console.log("=====> @framework,\u63d2\u5c4f\u521b\u5efa\u6210\u529f")}),this.interstitialAd.onError(function(e){console.log("=====> @framework,\u63d2\u5c4f\u521b\u5efa\u5931\u8d25: ",e)}),this.interstitialAd.onClose(function(){e.interstitialAd=null,console.log("----\x3e \u63d2\u5c4f \u5e7f\u544a\u5173\u95ed")}),console.log("----\x3e \u663e\u793a\u63d2\u5c4f\u5e7f\u544a"),this.interstitialAd.show()):console.log("=====> @framework,\u5f53\u524d\u5fae\u4fe1\u7248\u672c\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u4f7f\u7528\u63d2\u5c4f\u5e7f\u544a\u529f\u80fd\uff0c\u8bf7\u5347\u7ea7\u5230\u6700\u65b0\u5fae\u4fe1\u7248\u672c\u540e\u91cd\u8bd5")},e.prototype.createGameClubButton=function(){wx.createGameClubButton?this.gameClub||(this.gameClub=wx.createGameClubButton({icon:this._gameClubSize.icon,style:{left:this._gameClubSize.x/this.systemInfo.pixelRatio,top:this._gameClubSize.y/this.systemInfo.pixelRatio,width:this._gameClubSize.width,height:this._gameClubSize.height}}),this.gameClub.hide(),console.log("gameClub",this.gameClub)):console.log("=====> @framework,\u5f53\u524d\u5fae\u4fe1\u7248\u672c\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u4f7f\u7528\u6e38\u620f\u5708\u529f\u80fd\uff0c\u8bf7\u5347\u7ea7\u5230\u6700\u65b0\u5fae\u4fe1\u7248\u672c\u540e\u91cd\u8bd5")},e.prototype.showGameClub=function(){console.log("\u663e\u793a\u6e38\u620f\u5708\uff1a",this.gameClub),this.createGameClubButton(),this.gameClub&&(this.gameClub.show(),console.log("\u663e\u793a\u6e38\u620f\u5708\u6210\u529f"))},e.prototype.hideGameClub=function(){this.gameClub&&this.gameClub.hide()},e.prototype.postMessage=function(e,t){var n={message:"",value:t};n.message=e,n.value=t,console.log("\u53d1\u9001\u4fe1\u606f: ",n),wx.getOpenDataContext().postMessage(n)},e.prototype.createFeedbackButton=function(t,n){e.isSupportedAPI(wx.createFeedbackButton)?(this.feedbackButton=wx.createFeedbackButton({type:"image",image:this._feedbackButtonData.url,style:{left:this._feedbackButtonData.x,top:this._feedbackButtonData.y,width:this._feedbackButtonData.width,height:this._feedbackButtonData.height}}),t(this.feedbackButton)):(console.log("=====> @framework,\u5f53\u524d\u5fae\u4fe1\u7248\u672c\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u4f7f\u7528\u53cd\u9988\u6309\u94ae\uff0c\u8bf7\u5347\u7ea7\u5230\u6700\u65b0\u5fae\u4fe1\u7248\u672c\u540e\u91cd\u8bd5"),n())},e.prototype.onTapFeedbackButton=function(e,t){this.feedbackButton?this.feedbackButton.onTap(function(){e()}):t()},e.prototype.showFeedbackButton=function(){this.feedbackButton&&this.feedbackButton.show()},e.prototype.hideFeedbackButton=function(){this.feedbackButton&&this.feedbackButton.hide()},e.prototype.getGameRecorder=function(t,n){e.isSupportedAPI(wx.getGameRecorder)?(this.GameRecorder=wx.getGameRecorder(),t()):n()},e.prototype.registerRecordScreenEvent=function(){var t=this;e.isSupportedAPI(wx.getGameRecorder)?(this.GameRecorder=wx.getGameRecorder(),this.GameRecorder.on("start",function(){t.resumeListener&&t.resumeListener()}),this.GameRecorder.on("pause",function(){t.pauseListener&&t.pauseListener()}),this.GameRecorder.on("stop",function(e){t.stopListener&&(console.log("\u89c6\u9891\u7684\u65f6\u957f\uff1a",e.duration),t.stopListener(e.duration))}),this.GameRecorder.on("error",function(e){console.log("=====> @framework,\u5f55\u5c4f\u9519\u8bef\uff1a",e.error.message,",code: ",e.error.code),t.errorListener&&t.errorListener()}),this.GameRecorder.on("timeUpdate",function(e){console.log("=====> @framework,\u5f55\u5c4f\u5230\u7b2c\u51e0\u79d2\uff1a",e.currentTime),t.timeUpdateListener&&t.timeUpdateListener()}),this.GameRecorder.on("abort",function(){t.abortListener&&t.abortListener()})):console.log("=====> @framework,\u5f53\u524d\u5ba2\u6237\u7aef\u7248\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u4f7f\u7528\u5f55\u5236\u529f\u80fd\uff0c\u8bf7\u5347\u7ea7\u5230\u6700\u65b0\u5ba2\u6237\u7aef\u7248\u672c\u540e\u91cd\u8bd5")},e.prototype.startRecordScreen=function(){},e.prototype.pauseRecordScreen=function(e){this.pauseListener=e,this.GameRecorder.pause()},e.prototype.resumeRecordScreen=function(e){this.resumeListener=e,this.GameRecorder.resume()},e.prototype.stopRecordScreen=function(e){this.stopListener=e,this.GameRecorder.stop()},e.prototype.abortRecordScreen=function(e){this.abortListener=e,this.GameRecorder.abort()},e.prototype.createGameRecorderShareButton=function(){},e.prototype.onShow=function(e){this.showListener=e,wx.onShow(this.onShowListener.bind(this))},e.prototype.offShow=function(){wx.offShow(this.onShowListener)},e.prototype.onHide=function(e){this.hideListener=e,wx.onHide(this.onHideListener.bind(this))},e.prototype.offHide=function(){this.hideListener=null,wx.offHide(this.onHideListener)},e.prototype.onShowListener=function(e){this.showListener&&this.showListener(e)},e.prototype.onHideListener=function(){this.hideListener&&this.hideListener()},e.prototype.navigateToMiniProgram=function(t,n,i,o){e.isSupportedAPI(wx.navigateToMiniProgram)?wx.navigateToMiniProgram({appId:t,path:n,envVersion:"release",success:function(){i()},fail:function(){o()},complete:function(){}}):o()},e.prototype.vibrateLong=function(e){e&&cc.warn("----\x3e vibrateLong \u5fae\u4fe1\u53ef\u80fd\u6ca1\u6709cb"),wx.vibrateLong()},e.prototype.vibrateShort=function(){cc.warn("----\x3e vibrateShort \u5fae\u4fe1\u53ef\u80fd\u6ca1\u6709cb"),wx.vibrateShort()},e.prototype.getSystemInfoSync=function(){this.systemInfo=wx.getSystemInfoSync()},e.isSupportedAPI=function(e){return!!e||(wx.showModal({title:"\u63d0\u793a",content:"\u5f53\u524d\u5fae\u4fe1\u7248\u672c\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u4f7f\u7528\u8be5\u529f\u80fd\uff0c\u8bf7\u5347\u7ea7\u5230\u6700\u65b0\u5fae\u4fe1\u7248\u672c\u540e\u91cd\u8bd5\u3002"}),!1)},e.prototype.exitMiniProgram=function(e){wx.exitMiniProgram(e)},e.prototype.showToast=function(e,t,n){void 0===t&&(t=3e3),wx.showToast({title:e,duration:t,success:function(){n&&n()}})},e.prototype.getSystemInfo=function(e){wx.getSystemInfo({success:function(t){e&&e(t)}})},e.prototype.aldSendEvent=function(e,t){console.log("send msg: ",e),wx.aldSendEvent?t?wx.aldSendEvent(e):wx.aldSendEvent(e,t):console.error("----\x3e \u963f\u62c9\u4e01\u63a5\u5165\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5game.js")},e.prototype.createIconAd=function(){var e=this,t=__spreadArrays(Array(1).map(function(e,t){return{appNameHidden:!1,color:"white",size:100,borderWidth:100,borderColor:"white",left:100*t,top:100}}));this.LiconAD=wx.createGameIcon({adUnitId:this._LIconAdunit,count:null,style:t}),this.LiconAD.onError(function(e){console.log("=====> @framework, \u5c0f\u6e38\u620f\u63a8\u8350\u5de6\u8fb9icon\u52a0\u8f7d\u5931\u8d25\uff1a",e)}),this.LiconAD.onLoad(function(){console.log("=====> @framework, \u5c0f\u6e38\u620f\u63a8\u8350\u5de6\u8fb9icon\u52a0\u8f7d\u6210\u529f")}),this.LiconAD.onResize(function(t){var n;n=e.systemInfo.windowHeight/2-0*t[0].height;for(var i=0;i<t.length;i++)t[i].left=10,t[i].top=n+72*i})},e.prototype.showIconAd=function(e){var t=this;"R"==e?this.RiconAD?this.RiconAD.load().then(function(){t.RiconAD.show()}).catch(function(e){console.error(e)}):setTimeout(this.createIconAd,1e3):this.LiconAD?this.LiconAD.load().then(function(){t.LiconAD.show()}).catch(function(e){console.error(e)}):setTimeout(this.createIconAd,1e3)},e.prototype.createGridAd=function(e){var t=this;this.gridAd=wx.createGridAd({adUnitId:null,adTheme:"white",gridCount:e,adIntervals:30,style:{left:0,top:this.systemInfo.windowHeight/2-350,width:500,opacity:.8}}),this.gridAd.onLoad(function(){console.log("=====> @framework, \u683c\u5b50\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),t.gridAdCunt=e}),this.gridAd.onError(function(e){console.log("=====> @framework, \u683c\u5b50\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a",e)})},e.prototype.showGridAd=function(e){e!=this.gridAdCunt&&(this.gridAd&&this.gridAd.destroy(),this.createGridAd(e)),this.gridAd.show()},e.prototype.hideGridAd=function(){this.gridAd.hide()},e.prototype.showShareMenu=function(e){void 0===e&&(e=!1),window.wx&&wx.showShareMenu({withShareTicket:e,menus:["shareAppMessage","shareTimeline"]})},e._instance=new e,e}();n.Wechat=i._instance,cc._RF.pop()},{}],wxMoudle:[function(e,t){"use strict";cc._RF.push(t,"2826eIXh3lE2obx4RfoUbDP","wxMoudle"),window.kf=window.kf||{},kf.addModule=kf.addModule||function(){},kf.addModule("logic.wxMoudle",function(){return{init:function(){if(window.wxMoudle=this,this.adTypeItem=1,this.adTypeRoundEnd=2,this.adTypeDouble=3,this.bannerAdunit=["1tdp8pkef513sukf3r"],this.reWardPowerAdunit=["13al5nf75c7b266294"],this.interstitialAdunit=["2b91j800ki0egngc88"],this.bannerAdRealHeight=87,window.tt){var e=this.getSystemInfoSync(),t=e.windowWidth,n=e.windowHeight,i=cc.winSize.width/t,o=cc.winSize.height/n;this.bannerAdSize=cc.size(300*i,this.bannerAdRealHeight*o)}else this.bannerAdSize=cc.size(0,0);this._regisiterWXCallback()},_regisiterWXCallback:function(){window.tt&&(this._regisiterOnShow(),this._regisiterOnHide())},_regisiterOnShow:function(){var e=this;window.tt.onShow(function(t){e._onShowCallback(t)})},_onShowCallback:function(e){clientEvent.dispatchEvent("OnWXShow",e)},_regisiterOnHide:function(){window.tt.onHide(this._onHideCallback)},_onHideCallback:function(){clientEvent.dispatchEvent("OnWXHide",null)},getSystemInfoSync:function(){if(window.tt)return window.tt.getSystemInfoSync()},createBannerAd:function(e,t){if(window.tt&&window.tt.createBannerAd){var n=window.tt.createBannerAd({adUnitId:e,adIntervals:30,style:{left:t.x,top:t.y,width:t.width,height:t.height}});return n.onError(function(e){cc.log(e)}),n}},createRewardAD:function(e){if(window.tt){var t=window.tt.createRewardedVideoAd({adUnitId:e});return t.onError(function(e){return cc.log(e),null}),t}},createInterstitialAd:function(e){if(window.tt){var t=window.tt.createInterstitialAd({adUnitId:e});return t.onError(function(e){return cc.log(e),null}),t}},prepareBannerAd:function(){if(window.tt){var e=this.getSystemInfoSync(),t=e.windowWidth,n=e.windowHeight;if(cc.winSize.width,cc.winSize.height,this.banner=this.createBannerAd(this.bannerAdunit[Math.floor(Math.random()*this.bannerAdunit.length)],new cc.Rect(0,n-168.75,300,168.75)),this.banner){var i=this;this.banner.onResize(function(){i.bannerAdSize=cc.size(i.banner.style.realWidth,i.banner.style.realHeight),i.banner.style.left=(t-i.banner.style.realWidth)/2,i.banner.style.top=n-i.banner.style.realHeight})}}},showBannerAD:function(){var e=this;window.tt&&(null==this.banner&&this.prepareBannerAd(),this.banner.show().then(function(){console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f",e.banner)}).catch(function(e){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",e)}))},hideBannerAd:function(){window.tt&&this.banner&&this.banner.hide()},createRewardVideo:function(){var e=this;this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null),this.rewardAdForItem&&this.rewardAdForItem.destroy(),this.rewardAdForItem||(this.rewardAdForItem=this.createRewardAD(this.reWardPowerAdunit[Math.floor(Math.random()*this.reWardPowerAdunit.length)])),this.rewardAdForItem&&(this.rewardAdForItem.onLoad(function(){kf.require("basic.clientEvent").dispatchEvent("VideoAdChange",constants.RewardBtnType.PlayAd),window.videoAd=!0,console.log("###\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f###")}),this.rewardAdForItem.onError(function(){constants.RewardBtnType?kf.require("basic.clientEvent").dispatchEvent("VideoAdChange",constants.RewardBtnType.Share):console.warn("wxMoudle constants.RewardBtnType \u4e0d\u5b58\u5728\uff01"),window.videoAd=!1,e.timeInterval=setInterval(function(){e.createRewardVideo()},3e5),console.log("###\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25###")}))},createInterstitialVideo:function(){var e=this;this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null),this.interstitialAdForRoundEnd&&this.interstitialAdForRoundEnd.destroy(),this.interstitialAdForRoundEnd||this.createInterstitialAd(this.interstitialAdunit[0]),this.interstitialAdForRoundEnd&&(this.interstitialAdForRoundEnd.onLoad(function(){kf.require("basic.clientEvent").dispatchEvent("InterstitialAdChange",constants.RewardBtnType.PlayAd),window.interstitialAd=!0,console.log("###\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f###")}),this.interstitialAdForRoundEnd.onError(function(){constants.RewardBtnType?kf.require("basic.clientEvent").dispatchEvent("InterstitialAdChange",constants.RewardBtnType.Share):console.warn("wxMoudle constants.RewardBtnType \u4e0d\u5b58\u5728\uff01"),window.interstitialAd=!1,e.timeInterval=setInterval(function(){e.createInterstitialVideo()},3e5),console.log("###\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25###")})),this.loadInterstitialVideo()},loadRewardVideo:function(){this.rewardAdForItem&&this.rewardAdForItem.load()},loadInterstitialVideo:function(){this.interstitialAdForRoundEnd&&this.interstitialAdForRoundEnd.load()},playVideoAd:function(e,t){var n=this;return n.onAdClose=function(){e&&e.apply(void 0,arguments),n.onAdClose=function(){}},platform!=PLATFORM_DEFAULT?skipAdBeforeTeach&&!user.isAllTeachEnd()?void n.onAdClose(constants.VideoState.PLAY_END,t):void SdkMgr.watchAd("",function(){n.onAdClose(constants.VideoState.PLAY_END,t)},function(){n.onAdClose(constants.VideoState.CLOSE,t)},function(){n.onAdClose(constants.VideoState.CLOSE,t)}):void n.onAdClose(constants.VideoState.PLAY_END,t)},hideVideoAd:function(){window.tt},playInterstitialAd:function(e,t){if(window.tt){var n=this;n.onAdClose=function(){e&&e.apply(void 0,arguments),n.onAdClose=function(){}},n.currentInterstitialAdID=t,this.interstitialAdForRoundEnd?(window.interstitialAd&&this.interstitialAdForRoundEnd&&(clientEvent.dispatchEvent("pauseBGM"),this.funcCloseInterstitialAdForRoundEnd=function(e){clientEvent.dispatchEvent("resumeBGM"),e&&e.isEnded||void 0===e?n.onAdClose(constants.VideoState.PLAY_END,n.currentInterstitialAdID):n.onAdClose(constants.VideoState.CLOSE,n.currentInterstitialAdID),n.interstitialAdForRoundEnd.offClose(n.funcCloseInterstitialAdForRoundEnd)},this.interstitialAdForRoundEnd.offClose(this.funcCloseInterstitialAdForRoundEnd),this.interstitialAdForRoundEnd.onClose(this.funcCloseInterstitialAdForRoundEnd)),this.interstitialAdForRoundEnd.show().catch(function(){clientEvent.dispatchEvent("resumeBGM"),n.onAdClose(constants.VideoState.CLOSE,n.currentInterstitialAdID),n.loadInterstitialVideo()}).then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f")})):e(constants.VideoState.CLOSE,t)}else e(constants.VideoState.SKIP,t)},hideInterstitialAd:function(){window.tt}}}),cc._RF.pop()},{}],xiaomi:[function(e,t,n){"use strict";cc._RF.push(t,"0d1daIqKT9Db4+/e9lFc74S","xiaomi"),Object.defineProperty(n,"__esModule",{value:!0}),n.XM=void 0;var i=function(){function e(){this._rewardVideoAdUnitId="12345",this._banneradUnitId="12345",this._nativeadUnitId="",this._insertAdUnitId="12345"}return Object.defineProperty(e.prototype,"bannerAdUnitId",{set:function(e){this._banneradUnitId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rewardedVideoAdUnitId",{set:function(e){this._rewardVideoAdUnitId=e},enumerable:!1,configurable:!0}),e.prototype.showRewardedVideoAd=function(e,t){this.rewardedVideoAd=qg.createRewardedVideoAd({adUnitId:this._rewardVideoAdUnitId}),this.rewardedVideoAd.show(),this.rewardedVideoAd.load(),this.rewardedVideoAd.onLoad(function(){console.log("load success")}),this.rewardedVideoAd.onClose(function(n){console.log("close ad: ${data.isEnded}"),n.isEnded?e():t()})},e.prototype.showInterstitialAd=function(){this.interstitialAd=qg.createInterstitialAd({adUnitId:this._insertAdUnitId}),this.interstitialAd.show(),this.interstitialAd.onLoad(function(){console.log("load success")})},e.prototype.showBannerAd=function(){this.bannerAd=qg.createBannerAd({adUnitId:this._banneradUnitId}),this.bannerAd.onLoad(function(){console.log("load success")}),this.bannerAd.show().catch(function(e){return console.log(e)}),this.bannerAd.onError(function(){console.log("error: errorMsg: ${data.msg}, erroCode: ${data.code}")})},e.prototype.hideBannerAd=function(){this.bannerAd&&(this.bannerAd.hide(),this.bannerAd.destroy(),this.bannerAd=null)},e._instance=new e,e}();n.XM=i._instance,cc._RF.pop()},{}]},{},["aengineAdapter","clientConfig","clientEvent","constant","eventListener","fullSceneWidget","jsonTables","jsonTablesSub","overWrite","prefab2Uuid","remote","resMgr","toolCfg","uiManager","uuidUtils","panel","playAdOrShare","preload","kuaishou","kwaigame","meizu","oppoAdMange","toutiao","Vivo","WXCustomAd","wechat","xiaomi","SdkMgr","ATBannerJSSDK","ATInterstitialJSSDK","ATJSSDK","ATNativeJSSDK","ATRewardedVideoJSSDK","ATAndroidBannerJS","ATAndroidInterstitialJS","ATAndroidJS","ATAndroidNativeJS","ATAndroidRewardedVideoJS","ATiOSBannerJS","ATiOSInterstitialJS","ATiOSJS","ATiOSNativeJS","ATiOSRewardedVideoJS","topOnMgr","MiAdMgr","MiSdk","TianYun","UMeng","tyq-event-mgr","tyq-sdk-config","tyq-sdk","tyq-view-mgr","tyq_extend","CrazyBox","DartAd","LandPage","MiFeedAd","OV_NativeAd","Privacypolicy","VerifyRealName","weHttp","weNetworkMgr","user","wxMoudle","comClickNode","nodeAnimation","nodeArrow","nodeBtnArm","nodeBuilding","nodeBuildingArrow","nodeChou","nodeCoin","nodeDaren","nodeDialog","nodeFormBattleEndAds","nodeFormBattleStartAds","nodeFormBattleStartHero","nodeGuanzhi","nodeLight","nodeLoadSpine","nodeLoadSprite","nodeLoading","nodeMenu","nodeMenu0","nodeMenu1","nodeMenu1Pane","nodeMenu2","nodeMenu3","nodeMenu4","nodeMenuArmCell","nodeMenuArmSpine","nodeMenuBingCell","nodeMenuGet","nodeMenuGet3","nodeMenuGet3Item","nodeMenuUnlockArm","nodeNpc","nodeQian","nodeRedPoint","nodeReward","nodeScene","nodeSetting","nodeShop2Item","nodeSkillItem","nodeSpine","nodeWatchAd","nodeWindowEffect","nodeYin","nodeYu","nodeZibao","uiRoot","use_v2.0.x_cc.Toggle_event","loginScene","mainGame"]);